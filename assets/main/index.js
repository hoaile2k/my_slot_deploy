System.register("chunks:///_virtual/APIHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,a,s;return{setters:[function(e){r=e.createClass,t=e.asyncToGenerator,n=e.regeneratorRuntime,a=e.extends},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"49b73giVWhAA4dAklTOy0Oo","APIHandler",void 0),e("APIHandler",function(){function e(){this.tokenRefresher=void 0,this.profileHost="",this.gameHost="",this.jwt=""}var s=e.prototype;return s.buildHeaders=function(e){void 0===e&&(e=!0);var r={};return e&&(r["Content-Type"]="application/json"),this.jwt&&(r.Authorization="Bearer "+this.jwt),r},s.fetchWithRetry=function(){var e=t(n().mark((function e(r,t,s){var u,o,i,c,f,l=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===s&&(s=3),u=s,o=null,i=!1,c=n().mark((function e(){var c,f,h,p,d,v,b,k;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r,t);case 3:return c=e.sent,f=null,e.prev=5,e.next=8,c.json();case 8:f=e.sent,e.next=23;break;case 11:return e.prev=11,e.t0=e.catch(5),e.prev=13,h=c.clone(),e.next=17,h.json();case 17:f=e.sent,e.next=23;break;case 20:e.prev=20,e.t1=e.catch(13),f=null;case 23:if(!c.ok){e.next=26;break}return u<s&&console.log("[APIHandler] Request succeeded after "+(s-u)+" retry(ies): "+r),e.abrupt("return",{v:null!=(p=f)?p:null});case 26:if(429!==c.status){e.next=29;break}return console.warn("[APIHandler] Rate limit exceeded: "+r),e.abrupt("return",0);case 29:if(401!==c.status||!l.tokenRefresher||i){e.next=45;break}return console.log("[APIHandler] Unauthorized (401). Attempting token refresh..."),i=!0,e.next=34,l.tokenRefresher();case 34:if(!e.sent){e.next=43;break}return v=new Headers(t.headers||{}),b=l.buildHeaders(!v.has("Content-Type")||(null==(d=v.get("Content-Type"))?void 0:d.includes("application/json"))),Object.entries(b).forEach((function(e){var r=e[0],t=e[1];v.set(r,t)})),t=a({},t,{headers:v}),e.abrupt("return",1);case 43:return console.error("[APIHandler] Token refresh failed for: "+r),e.abrupt("return",0);case 45:u--,console.warn("[APIHandler] Request failed with status "+c.status+": "+r),o=f,e.next=56;break;case 50:if(e.prev=50,e.t2=e.catch(0),u--,console.error("[APIHandler] Error fetching data from "+r+":",e.t2),0!==u){e.next=56;break}return e.abrupt("return",{v:o});case 56:return k=300*(s-u),e.next=59,new Promise((function(e){return setTimeout(e,k)}));case 59:case"end":return e.stop()}}),e,null,[[0,50],[5,11],[13,20]])}));case 5:if(!(u>0)){e.next=16;break}return e.delegateYield(c(),"t0",7);case 7:if(0!==(f=e.t0)){e.next=10;break}return e.abrupt("break",16);case 10:if(1!==f){e.next=12;break}return e.abrupt("continue",5);case 12:if(!f){e.next=14;break}return e.abrupt("return",f.v);case 14:e.next=5;break;case 16:return console.error("[APIHandler] Request failed after "+s+" retries: "+r),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),s.get=function(){var e=t(n().mark((function e(r,t){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=3),a={method:"GET",headers:this.buildHeaders()},e.abrupt("return",this.fetchWithRetry(r,a,t));case 3:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}(),s.post=function(){var e=t(n().mark((function e(r,t,a){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=3),s={method:"POST",headers:this.buildHeaders(),body:JSON.stringify(r)},e.abrupt("return",this.fetchWithRetry(t,s,a));case 3:case"end":return e.stop()}}),e,this)})));return function(r,t,n){return e.apply(this,arguments)}}(),s.put=function(){var e=t(n().mark((function e(r,t,a){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=3),s={method:"PUT",headers:this.buildHeaders(),body:JSON.stringify(r)},e.abrupt("return",this.fetchWithRetry(t,s,a));case 3:case"end":return e.stop()}}),e,this)})));return function(r,t,n){return e.apply(this,arguments)}}(),s.putFormData=function(){var e=t(n().mark((function e(r,t,a){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=3),s={method:"PUT",headers:this.buildHeaders(!1),body:r},e.abrupt("return",this.fetchWithRetry(t,s,a));case 3:case"end":return e.stop()}}),e,this)})));return function(r,t,n){return e.apply(this,arguments)}}(),s.registerTokenRefresher=function(e){this.tokenRefresher=e,console.log("[APIHandler] Token refresher registered")},s.fetchWithTimeout=function(){var e=t(n().mark((function e(r,t,s){var u,o,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=new AbortController,o=setTimeout((function(){return u.abort()}),s),e.prev=2,e.next=5,fetch(r,a({},t,{signal:u.signal}));case 5:return i=e.sent,clearTimeout(o),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(2),clearTimeout(o),e.t0 instanceof Error&&"AbortError"===e.t0.name?console.error("[APIHandler] Request timeout after "+s+"ms: "+r):console.error("[APIHandler] Request error: "+r,e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(r,t,n){return e.apply(this,arguments)}}(),r(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/ApiTypes.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"c505ceKC85F9LDNHM/jUa4t","ApiTypes",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ApiURL.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"241687JRU1OnrQEfbKXU2Pf","ApiURL",void 0);t("ApiURL",function(t){return t.BASE_URL="http://172.10.10.79:3005/golden/api",t.WS_BASE_URL="wss://slot-stag.osyamazakiglobel.club/game",t.POST_REGISTER="/iam/auth/register",t.POST_LOGIN="/iam/auth/login",t.POST_REFRESH_TOKEN="/iam/auth/refresh",t.GET_BALANCE="/iam/balance/USD",t.GET_TRANSACTIONS_HISTORY="/wallet/transactions",t.GET_CONFIGURATION="/game/config",t.GET_SETTINGS="/game/settings",t.GET_FREE_SPINS="/bonus/free-spins/status",t}({})),t("ApiType",function(t){return t.SPIN="/spin",t.GET_LASTED_SESSION="/sessions",t}({})),t("EnvDir",function(t){return t.LOCAL="",t.DEV="",t.STAGING="",t.PROD="",t}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginManager.ts","./index5.ts","./GameApiManager.ts","./GameNetworkManager.ts","./APIHandler.ts","./LoadingOverlay.ts","./ScreenManager.ts","./ScreenConfig.ts"],(function(e){var n,r,t,o,a,i,c,s,u,l,p,f,g;return{setters:[function(e){n=e.inheritsLoose,r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,i=e.Component},function(e){c=e.LoginManager},null,function(e){s=e.GameApiManager},function(e){u=e.default},function(e){l=e.APIHandler},function(e){p=e.LoadingOverlay},function(e){f=e.ScreenManager},function(e){g=e.ScreenType}],execute:function(){var h;o._RF.push({},"33723NB0alGfpBd34McCO9L","AppController",void 0);var x=a.ccclass;e("AppController",x("AppController")(h=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var a=o.prototype;return a.onLoad=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[AppController] Initializing app...");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.start=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializeApp();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.initializeApp=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.show(),p.setLoopingProgressText("Processing...",!0),e.prev=2,(n=c.instance.isAuthenticated())||!c.instance.getAccessToken()){e.next=10;break}return console.log("[AppController] Token expired, attempting refresh..."),e.next=8,c.instance.refreshToken();case 8:e.sent?(console.log("[AppController] Token refreshed successfully"),n=!0):console.log("[AppController] Token refresh failed");case 10:if(!n){e.next=18;break}return e.next=13,this.initializeGame();case 13:return e.next=15,this.showMainScreen();case 15:p.hide(),e.next=21;break;case 18:return e.next=20,this.showLoginScreen();case 20:p.hide();case 21:e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(2),console.error("[AppController] Error during initialization:",e.t0),e.next=28,this.showLoginScreen();case 28:p.hide();case 29:case"end":return e.stop()}}),e,this,[[2,23]])})));return function(){return e.apply(this,arguments)}}(),a.initializeGame=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("[AppController] Initializing game data..."),e.next=4,s.instance.getBalance();case 4:return e.next=6,s.instance.getConfiguration();case 6:return e.next=8,s.instance.getSettings();case 8:return e.next=10,s.instance.getFreeSpinsStatus();case 10:if(!(n=l.instance.jwt)){e.next=14;break}return e.next=14,u.instance.connect(n);case 14:console.log("[AppController] Game data initialized"),e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(0),console.error("[AppController] Error initializing game:",e.t0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),a.showLoginScreen=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=f.Instance)){e.next=7;break}return console.log("[AppController] Showing login screen"),e.next=5,n.showScreen(g.LOGIN);case 5:e.next=8;break;case 7:console.error("[AppController] ScreenManager not found");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.showMainScreen=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=f.Instance)){e.next=7;break}return console.log("[AppController] Showing main screen"),e.next=5,n.showScreen(g.MAIN);case 5:e.next=8;break;case 7:console.error("[AppController] ScreenManager not found");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o}(i))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var r,e,t,o,i;return{setters:[function(n){r=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){t=n.cclegacy,o=n.director,i=n.Director}],execute:function(){function c(){return new Promise((function(n){try{o.once(i.EVENT_AFTER_UPDATE,(function(){n()}))}catch(r){console.error("[AsyncUtil] Error in nextFrame:",r),n()}}))}function a(){return(a=r(e().mark((function n(r,t){var o,i,a,u;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t&&(t=1/0),r&&"function"==typeof r){n.next=4;break}return console.error("[AsyncUtil] Invalid condition function"),n.abrupt("return",!1);case 4:n.prev=4,o=function(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()},i=t===1/0?1/0:o()+1e3*t,a=0,u=1e4;case 9:if(n.prev=10,!r()){n.next=13;break}return n.abrupt("return",!0);case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(10),console.error("[AsyncUtil] Error in condition function:",n.t0),n.abrupt("return",!1);case 19:if(!(o()>i)){n.next=21;break}return n.abrupt("return",!1);case 21:if(!(++a>u)){n.next=25;break}return console.warn("[AsyncUtil] waitUntil exceeded max iterations"),n.abrupt("return",!1);case 25:return n.next=27,c();case 27:n.next=9;break;case 29:n.next=35;break;case 31:return n.prev=31,n.t1=n.catch(4),console.error("[AsyncUtil] Error in waitUntil:",n.t1),n.abrupt("return",!1);case 35:case"end":return n.stop()}}),n,null,[[4,31],[10,15]])})))).apply(this,arguments)}function u(){return(u=r(e().mark((function n(r){var t;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===r&&(r=1),!(r<0)&&isFinite(r)){n.next=4;break}return console.warn("[AsyncUtil] Invalid frame count:",r),n.abrupt("return");case 4:n.prev=4,t=Math.floor(r);case 6:if(!(t>0)){n.next=12;break}return n.next=9,c();case 9:t--,n.next=6;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),console.error("[AsyncUtil] Error in waitForFrames:",n.t0);case 17:case"end":return n.stop()}}),n,null,[[4,14]])})))).apply(this,arguments)}n({nextFrame:c,sleep:function(n){void 0===n&&(n=0);return new Promise((function(r){try{var e=1e3*n;if(e<0||!isFinite(e))return console.warn("[AsyncUtil] Invalid sleep duration:",n),void r();setTimeout((function(){r()}),e)}catch(n){console.error("[AsyncUtil] Error in sleep:",n),r()}}))},waitEvent:function(n,r,e){void 0===e&&(e=0);return new Promise((function(t){if(!n||!r)return console.error("[AsyncUtil] Invalid target or event type"),void t(null);var o=null,i=!1,c=function(){if(!i){i=!0;try{n.off(r,a)}catch(n){console.error("[AsyncUtil] Error removing event listener:",n)}o&&(clearTimeout(o),o=null)}},a=function(n){c(),t(n)};try{n.on(r,a),e>0&&(o=setTimeout((function(){c(),t(null)}),1e3*e))}catch(n){console.error("[AsyncUtil] Error in waitEvent:",n),c(),t(null)}}))},waitForFrames:function(n){return u.apply(this,arguments)},waitUntil:function(n,r){return a.apply(this,arguments)},waitUntilInterval:function(n,r,e){void 0===r&&(r=50);void 0===e&&(e=0);return new Promise((function(t){if(!n||"function"!=typeof n)return console.error("[AsyncUtil] Invalid condition function"),void t(!1);if(r<0||!isFinite(r))return console.warn("[AsyncUtil] Invalid interval:",r),void t(!1);var o=null,i=!1,c=function(){i||(i=!0,o&&(clearInterval(o),o=null))};try{var a=Date.now();o=setInterval((function(){try{if(n())return c(),void t(!0);if(e>0&&Date.now()-a>=e)return c(),void t(!1)}catch(n){console.error("[AsyncUtil] Error in condition function:",n),c(),t(!1)}}),r)}catch(n){console.error("[AsyncUtil] Error in waitUntilInterval:",n),c(),t(!1)}}))}}),t._RF.push({},"8cf5cPFNbNNK6ANEIFZBot5","AsyncUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/AutoSpinPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./Events.ts","./RGPComponent.ts"],(function(n){var i,t,e,o,r,a,l,s,c,p,u,h,v,f;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Node,s=n.Button,c=n.tween,p=n.easing,u=n.instantiate,h=n.Label},null,function(n){v=n.GLOBAL_EVENTS},function(n){f=n.RGPComponent}],execute:function(){var P,g,y,d,S,b,A,T,w;r._RF.push({},"95cc2TZ9VlHObGbhdg3HqB5","AutoSpinPanel",void 0);var C=a.ccclass,I=a.property;n("AutoSpinPanel",(P=C("AutoSpinPanel"),g=I(l),y=I(l),d=I(l),P((A=i((b=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,e(i,"btnAutoSpin",A,o(i)),e(i,"wrapperAutoSpin",T,o(i)),e(i,"overlay",w,o(i)),i.AUTO_SPIN=[25,50,100,200,-1],i.originalPos=null,i.cb=void 0,i}t(i,n);var r=i.prototype;return r.onLoad=function(){n.prototype.onLoad.call(this),this.originalPos=this.node.position.clone(),this.initPanel()},r.initPanel=function(){var n=this;this.btnAutoSpin.active=!1,this.wrapperAutoSpin.removeAllChildren();for(var i=function(){var i=n.AUTO_SPIN[t],e=u(n.btnAutoSpin);e.active=!0,e.parent=n.wrapperAutoSpin,e.getComponentInChildren(h).string=-1!=i?i.toString():"00",e.off(s.EventType.CLICK),e.on(s.EventType.CLICK,(function(){n.hidePanel(),n.fireEvent(v.SEND_AUTO_SPIN,{autoSpinValue:i})}))},t=0;t<this.AUTO_SPIN.length;t++)i();this.overlay.on(s.EventType.CLICK,this.hidePanel,this)},r.showPanel=function(n){var i=this;this.cb=n,this.node.active=!0,this.originalPos||(this.originalPos=this.node.position.clone());var t=this.originalPos.clone();t.y-=100,this.node.setPosition(t);var e=this.TweenService.getTweenComponent(this.node);e.opacity=0,this.startTween(c(e).to(.25,{opacity:255,position:this.originalPos},{easing:p.sineInOut}).call((function(n){n.position=i.originalPos,n.opacity=255})))},r.hidePanel=function(){var n=this;this.originalPos||(this.originalPos=this.node.position.clone());var i=this.originalPos.clone();i.y-=100;var t=this.TweenService.getTweenComponent(this.node);this.startTween(c(t).to(.25,{opacity:0,position:i},{easing:p.sineInOut}).call((function(){n.cb&&n.cb(),n.cb=null,n.node.active=!1})))},r.cleanup=function(){var n;null==(n=this.overlay)||n.off(s.EventType.CLICK,this.hidePanel,this)},i}(f)).prototype,"btnAutoSpin",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(b.prototype,"wrapperAutoSpin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(b.prototype,"overlay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/BasePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupConfig.ts","./PopupData.ts"],(function(t){var n,i,e,o,a,s,r,c,l,u,h,p,f,v,d,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,r=t._decorator,c=t.Enum,l=t.Button,u=t.Node,h=t.Vec3,p=t.tween,f=t.Component},function(t){v=t.PopupType},function(t){d=t.PopupStorage,C=t.PopupAnimationData}],execute:function(){var b,g,w,y,m,D,A,P,T,z,E,I,k,B,S;s._RF.push({},"23d6d1KR/ZFk5ynshpEmFn7","BasePopup",void 0);var H=r.ccclass,R=r.property;t("BasePopup",(b=H("BasePopup"),g=R({type:c(v)}),w=R({type:c(d)}),y=R([l]),m=R(u),D=R({type:[C],visible:function(){return!!this.contentContainer}}),A=R({type:[C],visible:function(){return!!this.contentContainer}}),b((z=n((T=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,e(n,"type",z,o(n)),e(n,"storage",E,o(n)),e(n,"btnCloses",I,o(n)),e(n,"contentContainer",k,o(n)),e(n,"showAnimationData",B,o(n)),e(n,"hideAnimationData",S,o(n)),n.data=void 0,n.onCloseCallback=function(){},n.currentTween=null,n.isInitialized=!1,n.isDeactivating=!1,n}i(n,t);var s=n.prototype;return s.onLoad=function(){this.node.active=!1,this.initialize()},s.onEnable=function(){this.isInitialized||this.initialize()},s.onDisable=function(){},s.onDestroy=function(){this.stopAnimation(),this.cleanup()},s.initialize=function(){this.isInitialized||(this.setupUI(),this.isInitialized=!0)},s.setupUI=function(){if(this.btnCloses&&this.btnCloses.length>0)for(var t,n=a(this.btnCloses);!(t=n()).done;){var i=t.value;i&&i.node&&i.node.on(l.EventType.CLICK,this.onCloseButtonClick,this)}},s.onDataReceived=function(t){this.data=t},s.onShow=function(){},s.onHide=function(){},s.cleanup=function(){if(this.stopAnimation(),this.btnCloses&&this.btnCloses.length>0)for(var t,n=a(this.btnCloses);!(t=n()).done;){var i=t.value;i&&i.node&&i.node.off(l.EventType.CLICK,this.onCloseButtonClick,this)}this.onCloseCallback=function(){},this.data=null},s.setup=function(t){this.isDeactivating?console.warn("[BasePopup] Cannot setup popup while deactivating"):(null!=t&&t.onClose&&(this.onCloseCallback=t.onClose),void 0!==(null==t?void 0:t.storage)&&(this.storage=t.storage),this.onDataReceived(t),this.active(),this.playShowAnimation(),this.onShow())},s.active=function(){this.node.active=!0,this.isDeactivating=!1},s.deactive=function(){this.node.active&&!this.isDeactivating&&(this.isDeactivating=!0,this.onHide(),this.playHideAnimation())},s.onCloseButtonClick=function(){this.deactive()},s.playShowAnimation=function(){if(this.contentContainer){this.stopAnimation(),this.contentContainer.setScale(h.ZERO),this.currentTween=p(this.contentContainer);for(var t,n=a(this.showAnimationData);!(t=n()).done;){var i=t.value;this.currentTween.to(i.time,{scale:i.scale})}this.currentTween.start()}},s.playHideAnimation=function(){var t=this;if(this.contentContainer){this.stopAnimation(),this.currentTween=p(this.contentContainer);for(var n,i=a(this.hideAnimationData);!(n=i()).done;){var e=n.value;this.currentTween.to(e.time,{scale:e.scale})}this.currentTween.call((function(){t.handleDeactive()})).start()}else this.handleDeactive()},s.stopAnimation=function(){this.currentTween&&(this.currentTween.stop(),this.currentTween=null)},s.handleDeactive=function(){this.node.active=!1,this.isDeactivating=!1;var t=this.onCloseCallback;this.onCloseCallback=function(){},this.storage!==d.DESTROY&&this.storage!=d.CACHE||this.node.destroy(),null==t||t()},s.getPopupType=function(){return this.type},s.getStorage=function(){return this.storage},s.isVisible=function(){return this.node.active&&!this.isDeactivating},s.close=function(){this.deactive()},n}(f)).prototype,"type",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.GENERIC_POPUP}}),E=n(T.prototype,"storage",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.CACHE}}),I=n(T.prototype,"btnCloses",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(T.prototype,"contentContainer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(T.prototype,"showAnimationData",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new C(.2,new h(1.1,1.1,1)),new C(.125,new h(1,1,1))]}}),S=n(T.prototype,"hideAnimationData",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new C(.2,new h(0,0,0))]}}),P=T))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseReel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./GameConstants.ts","./SlotSymbol.ts","./RGPComponent.ts"],(function(t){var e,o,i,s,n,l,r,a,m,y,h,u,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,r=t.Prefab,a=t.Enum,m=t.UITransform,y=t.instantiate},null,function(t){h=t.ESlotSymbol},function(t){u=t.SlotSymbol},function(t){b=t.RGPComponent}],execute:function(){var p,c,f,S,g,d,R,w,v,C,P;n._RF.push({},"cd44e1LLPVB5YibKF1tQQnR","BaseReel",void 0);var O=l.ccclass,B=l.property;t("BaseReel",(p=O("BaseReel"),c=B({displayName:"Symbols setup"}),f=B({displayName:"Symbols showing"}),S=B({displayName:"Prefab symbol",type:r}),g=B({displayName:"Default Symbols",type:[a(h)]}),p((w=e((R=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"symOfReel",w,s(e)),i(e,"symShowing",v,s(e)),i(e,"prefabSymbol",C,s(e)),i(e,"defaultReel",P,s(e)),e.listSymbols=[],e.showingSymbols=[],e.outSymbols=[],e.mapOriginPosSymbols=new Map,e.symbolHeight=0,e}o(e,t);var n=e.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this),this.setupReel()},n.setupReel=function(){this.symbolHeight=this.prefabSymbol.data.getComponent(m).height;var t=this.symbolHeight*Math.floor(this.symOfReel/2);this.node.removeAllChildren(),this.listSymbols=[],this.showingSymbols=[],this.outSymbols=[];for(var e=0;e<this.symOfReel;e++){var o=y(this.prefabSymbol);o.parent=this.node,o.setPosition(0,t,0),o.name="symbol"+e,t-=this.symbolHeight,this.listSymbols.push(o),this.mapOriginPosSymbols.set(o,o.getPosition())}for(var i=Math.floor((this.symOfReel-this.symShowing)/2),s=i+this.symShowing,n=0;n<this.listSymbols.length;n++)if(n>=i&&n<s){var l=this.defaultReel[n-i];this.listSymbols[n].getComponent(u).playIdle(l),this.showingSymbols.push(this.listSymbols[n])}else this.outSymbols.push(this.listSymbols[n]),this.listSymbols[n].active=!1},n.getCurrentSymbols=function(){return this.showingSymbols},n.getShowingSymbolCodes=function(){return this.showingSymbols.map((function(t){var e=t.getComponent(u);return e?e.getCurCode():""}))},n.showAllSymbols=function(){this.listSymbols.forEach((function(t){t.active=!0}))},n.hideOutScreenSymbols=function(){this.outSymbols.forEach((function(t){t.active=!1}))},e}(b)).prototype,"symOfReel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),v=e(R.prototype,"symShowing",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),C=e(R.prototype,"prefabSymbol",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(R.prototype,"defaultReel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[h.Orange,h.Banana,h.Grapes]}}),d=R))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenConfig.ts","./RGPComponent.ts"],(function(e){var n,t,i,o,r,a,c,s,u,l,h,f,p,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,i=e.inheritsLoose,o=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,c=e._decorator,s=e.CCFloat,u=e.Vec3,l=e.Enum,h=e.Node,f=e.tween},function(e){p=e.ScreenType},function(e){w=e.RGPComponent}],execute:function(){var d,m,y,b,v,T,z,D,S,C,g,A,I,H,R,B,F,E;a._RF.push({},"02dbf6m2QFKYqBXHxHO9g/U","BaseScreen",void 0);var L=c.ccclass,O=c.property,P=e("ScreenAnimationData",(d=L("ScreenAnimationData"),m=O(s),y=O(u),d((T=n((v=function(e,n){t(this,"time",T,this),t(this,"scale",z,this),void 0!==e&&(this.time=e),void 0!==n&&(this.scale=n.clone())}).prototype,"time",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),z=n(v.prototype,"scale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(1,1,1)}}),b=v))||b));e("BaseScreen",(D=L("BaseScreen"),S=O({type:l(p)}),C=O(h),g=O({type:[P],visible:function(){return!!this.contentContainer}}),A=O({type:[P],visible:function(){return!!this.contentContainer}}),D((R=n((H=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,t(n,"screenType",R,o(n)),t(n,"contentContainer",B,o(n)),t(n,"showAnimationData",F,o(n)),t(n,"hideAnimationData",E,o(n)),n.data=void 0,n.currentTween=null,n.isInitialized=!1,n}i(n,e);var a=n.prototype;return a.onLoad=function(){this.node.active=!1,this.initialize()},a.onEnable=function(){this.isInitialized||this.initialize(),this.onShow()},a.onDisable=function(){this.onHide()},a.onDestroy=function(){this.currentTween&&(this.currentTween.stop(),this.currentTween=null),this.cleanup()},a.initialize=function(){this.isInitialized||(this.isInitialized=!0,this.setupUI())},a.setupUI=function(){},a.setup=function(e){this.data=e,this.onDataReceived(e),this.playShowAnimation()},a.onDataReceived=function(e){},a.onShow=function(){},a.onHide=function(){},a.cleanup=function(){},a.show=function(){this.node.active=!0},a.hide=function(){this.node.active=!1},a.playShowAnimation=function(){if(this.contentContainer){this.currentTween&&this.currentTween.stop(),this.contentContainer.setScale(u.ZERO),this.currentTween=f(this.contentContainer);for(var e,n=r(this.showAnimationData);!(e=n()).done;){var t=e.value;this.currentTween.to(t.time,{scale:t.scale})}this.currentTween.start()}},a.playHideAnimation=function(){var e=this;if(this.contentContainer){this.currentTween&&this.currentTween.stop(),this.currentTween=f(this.contentContainer);for(var n,t=r(this.hideAnimationData);!(n=t()).done;){var i=n.value;this.currentTween.to(i.time,{scale:i.scale})}this.currentTween.call((function(){e.hide()})).start()}else this.hide()},a.getScreenType=function(){return this.screenType},a.isVisible=function(){return this.node.active},n}(w)).prototype,"screenType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.NONE}}),B=n(H.prototype,"contentContainer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(H.prototype,"showAnimationData",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new P(.2,new u(1,1,1))]}}),E=n(H.prototype,"hideAnimationData",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new P(.2,new u(0,0,0))]}}),I=H))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/BasicPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts"],(function(t){var n,i,e,l,o,r,u,c,a;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,u=t.Label,c=t.Button},function(t){a=t.BasePopup}],execute:function(){var p,s,f,b,h,B,g,L,C,R,y,v,d,k,z;o._RF.push({},"09dce7ipO1Biq2hTNgrunvq","BasicPopup",void 0);var P=r.ccclass,m=r.property;t("BasicPopup",(p=P("BasicPopup"),s=m(u),f=m(u),b=m(u),h=m(u),B=m(c),g=m(c),p((R=n((C=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,e(n,"lbTitle",R,l(n)),e(n,"lbContent",y,l(n)),e(n,"lbBtnLeft",v,l(n)),e(n,"lbBtnRight",d,l(n)),e(n,"btnLeft",k,l(n)),e(n,"btnRight",z,l(n)),n.onLeftBtnClick=function(){},n.onRightBtnClick=function(){},n}i(n,t);var o=n.prototype;return o.onLoad=function(){var n,i,e=this;t.prototype.onLoad.call(this),null==(n=this.btnLeft)||n.node.on(c.EventType.CLICK,(function(){null==e.onLeftBtnClick||e.onLeftBtnClick()})),null==(i=this.btnRight)||i.node.on(c.EventType.CLICK,(function(){null==e.onRightBtnClick||e.onRightBtnClick()}))},o.setup=function(n){t.prototype.setup.call(this,n),n&&(n.textBtnLeft&&(this.lbBtnLeft.string=n.textBtnLeft),n.textBtnRight&&(this.lbBtnRight.string=n.textBtnRight),n.title&&(this.lbTitle.string=n.title),n.content&&(this.lbContent.string=n.content),this.onLeftBtnClick=null==n?void 0:n.onBtnLeftClick,this.onRightBtnClick=null==n?void 0:n.onBtnRightClick,this.btnLeft&&(this.btnLeft.node.active=n.textBtnLeft||n.onBtnLeftClick),this.btnRight&&(this.btnRight.node.active=n.textBtnRight||n.onBtnRightClick))},n}(a)).prototype,"lbTitle",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(C.prototype,"lbContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(C.prototype,"lbBtnLeft",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(C.prototype,"lbBtnRight",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(C.prototype,"btnLeft",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(C.prototype,"btnRight",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=C))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WinEffect.ts","./GameDataWrapper.ts","./Events.ts","./Declaration.ts","./SoundConfig.ts"],(function(t){var n,e,i,o,a,r,s,u,c,l,p,m,h,f,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.sp,u=t.Node,c=t.tween,l=t.Vec3,p=t.easing},function(t){m=t.WinEffect},function(t){h=t.EWinType},function(t){f=t.GLOBAL_EVENTS},null,function(t){g=t.SoundType}],execute:function(){var w,A,d,y,_,T,b,S,E,v,W,x,N;a._RF.push({},"4ce08dMi1lDVZUniY8PuPIw","BigWinEffect",void 0);var B=r.ccclass,D=r.property,P="anim_1_popup1",I="anim_1_popup_idle",M="anim_popup1_twinke1",k="anim_4_gold_rain",L="anim_popup1_bigwin",O="anim_popup1_boomingwin",C="anim_popup1_legendarywin",V="anim_popup1_megawin";t("BigWinEffect",(w=B("BigWinEffect"),A=D(s.Skeleton),d=D(s.Skeleton),y=D(s.Skeleton),_=D(s.Skeleton),T=D(u),w((E=n((S=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"animPopup",E,o(n)),i(n,"animVfx",v,o(n)),i(n,"animText",W,o(n)),i(n,"animCoin",x,o(n)),i(n,"boardAnim",N,o(n)),n.lastAmount=0,n.targetAmount=0,n._currentExtraData=[],n}e(n,t);var a=n.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this)},a.show=function(n,e,i){void 0===e&&(e={}),t.prototype.show.call(this,n,e),this.SoundManager.playOneShot(g.BIG_WIN),this._currentExtraData=i,this.setSequenceShowing(i)},a.setSequenceShowing=function(t){var n=this;if(t&&t.length>0){var e,i=[];t.forEach((function(t,e){var o=t.winType,a=t.targetWinAmount,r=t.duration;i.push(c().call((function(){n.lastAmount=n.targetAmount,n.targetAmount=a;var t=n.getAnimByType(o);n.animVfx.setAnimation(0,M,!0),n.animText.setAnimation(0,t,!1),n.fireEvent(f.UPDATE_WIN_AMOUNT,{fromAmount:n.lastAmount,toAmount:a,duration:r}),n.tweenSequenceLabel(r),e>0&&(n.animCoin.node.active=!0,n.animCoin.setAnimation(0,k,!1),n.transitionBigWin())})).delay(r))})),this.startTween((e=c(this.node)).sequence.apply(e,i))}},a.showWinAmount=function(n,e){t.prototype.showWinAmount.call(this,n,e,.5),this.animPopup.setAnimation(0,P,!1),this.animPopup.addAnimation(0,I,!0)},a.transitionBigWin=function(){var t=this.TweenService.getTweenComponent(this.boardAnim);this.startTween(c(t).to(.25,{scale:new l(.1,.1,.1)},{easing:p.backIn}).to(.5,{scale:l.ONE},{easing:"backOut"}).call((function(t){t.scale=new l(1,1,1),t.opacity=255})))},a.tweenLabel=function(t,n){},a.tweenSequenceLabel=function(t){var n=this;this.TweenService.tweenMoney(this.lblWinAmount.node,{from:this.lastAmount,to:this.targetAmount,duration:t,isFormatFullMoney:!0,onTweening:function(t){n.customTweeningMoney(t)}})},a.getAnimByType=function(t){switch(t){case h.BIG_WIN:return L;case h.BOOMING_WIN:return O;case h.MEGA_WIN:return V;case h.LEGENDARY_WIN:return C;default:return}},a.skipRewardMoney=function(){if(this.TweenService.clearNodeTweens(this.node),this.TweenService.clearNodeTweens(this.boardAnim),this.lblWinAmount.node.scale=l.ONE,this.boardAnim.scale=l.ONE,this.TweenService.getTweenComponent(this.boardAnim).opacity=255,this._currentExtraData&&this._currentExtraData.length>0){var n=this._currentExtraData[this._currentExtraData.length-1],e=this.getAnimByType(n.winType);this.animText.setAnimation(0,e,!1)}this.animText.timeScale=999,t.prototype.skipRewardMoney.call(this)},a.resetAnim=function(){t.prototype.resetAnim.call(this),this.animPopup.timeScale=1,this.animVfx.timeScale=1,this.animText.timeScale=1,this.animPopup.setToSetupPose(),this.animVfx.setToSetupPose(),this.animText.setToSetupPose(),this.targetAmount=0,this.lastAmount=0,this.animCoin.node.active=!1},n}(m)).prototype,"animPopup",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(S.prototype,"animVfx",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(S.prototype,"animText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(S.prototype,"animCoin",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(S.prototype,"boardAnim",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/BoatControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./RGPComponent.ts"],(function(t){var n,a,i,o,e,l,r,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){e=t.cclegacy,l=t._decorator,r=t.sp},null,function(t){s=t.RGPComponent}],execute:function(){var c,u,m,p,h;e._RF.push({},"880cajZ9D5J3L6ERS+uDU7W","BoatControl",void 0);var d=l.ccclass,f=l.property;t("BoatControl",(c=d("BoatControl"),u=f(r.Skeleton),c((h=n((p=function(t){function n(){for(var n,a=arguments.length,e=new Array(a),l=0;l<a;l++)e[l]=arguments[l];return n=t.call.apply(t,[this].concat(e))||this,i(n,"animBoat",h,o(n)),n}a(n,t);var e=n.prototype;return e.onLoad=function(){t.prototype.onLoad.call(this)},e.cleanup=function(){this.unscheduleAllCallbacks()},e.playSank=function(){this.animBoat&&(this.unscheduleAllCallbacks(),this.animBoat.setAnimation(0,"anim_boat_sank",!1),this.animBoat.addAnimation(0,"anim_idle_boat_sank",!0))},e.playFloating=function(){var t=this;if(this.animBoat){this.unscheduleAllCallbacks();var n=this.animBoat.setAnimation(0,"anim_boat_sank",!1),a=0;n&&(n.timeScale=-1,n.trackTime=n.animation.duration,a=n.animation.duration),this.scheduleOnce((function(){t.animBoat&&t.animBoat.isValid&&t.animBoat.setAnimation(0,"anim_idle_boat_floating",!0)}),a)}},n}(s)).prototype,"animBoat",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=p))||m));e._RF.pop()}}}));

System.register("chunks:///_virtual/CommandManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,a;return{setters:[function(n){e=n.createForOfIteratorHelperLoose},function(n){a=n.cclegacy}],execute:function(){a._RF.push({},"13902eeZkJBX6dXAdIklUkk","CommandManager",void 0);var t=n("CommandState",function(n){return n[n.IDLE=0]="IDLE",n[n.RUNNING=1]="RUNNING",n[n.COMPLETED=2]="COMPLETED",n[n.CANCELLED=3]="CANCELLED",n}({}));n("CommandManager",function(){function n(){this._channels=new Map}var a=n.prototype;return a.clearAll=function(){this._channels.forEach((function(n){n.queuedCommands=[],n.runningCommands.forEach((function(n){return n.cancel()})),n.runningCommands=[]})),this._channels.clear()},a.onUpdate=function(n){for(var a,t=e(this._channels);!(a=t()).done;){var s=a.value,u=s[0],o=s[1];0!==o.queuedCommands.length||0!==o.runningCommands.length?this.processChannel(o,n):this._channels.delete(u)}},a.processChannel=function(n,e){if(n.runningCommands.length>0){for(var a=n.runningCommands.length-1;a>=0;a--){var s=n.runningCommands[a];s.state===t.RUNNING&&s.update(e),s.state!==t.COMPLETED&&s.state!==t.CANCELLED||n.runningCommands.splice(a,1)}if(n.runningCommands.length>0)return}if(n.queuedCommands.length>0){var u=n.queuedCommands.shift();this.executeCommand(n,u)}},a.executeCommand=function(n,e){n.runningCommands.push(e),e.execute()},a.skip=function(n){var e=this._channels.get(n);e&&e.runningCommands.length>0&&e.runningCommands.forEach((function(n){return n.cancel()}))},a.runCommandChannel=function(n,e){var a=this;e.forEach((function(e){a.add(n,e)}))},a.add=function(n,e,a){void 0===a&&(a=!1);var t=this.getChannelData(n);a?t.queuedCommands.unshift(e):t.queuedCommands.push(e)},a.getChannelData=function(n){return this._channels.has(n)||this._channels.set(n,{runningCommands:[],queuedCommands:[]}),this._channels.get(n)},a.clearChannel=function(n){if(this._channels.has(n)){var e=this._channels.get(n);e.queuedCommands=[],e.runningCommands.forEach((function(n){return n.cancel()})),e.runningCommands=[]}},n}());a._RF.pop()}}}));

System.register("chunks:///_virtual/Declaration.ts",["cc","./RGPComponent.ts","./RGPUtils.ts","./TweenService.ts","./TweenComponent.ts","./GlobalEventManager.ts","./GlobalDataManager.ts","./GameApiManager.ts","./GameNetworkManager.ts","./APIHandler.ts","./LoginManager.ts","./index5.ts","./BaseScreen.ts","./LoadingOverlay.ts","./PopupManager.ts","./PopupConfig.ts","./BasePopup.ts","./GenericPopup.ts","./LoginScreen.ts","./SoundManager.ts","./SoundConfig.ts","./CommandManager.ts","./ProcessCommand.ts","./GameUtils.ts","./LocalizeManager.ts","./ScreenManager.ts","./ScreenConfig.ts"],(function(n){var e;return{setters:[function(n){e=n.cclegacy},function(e){n("RGPComponent",e.RGPComponent)},function(e){n("RGPUtils",e.RGPUtils)},function(e){n("TweenService",e.TweenService)},function(e){n("TweenComponent",e.TweenComponent)},function(e){n("GlobalEventManager",e.GlobalEventManager)},function(e){var a={};a.DATA_STORE_KEY=e.DATA_STORE_KEY,a.GlobalDataManager=e.GlobalDataManager,a.LOCAL_STORAGE_KEY=e.LOCAL_STORAGE_KEY,n(a)},function(e){n("GameApiManager",e.GameApiManager)},function(e){n("GameNetworkManager",e.default)},function(e){n("APIHandler",e.APIHandler)},function(e){n("LoginManager",e.LoginManager)},null,function(e){n("BaseScreen",e.BaseScreen)},function(e){n("LoadingOverlay",e.LoadingOverlay)},function(e){n("PopupManager",e.PopupManager)},function(e){n("PopupType",e.PopupType)},function(e){n("BasePopup",e.BasePopup)},function(e){n("GenericPopup",e.GenericPopup)},function(e){n("LoginScreen",e.LoginScreen)},function(e){n("SoundManager",e.SoundManager)},function(e){n("SoundType",e.SoundType)},function(e){n("CommandManager",e.CommandManager)},function(e){n("ProcessCommand",e.ProcessCommand)},function(e){n("GameUtils",e.GameUtils)},function(e){var a={};a.LANGUAGE=e.LANGUAGE,a.LocalizeManager=e.LocalizeManager,n(a)},function(e){n("ScreenManager",e.ScreenManager)},function(e){n("ScreenType",e.ScreenType)}],execute:function(){e._RF.push({},"ce8fbFP9T9M84i2Tgp8KBrP","Declaration",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Emitter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t;return{setters:[function(r){e=r.createClass},function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"80b7btrjSZCH7vfR5/CIKlA","Emitter",void 0);r("default",function(){function r(){this.handlers=new Map}var t=r.prototype;return t.on=function(r,e){var t=this;if(!r||"string"!=typeof r)return console.error("[Emitter] Invalid event name"),function(){};if(!e||"function"!=typeof e)return console.error("[Emitter] Invalid callback function"),function(){};try{var n=this.handlers.get(r);return n||(n=new Set,this.handlers.set(r,n)),n.add(e),function(){return t.off(r,e)}}catch(r){return console.error("[Emitter] Error in on():",r),function(){}}},t.off=function(r,e){if(r&&"string"==typeof r)try{if(!this.handlers.has(r))return;if(!e)return void this.handlers.delete(r);var t=this.handlers.get(r);t&&(t.delete(e),0===t.size&&this.handlers.delete(r))}catch(r){console.error("[Emitter] Error in off():",r)}else console.error("[Emitter] Invalid event name")},t.emit=function(r){if(r&&"string"==typeof r)try{var e=this.handlers.get(r);if(!e||0===e.size)return;var t=[];e.forEach((function(r){return t.push(r)}));for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];for(var s=0;s<t.length;s++){var c=t[s];try{c.apply(void 0,o)}catch(e){console.error('[Emitter] Error in "'+r+'" callback:',e)}}}catch(r){console.error("[Emitter] Error in emit():",r)}else console.error("[Emitter] Invalid event name")},t.clear=function(){try{this.handlers.clear()}catch(r){console.error("[Emitter] Error in clear():",r)}},t.listenerCount=function(r){if(!r||"string"!=typeof r)return 0;try{var e=this.handlers.get(r);return e?e.size:0}catch(r){return console.error("[Emitter] Error in listenerCount():",r),0}},t.eventNames=function(){try{var r=[];return this.handlers.forEach((function(e,t){r.push(t)})),r}catch(r){return console.error("[Emitter] Error in eventNames():",r),[]}},t.hasListeners=function(r){return this.listenerCount(r)>0},t.removeAllListeners=function(r){if(r&&"string"==typeof r)try{this.handlers.delete(r)}catch(r){console.error("[Emitter] Error in removeAllListeners():",r)}else console.error("[Emitter] Invalid event name")},e(r,[{key:"totalListenerCount",get:function(){try{var r=0;return this.handlers.forEach((function(e){r+=e.size})),r}catch(r){return console.error("[Emitter] Error in totalListenerCount():",r),0}}}]),r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EnvironmentConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncUtils.ts"],(function(n){var t,e,r,o,i,u,c;return{setters:[function(n){t=n.createClass,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,i=n.resources,u=n.JsonAsset},function(n){c=n.waitUntil}],execute:function(){o._RF.push({},"1efbfmsdaNLX7nCGbex/gGv","EnvironmentConfig",void 0),n("EnvironmentConfig",function(){function n(){this.configData=null,this.currentEnvironment=null}var o=n.prototype;return o.loadConfig=function(){var n=e(r().mark((function n(){var t,e,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.configData){n.next=2;break}return n.abrupt("return",this.configData);case 2:return n.prev=2,t=!1,e=null,o=null,i.load("config/server-environments",u,(function(n,r){if(t=!0,n)return o=n,void console.error("[EnvironmentConfig] Failed to load config:",n.message);r&&(e=r.json)})),n.next=9,c((function(){return t}));case 9:if(!o&&e){n.next=12;break}return console.error("[EnvironmentConfig] Failed to load environment config"),n.abrupt("return",null);case 12:return this.configData=e,console.log("[EnvironmentConfig] Config loaded successfully",this.configData),n.abrupt("return",this.configData);case 17:return n.prev=17,n.t0=n.catch(2),console.error("[EnvironmentConfig] Error loading config:",n.t0),n.abrupt("return",null);case 21:case"end":return n.stop()}}),n,this,[[2,17]])})));return function(){return n.apply(this,arguments)}}(),o.getEnvironments=function(){return this.configData?this.configData.environments:[]},o.getEnvironment=function(n){return this.getEnvironments().find((function(t){return t.name===n}))||null},o.setCurrentEnvironment=function(n){this.currentEnvironment=n,console.log("[EnvironmentConfig] Current environment set to:",n.name)},o.getCurrentEnvironment=function(){return this.currentEnvironment},o.reset=function(){this.configData=null,this.currentEnvironment=null},t(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["cc"],(function(e){var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){E._RF.push({},"8f0e9KRx0pDL7m1Doe1YYLE","Events",void 0);e("REQUEST_EVENTS",{GET_GAME_CONFIG:"get.game.config",SPIN_STARTED:"spin.started",SPIN_RESPIN_STARTED:"spin.respin.started",SPIN_FREE_GAME_STARTED:"spin.freegame.started",SPIN_STOPPED:"spin.stopped",GET_BALANCE:"wallet.get.balance"}),e("RESPONSE_EVENTS",{GET_GAME_CONFIG:"get.game.config:response",SPIN_STARTED:"autospin.started",SPIN_START_CONFIRM:"autospin.subscribe:response",SPIN_RESULT:"spin.result",RE_SPIN_RESULT:"spin.respin.result",FREE_GAME_RESULT:"spin.freegame.result",SPIN_STOPPED:"spin.stopped",SPIN_ERROR:"spin.error",USER_BALANCE:"wallet.user.balance"}),e("GLOBAL_EVENTS",{SEND_AUTO_SPIN:"global.spin.auto.spin",SEND_NEW_BET:"global.bet.new",UPDATE_BALANCE:"global.wallet.update.balance",OPEN_NEW_BET_POPUP:"global.popup.new.bet",UPDATE_WIN_AMOUNT:"global.update.win.amount",SPIN_COMPLETE:"global.spin.complete",SPIN_RESULT:"global.spin.result",SPIN_ERROR:"global.spin.error",START_SPIN:"global.spin.start",STOP_SPIN:"global.spin.stop",SPIN_LAST:"global.spin.last",SKIP_REWARD:"global.skip.reward",CLICK_SYMBOL:"symbol.clicked",UPDATE_JACKPOT:"global.update.jackpot"});E._RF.pop()}}}));

System.register("chunks:///_virtual/FarmerCol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./FarmerSymbol.ts","./RGPComponent.ts"],(function(r){var n,o,t,i,e,a,l,c;return{setters:[function(r){n=r.applyDecoratedDescriptor,o=r.inheritsLoose,t=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){e=r.cclegacy,a=r._decorator},null,function(r){l=r.FarmerSymbol},function(r){c=r.RGPComponent}],execute:function(){var u,s,f,m,h;e._RF.push({},"3d572eJQ2lOB7hiNsdeQq7c","FarmerCol",void 0);var p=a.ccclass,y=a.property;r("FarmerCol",(u=p("FarmerCol"),s=y(l),u((h=n((m=function(r){function n(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return n=r.call.apply(r,[this].concat(e))||this,t(n,"farmerSymbol",h,i(n)),n}o(n,r);var e=n.prototype;return e.onLoad=function(){r.prototype.onLoad.call(this)},e.runAnimWalking=function(){this.farmerSymbol.forEach((function(r){r.runAnimWalking()}))},e.runAnimWin=function(){this.farmerSymbol.forEach((function(r){r.runAnimWin()}))},e.showHighlight=function(){this.farmerSymbol.forEach((function(r){r.showHighlight()}))},n}(c)).prototype,"farmerSymbol",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m))||f));e._RF.pop()}}}));

System.register("chunks:///_virtual/FarmerSymbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./RGPComponent.ts"],(function(i){var n,e,t,o,r,a,s,l,c;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,s=i.sp,l=i.Node},null,function(i){c=i.RGPComponent}],execute:function(){var u,h,p,m,g,d,f,y,b;r._RF.push({},"fd159trwF5O3qjURy0unnpp","FarmerSymbol",void 0);var v=a.ccclass,w=a.property;i("FarmerSymbol",(u=v("FarmerSymbol"),h=w(s.Skeleton),p=w(s.Skeleton),m=w(l),u((f=n((d=function(i){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=i.call.apply(i,[this].concat(r))||this,t(n,"spine",f,o(n)),t(n,"animBg",y,o(n)),t(n,"nodeCore",b,o(n)),n.isShowingHighlight=!1,n}e(n,i);var r=n.prototype;return r.onLoad=function(){i.prototype.onLoad.call(this),this.animBg.node.active=!1},r.runAnimWalking=function(){this.spine&&(this.spine.node.active=!0,this.nodeCore&&(this.nodeCore.active=!1),this.spine.setAnimation(0,"anim_walk",!1),this.spine.addAnimation(0,"anim_idle",!0))},r.runAnimWin=function(){this.spine&&(this.spine.node.active=!0,this.nodeCore&&(this.nodeCore.active=!1),this.spine.setAnimation(0,"anim_reward",!0))},r.showHighlight=function(){this.isShowingHighlight||(this.isShowingHighlight=!0,this.animBg&&(this.animBg.node.active=!0,this.animBg.setAnimation(0,"animation",!0)))},n}(c)).prototype,"spine",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(d.prototype,"animBg",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(d.prototype,"nodeCore",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmerTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmerCol.ts","./Declaration.ts","./GameUtils.ts","./RGPComponent.ts"],(function(e){var t,i,n,r,o,a,l,s,u,m,c,h,p,v,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,s=e.Prefab,u=e.log,m=e.tween,c=e.Vec3,h=e.instantiate},function(e){p=e.FarmerCol},null,function(e){v=e.GameUtils},function(e){f=e.RGPComponent}],execute:function(){var g,d,C,y,F,w,B,b,M,T,L,x,G,A,I,z,P,R,N;o._RF.push({},"11e7bGfO9xNKYlSijxml4Kp","FarmerTable",void 0);var E=a.ccclass,H=a.property,D={Lv1:1,Lv2:2,Lv3:3,Lv4:4,Lv5:5};e("FarmerTable",(g=E("FarmerTable"),d=H(l),C=H(l),y=H(s),F=H(l),w=H(l),B=H(l),b=H(l),M=H({displayName:"Duration move per col"}),g((x=t((L=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"targetColumn",x,r(t)),n(t,"freeGameLevel",G,r(t)),n(t,"sampleFarmerColumn",A,r(t)),n(t,"farmerMovingHolder",I,r(t)),n(t,"endColumn",z,r(t)),n(t,"leftBridge",P,r(t)),n(t,"rightBridge",R,r(t)),n(t,"durMove",N,r(t)),t.mapTargetByColIdx=new Map,t.mapFreeGameByLevel=new Map,t.mapQueneFreeGameByLevel=new Map,t.listCurFarmerMoving=[],t}i(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.setUpMap()},o.cleanup=function(){this.mapFreeGameByLevel.clear(),this.mapTargetByColIdx.clear(),this.listCurFarmerMoving=[]},o.setUpMap=function(){var e=this;this.targetColumn.children.forEach((function(t,i){e.mapTargetByColIdx.set(i,t)})),this.freeGameLevel.children.forEach((function(t){e.mapFreeGameByLevel.set(D[t.name],[]),t.children.forEach((function(i){e.mapFreeGameByLevel.get(D[t.name]).push(i)}))})),this.targetColumn.active=!1,this.freeGameLevel.active=!1,this.endColumn.active=!1,u(this.mapFreeGameByLevel,this.mapTargetByColIdx)},o.showFreeGame=function(){this.node.active=!0,this.leftBridge.active=!0;var e=this.leftBridge.position.clone(),t=m(this.leftBridge).set({position:new c(e.x-300,e.y,e.z)}).to(1,{position:e});this.startTween(t),this.rightBridge.active=!0;var i=this.rightBridge.position.clone(),n=m(this.rightBridge).set({position:new c(i.x+300,i.y,i.z)}).to(1,{position:i});this.startTween(n)},o.hideFreeGame=function(){var e=this,t=this.leftBridge.position.clone(),i=m(this.leftBridge).to(.5,{position:new c(t.x-300,t.y,t.z)}).call((function(){e.leftBridge.active=!1,e.leftBridge.position=t}));this.startTween(i);var n=this.rightBridge.position.clone(),r=m(this.rightBridge).to(.5,{position:new c(n.x+300,n.y,n.z)}).call((function(){e.rightBridge.active=!1,e.rightBridge.position=n,e.node.active=!1}));this.startTween(r)},o.showReelRespin=function(e){var t=this;this.node.active=!0,e.forEach((function(e){t.showOneReelRespin(e)}))},o.showOneReelRespin=function(e){if(this.node.active=!0,e<0||e>4)console.error("Invalid colIdx",e);else{var t=this.mapTargetByColIdx.get(e),i=h(this.sampleFarmerColumn);i.parent=this.farmerMovingHolder,i.active=!0;var n=v.convertPositionAnotherNode(i,t);i.setPosition(n),this.showFarmerAtCol(i),i.getComponent(p).showHighlight(),this.listCurFarmerMoving.push({colIdx:e,farmerColumn:i})}},o.moveReelRespin=function(){if(this.listCurFarmerMoving.length>0)for(var e=this.listCurFarmerMoving.length-1;e>=0;e--){var t=this.listCurFarmerMoving.shift(),i=t.colIdx,n=t.farmerColumn,r=i-1;r>=0?(this.moveFarmerToNextCol(n,r),this.listCurFarmerMoving.push({colIdx:r,farmerColumn:n})):this.moveFarmerToEndCol(n)}},o.setFreeGameLevel=function(e){for(var t=this,i=this.mapFreeGameByLevel.get(e),n=[],r=function(){var e=i[o],r=h(t.sampleFarmerColumn);r.parent=t.farmerMovingHolder,r.active=!0;var a=v.convertPositionAnotherNode(r,e);r.getComponent(p).runAnimWalking();var l=m(r).set({position:new c(a.x+300,a.y,a.z)}).to(t.durMove,{position:a}).call((function(){r.position=a}));t.startTween(l),n.push(r)},o=i.length-1;o>=0;o--)r();this.mapQueneFreeGameByLevel.set(e,n)},o.startLevel=function(e){var t=this;if(this.mapQueneFreeGameByLevel.has(e)){var i=this.getDefaultColumnsByLevel(e);this.mapQueneFreeGameByLevel.get(e).forEach((function(e,n){var r=i[n],o=t.mapTargetByColIdx.get(r),a=v.convertPositionAnotherNode(e,o);e.getComponent(p).runAnimWalking();var l=m(e).to(t.durMove,{position:a}).call((function(){e.getComponent(p).showHighlight()}));t.startTween(l),t.listCurFarmerMoving.push({colIdx:r,farmerColumn:e})})),this.mapQueneFreeGameByLevel.delete(e)}else u(">This level not setup")},o.showAnimWin=function(e){var t=this;e.forEach((function(e){var i,n=null==(i=t.listCurFarmerMoving.find((function(t){return t.colIdx===e})))?void 0:i.farmerColumn;n&&n.getComponent(p).runAnimWalking()}))},o.showFarmerAtCol=function(e){e.getComponent(p).runAnimWin()},o.moveFarmerToNextCol=function(e,t){e.getComponent(p).runAnimWalking();var i=this.mapTargetByColIdx.get(t),n=v.convertPositionAnotherNode(e,i),r=this.TweenService.getTweenComponent(e);this.startTween(m(r).to(this.durMove,{position:n}).call((function(e){e.position=n})))},o.moveFarmerToEndCol=function(e){e.getComponent(p).runAnimWalking();var t=this.endColumn,i=v.convertPositionAnotherNode(e,t),n=this.TweenService.getTweenComponent(e);this.startTween(m(n).to(this.durMove,{position:i,opacity:0}).call((function(e){e.position=i,e.opacity=0,e.node.removeFromParent()})))},o.getDefaultColumnsByLevel=function(e){for(var t=4,i=[],n=0;n<e;n++)i.push(t),t--;return i},o.validateMoving=function(e){return this.listCurFarmerMoving.some((function(t){return t.colIdx===e}))},o.reset=function(){this.farmerMovingHolder.removeAllChildren(),this.listCurFarmerMoving=[]},t}(f)).prototype,"targetColumn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(L.prototype,"freeGameLevel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(L.prototype,"sampleFarmerColumn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(L.prototype,"farmerMovingHolder",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"endColumn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(L.prototype,"leftBridge",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"rightBridge",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(L.prototype,"durMove",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),T=L))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/FormatOptions.ts",["cc"],(function(){var t;return{setters:[function(s){t=s.cclegacy}],execute:function(){t._RF.push({},"f519dyXsXFCJaYVIpsu24Z4","FormatOptions",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/FreeGameEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./RGPComponent.ts"],(function(e){var t,n,i,o,r,c,a,s,l,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.sp,s=e.Vec3,l=e.tween,p=e.easing},null,function(e){f=e.RGPComponent}],execute:function(){var u,h,v,d,m;r._RF.push({},"b13dauvp6hKx7lfUt+kne24","FreeGameEffect",void 0);var y=c.ccclass,g=c.property;e("FreeGameEffect",(u=y("FreeGameEffect"),h=g(a.Skeleton),u((m=t((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"spine",m,o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.spine.setCompleteListener((function(){t.hideEffect()}))},r.showEffect=function(){var e=this.TweenService.getTweenComponent(this.node);this.node.active=!0,e.scale=s.ONE,e.opacity=255,this.spine.setAnimation(0,"anim_2_yougot",!1)},r.hideEffect=function(){var e=this,t=this.TweenService.getTweenComponent(this.node);this.startTween(l(t).to(.25,{scale:new s(.3,.3,.3),opacity:0},{easing:p.backIn}).call((function(){e.node.active=!1})))},t}(f)).prototype,"spine",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=d))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/FreeGameModeHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProcessCommand.ts","./ModeHandler.ts","./TimeConfig.ts","./WinEffectControl.ts"],(function(e){var t,n,o,r,i,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.warn},function(e){r=e.ProcessCommand},function(e){i=e.ModeHandler},function(e){a=e.TimeConfig},function(e){c=e.EWinType}],execute:function(){n._RF.push({},"67024EmQplK57EtJM7RLiEP","FreeGameModeHandler",void 0);e("FreeGameModeHandler",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).curFreeGameLevel=0,t}return t(n,e),n.prototype.handleResult=function(e){var t=this;this.isRunning=!0;var n=e.freeGameLevel,i=e.startNextLevel,s=e.freeGameSeedIdx,l=e.freeGameSeedCount,u=e.freeGameTotalWin,E=e.canFreeSpin,f=e.isWin,m=e.nearWinMatrix,d=e.exitFreeGame,_=e.matrixResult,h=(e.respinColumns,e.isEndSession),F=e.sequenceMatrixWin,R=[];R=R.concat(this.createActionShowResultReel(_));var G=!1;return m&&m.length>0&&f&&(R=R.concat(this.createActionWin(e)),G=!0),this.slotDirector.isFreeGameMode||(this.slotDirector.isFreeGameMode=!0,R.push(new r({action:function(){t.slotDirector.freeGameEffect.showEffect()},delay:.5,duration:a.DUR_ANIM_GOT_FREE_GAME})),R.push(new r({action:function(){t.slotDirector.enterFreeGameMode()},duration:a.DUR_ENTER_FREE_GAME}))),null!=s&&l&&R.push(new r({action:function(){o("Free game seed: ",s),t.slotDirector.levelStack.collectStackLevel(s,l)},duration:a.DUR_COLLECT_STACK})),n>0&&n!=this.curFreeGameLevel&&R.push(new r({action:function(){t.curFreeGameLevel!=n&&(t.curFreeGameLevel=n,o("Setup free game level:",n),t.slotDirector.slotTable.showResultFarmerSetFreeGameLevel(n))},duration:a.DUR_SETUP_FREE_GAME_LEVEL})),f&&!G&&(R=R.concat(this.createActionWin(e))),i&&R.push(new r({action:function(){o("Start free game level:",t.curFreeGameLevel),t.slotDirector.levelStack.resetLevelStack(),t.slotDirector.slotTable.showResultFarmerStartFreeGame(n)},duration:a.DUR_START_FREE_GAME_LEVEL})),!i&&E&&R.push(new r({action:function(){t.slotDirector.slotTable.showResultFarmerMove()},duration:a.DUR_FREE_GAME_SPIN_COLUMNS})),E&&R.push(new r({action:function(){o("Free game spin"),t.slotDirector.resetRound(),t.slotDirector.requestFreeGameSpin()},duration:a.DUR_FREE_GAME_SPIN})),d&&(u&&R.push(new r({action:function(){var e={duration:a.DUR_FREE_GAME_WIN,dataInfo:{}};t.slotDirector.winEffectControl.showWinEffect(c.FREE_GAME,u,e)},duration:a.DUR_FREE_GAME_WIN})),R.push(new r({action:function(){t.slotDirector.exitFreeGameMode()},duration:a.DUR_EXIT_FREE_GAME})),R=R.concat(this.createActionCleanSession())),h&&F&&F.length>0&&(R=R.concat(this.createActionLoopWin(F))),R},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/FreeGameWinEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WinEffect.ts"],(function(e){var t,i,n,o,a,r,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.sp},function(e){l=e.WinEffect}],execute:function(){var p,c,u,m,f,h,y,x,S;a._RF.push({},"db887uHgjVHgaOHh9j/BIGv","FreeGameWinEffect",void 0);var b=r.ccclass,w=r.property,P="anim_1_popup1",_="anim_3_text_total",d="anim_3_twinkle2";e("FreeGameWinEffect",(p=b("FreeGameWinEffect"),c=w(s.Skeleton),u=w(s.Skeleton),m=w(s.Skeleton),p((y=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"animPopup",y,o(t)),n(t,"animVfx",x,o(t)),n(t,"animText",S,o(t)),t}i(t,e);var a=t.prototype;return a.show=function(t,i){void 0===i&&(i={}),e.prototype.show.call(this,t,i),this.animPopup.setAnimation(0,P,!1),this.animVfx.setAnimation(0,d,!0),this.animText.setAnimation(0,_,!1)},a.showWinAmount=function(t,i,n){e.prototype.showWinAmount.call(this,t,i,n,.5)},a.skipRewardMoney=function(t){void 0===t&&(t=.5),this.animPopup.timeScale=3,this.animVfx.timeScale=3,this.animText.timeScale=3,e.prototype.skipRewardMoney.call(this,t)},a.resetAnim=function(){e.prototype.resetAnim.call(this),this.animPopup.timeScale=1,this.animVfx.timeScale=1,this.animText.timeScale=1,this.animPopup.setToSetupPose(),this.animVfx.setToSetupPose(),this.animText.setToSetupPose()},t}(l)).prototype,"animPopup",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(h.prototype,"animVfx",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(h.prototype,"animText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameApiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIHandler.ts","./ApiURL.ts","./NetworkConfig.ts"],(function(e){var n,t,r,i,a,s,u;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy},function(e){a=e.APIHandler},function(e){s=e.ApiURL},function(e){u=e.NetworkConfig}],execute:function(){i._RF.push({},"f9c2eDSgX1Muqs0UNI76Hx7","GameApiManager",void 0),e("GameApiManager",function(){function e(){this.isLoginSuccess=!1,this.balance=0,this.minBet=void 0,this.maxBet=void 0,this.betStep=void 0,this.freeSpins=void 0}var i=e.prototype;return i.getBalance=function(){var e=t(r().mark((function e(){var n,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.instance.buildApiUrl(s.GET_BALANCE),e.next=3,a.instance.get(n);case 3:(t=e.sent).balance&&(this.isLoginSuccess=!0,this.balance=t.balance);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.getApiRequest=function(){var e=t(r().mark((function e(n,t,i){var s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.buildApiUrl(n),e.next=3,a.instance.get(s);case 3:if(!(u=e.sent)||!u.error){e.next=6;break}return e.abrupt("return",i(null==u?void 0:u.message));case 6:if(u&&!1!==u.success){e.next=10;break}return e.abrupt("return",i((null==u?void 0:u.message)||"Some thing when wrong"));case 10:return this.balance=u.data.balance,e.abrupt("return",t(u));case 12:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),i.postApiRequest=function(){var e=t(r().mark((function e(n,t,i,s){var u,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=this.buildApiUrl(n),e.next=3,a.instance.post(t,u);case 3:if(!(c=e.sent)||!c.error){e.next=6;break}return e.abrupt("return",s(null==c?void 0:c.message));case 6:if(c&&!1!==c.success){e.next=10;break}return e.abrupt("return",s((null==c?void 0:c.message)||"Some thing when wrong"));case 10:return e.abrupt("return",i(c));case 11:case"end":return e.stop()}}),e,this)})));return function(n,t,r,i){return e.apply(this,arguments)}}(),i.buildApiUrl=function(e){return""+s.BASE_URL+e},n(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameApiOfflineManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OfflineWallet.ts","./SymbolConfig.ts","./GameConstants.ts"],(function(n){var e,t,i,a,o,r;return{setters:[function(n){e=n.createForOfIteratorHelperLoose,t=n.createClass},function(n){i=n.cclegacy},function(n){a=n.OfflineWallet},function(n){o=n.SYMBOL_IDS},function(n){r=n.ESlotSymbol}],execute:function(){i._RF.push({},"154d8Q8w5xJiq5pcArJ6Ku1","GameApiOfflineManager",void 0),n("GameApiOfflineManager",function(){function n(){this.isOfflineMode=!0,this.minBet=1,this.maxBet=100,this.betStep=1,this.freeSpins=0,this.configSymbols=new Map,this.initializeConfigSymbols()}var i=n.prototype;return i.getBalance=function(){return{success:!0,data:{balance:a.instance.getBalance()}}},i.getSymbol=function(n){return this.configSymbols.get(n)},i.getGridResult=function(n){for(var t,i=this,a=[],o=e(n);!(t=o()).done;)for(var r,s=t.value,c=e(s);!(r=c()).done;){var l=r.value;a.push(l)}return a.map((function(n){return i.getSymbol(n)})).filter((function(n){return void 0!==n}))},i.initializeConfigSymbols=function(){this.configSymbols.clear();for(var n={A:r.Orange,B:r.Banana,C:r.Grapes,D:r.Soursop,E:r.Watermelon,F:r.Durian,S:r.Scale,J:r.Girl},e=["A","B","C","D","E","F","J","S"],t=0;t<o.length&&t<e.length;t++){var i=n[e[t]];void 0!==i&&this.configSymbols.set(o[t],i)}},t(n,[{key:"balance",get:function(){return a.instance.getBalance()}}],[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameAssetsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConstants.ts"],(function(e){var n,a,s,t,o,r,i,l,_,c,m,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.inheritsLoose,s=e.initializerDefineProperty,t=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,i=e._decorator,l=e.SpriteFrame,_=e.warn,c=e.error,m=e.Component},function(e){b=e.ESlotSymbol}],execute:function(){var u,y,p,g,f,S,d,h,G,M;r._RF.push({},"ee271mCb29N7oUNLABmJJjQ","GameAssetsManager",void 0);var k=i.ccclass,A=i.property,F=e("DEFINE_SPRITE_SYMBOL_BY_CODE",((u={})[b.Orange]="ic_symbol_A_orange",u[b.Banana]="ic_symbol_B_banana",u[b.Grapes]="ic_symbol_C_grapes",u[b.Soursop]="ic_symbol_D_soursop",u[b.Watermelon]="ic_symbol_E_watermelon",u[b.Durian]="ic_symbol_F_durian",u[b.Scale]="ic_symbol_S_Scatter",u[b.Girl]="ic_symbol_J_walkingwild",u[b.Mango]="ic_symbol_G_mango",u[b.Jackpot]="ic_symbol_M_box",u)),B=e("DEFINE_SPRITE_FAKE_SYMBOL_BY_CODE",((y={})[b.Orange]="ic_symbol_A_orange_blur",y[b.Banana]="ic_symbol_B_banana_blur",y[b.Grapes]="ic_symbol_C_grapes_blur",y[b.Soursop]="ic_symbol_D_soursop_blur",y[b.Watermelon]="ic_symbol_E_watermelon_blur",y[b.Durian]="ic_symbol_F_durian_blur",y[b.Scale]="ic_symbol_S_Scatter_blur",y[b.Girl]="ic_symbol_J_walkingwild_blur",y[b.Mango]="ic_symbol_G_mango_blur",y[b.Jackpot]="ic_symbol_M_box_blur",y));e("GameAssetsManager",(p=k("GameAssetsManager"),g=A([l]),f=A([l]),p(((M=function(e){function n(){for(var n,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,s(n,"listSymbols",h,t(n)),s(n,"listSymbolsFake",G,t(n)),n}a(n,e);var r=n.prototype;return r.onLoad=function(){n._instance=this},r.onDestroy=function(){n._instance===this&&(n._instance=null)},r.getSymbolByCode=function(e){var n=F[e];if(this.listSymbols&&0!==this.listSymbols.length){var a=this.listSymbols.find((function(e){return e.name===n}));return a||c("[GameAssetsManager] symbol not found",e,n),a}_("[GameAssetsManager] symbol list empty")},r.getFakeSymbolByCode=function(e){var n=B[e];if(this.listSymbolsFake&&0!==this.listSymbolsFake.length){var a=this.listSymbolsFake.find((function(e){return e.name===n}));return a||c("[GameAssetsManager] fake symbol not found",e,n),a}_("[GameAssetsManager] fake symbol list empty")},o(n,null,[{key:"Instance",get:function(){return n._instance||c("[GameAssetsManager] Instance not initialized"),n._instance}}]),n}(m))._instance=null,h=n((d=M).prototype,"listSymbols",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(d.prototype,"listSymbolsFake",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=d))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameConstants.ts",["cc"],(function(_){var S;return{setters:[function(_){S=_.cclegacy}],execute:function(){var I;S._RF.push({},"81eadwDx7pJc7D7iS8JnVuP","GameConstants",void 0);_("SPIN_DELAY",function(_){return _[_.DELAY_SPIN=2]="DELAY_SPIN",_[_.DELAY_CB_SERVER=.5]="DELAY_CB_SERVER",_[_.DELAY_WIN=2]="DELAY_WIN",_}({})),_("GRID_SIZE",function(_){return _[_.GRID_COLS=5]="GRID_COLS",_[_.GRID_ROWS=3]="GRID_ROWS",_}({}));var N=_("ESlotSymbol",function(_){return _.Orange="A",_.Banana="B",_.Grapes="C",_.Soursop="D",_.Watermelon="E",_.Durian="F",_.Scale="S",_.Girl="J",_.Mango="G",_.Jackpot="M",_}({}));_("DEFINE_SPIN_REEL",{DUR_SPIN_PER_STEP:.06,DUR_SPIN_END_RESULT:.1,DUR_SPIN_NEAR_WIN:.1,DUR_SPIN_END_NEAR_WIN:.15,DUR_SPIN_SPEED_UP:.02,DUR_FINISH_SPIN:.2,DUR_START_SPIN:.1,DELAY_FINISH_SPIN:1,DUR_ANIM_RESULT:1,DUR_SHOW_RESULT:.01,MIN_SPINNING:2}),_("DUR_TWEEN_MONEY",.5),_("WIN_TYPE",{NONE:0,WAY_WIN:1,JACKPOT_WIN:2}),_("DEFAULT_SYMBOLS_CONFIG",((I={})[N.Girl]={x5:.6,x4:.5,x3:.35,x2:.25},I[N.Durian]={x5:.75,x4:.45,x3:.25},I[N.Watermelon]={x5:.6,x4:.35,x3:.2},I[N.Soursop]={x5:.5,x4:.3,x3:.15},I[N.Grapes]={x5:.3,x4:.2,x3:.1},I[N.Banana]={x5:.25,x4:.15,x3:.05},I[N.Orange]={x5:.2,x4:.1,x3:.05},I[N.Scale]={x5:30,x4:10,x3:2},I)),_("JACKPOT_PROGRESSIVE_CONFIG",{MINI:15,MINOR:40});S._RF.pop()}}}));

System.register("chunks:///_virtual/GameDataTypes.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4a6fc94r2JPrJV7pbIHkbB5","GameDataTypes",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameDataWrapper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConstants.ts"],(function(e){var n,t,i,r,a;return{setters:[function(e){n=e.extends,t=e.createClass},function(e){i=e.cclegacy},function(e){r=e.ESlotSymbol,a=e.GRID_SIZE}],execute:function(){var s;i._RF.push({},"28b85vEeDtE45ChbrddpvBa","GameDataWrapper",void 0);var o=e("EWinType",function(e){return e.NORMAL="NORMAL",e.BIG_WIN="BIG_WIN",e.MEGA_WIN="MEGA_WIN",e.BOOMING_WIN="BOOMING_WIN",e.LEGENDARY_WIN="LEGENDARY_WIN",e}({})),u=((s={})[o.BIG_WIN]=20,s[o.MEGA_WIN]=40,s[o.BOOMING_WIN]=80,s[o.LEGENDARY_WIN]=100,s),c=e("default",function(){function e(){this.GRID_COLS=a.GRID_COLS,this.GRID_ROWS=a.GRID_ROWS,this._betAmount=0}var i=e.prototype;return i.setBetAmount=function(e){this._betAmount=e},i.parseDataResult=function(e){for(var t=e.reelsMatrix,i=e.winMatrix,a=this.convertWinCombinationsToList(t,e.winCombinations),s=0;s<this.GRID_COLS;s++)for(var o=0;o<this.GRID_ROWS;o++)t[s]&&(t[s][o],r.Scale);var u=this.checkNearWin(t),c=u.nearWin,I=u.nearWinMatrix,W="FREE_GAME"===e.sessionMode,G="RE_SPIN"===e.sessionMode,l="JACKPOT"===e.sessionMode,_=e.winCombinations&&e.winCombinations.length>0||Number(e.winAmount)>0,f=0;"string"==typeof e.winAmount?f=parseFloat(e.winAmount)||0:"number"==typeof e.winAmount&&(f=e.winAmount);var h=e.newBalance||0,R=e.betAmount||this._betAmount,p=this.calculateWinData(f,R),m=n({matrixResult:t,matrixWin:i,sequenceMatrixWin:a,isWin:_,winAmount:f,isEndSession:"ENDED"===e.sessionStatus,newBalance:Number(h)},p,{nearWin:c||void 0,nearWinMatrix:c?I:void 0});if(G){var N="ENDED"===e.sessionStatus,v=e.sessionLockedReels||this.detectRespin(t),S=e.sessionTotalSteps-e.sessionCurrentStep>0,D={isRespin:G,respinColumns:G?v:void 0,canRespin:G?S:void 0,exitRespin:N};m=Object.assign(m,D)}if(W){var O=W&&"ENDED"===e.sessionStatus,A=e.startNextLevel,M={isFreeGame:W,freeGameLevel:e.freeGameLevel,freeGameSpinColumns:e.sessionLockedReels||[],freeGameSeedIdx:this.detectFreeGameSeedIdx(t),freeGameSeedCount:e.freeGameSeedCount,startNextLevel:A,canFreeSpin:e.sessionTotalSteps-e.sessionCurrentStep>0,freeGameTotalWin:e.freeGameTotalWin||0,exitFreeGame:O};m=Object.assign(m,M)}if(l){for(var E=[],d=0;d<this.GRID_COLS;d++){for(var L=[],C=0;C<this.GRID_ROWS;C++)t[d][C]===r.Jackpot?L.push(1):L.push(0);E.push(L)}var y={isJackpot:l,jackpotMystery:e.jackpotMystery||[],jackpotType:e.jackpotType,matrixMystery:E};m=Object.assign(m,y)}for(var w in m)null!=m[w]&&null!=m[w]||delete m[w];return m},i.detectFreeGameSeedIdx=function(e){var n=this.GRID_COLS-1;if(!e||!e[n])return null;for(var t=e[n],i=0;i<this.GRID_ROWS;i++)if(t[i]===r.Mango)return i;return null},i.detectRespin=function(e){var n=[];if(!e||0===e.length)return n;for(var t=0;t<this.GRID_COLS;t++){for(var i=0,r=0;r<this.GRID_ROWS;r++)"J"===e[t][r]&&i++;i===this.GRID_ROWS&&n.push(t)}return n},i.checkNearWin=function(e){for(var n=[],t=0;t<this.GRID_COLS;t++)n.push(new Array(this.GRID_ROWS).fill(""));if(!e||e.length<3)return{nearWin:!1,nearWinMatrix:n};for(var i=0,a=0;a<3;a++)for(var s=0;s<this.GRID_ROWS;s++)e[a][s]===r.Scale&&i++;var o=i>=2;if(o)for(var u=0;u<this.GRID_COLS;u++)for(var c=0;c<this.GRID_ROWS;c++)e[u][c]===r.Scale&&(n[u][c]=r.Scale);return{nearWin:o,nearWinMatrix:n}},i.calculateWinType=function(e,n){if(n<=0||e<=0)return o.NORMAL;var t=e/n;return t>=u[o.LEGENDARY_WIN]?o.LEGENDARY_WIN:t>=u[o.BOOMING_WIN]?o.BOOMING_WIN:t>=u[o.MEGA_WIN]?o.MEGA_WIN:t>=u[o.BIG_WIN]?o.BIG_WIN:o.NORMAL},i.calculateWinData=function(e,n){var t=this.calculateWinType(e,n),i=n*u[o.BIG_WIN],r=n*u[o.MEGA_WIN],a=n*u[o.BOOMING_WIN],s=n*u[o.LEGENDARY_WIN],c=[];return e>0&&e>=i&&c.push({winType:o.BIG_WIN,targetWinAmount:Math.min(e,r)}),e>=r&&c.push({winType:o.MEGA_WIN,targetWinAmount:Math.min(e,a)}),e>=a&&c.push({winType:o.BOOMING_WIN,targetWinAmount:Math.min(e,s)}),e>=s&&c.push({winType:o.LEGENDARY_WIN,targetWinAmount:e}),{winType:t,isBigWin:c.length>0,bigWinSequence:c}},i.parseGrid1DTo2D=function(e){for(var n=[],t=0;t<this.GRID_COLS;t++){for(var i=[],r=0;r<this.GRID_ROWS;r++){var a=r*this.GRID_COLS+t;a<e.length&&i.push(e[a])}n.push(i)}return n},i.parseGrid2DTo1D=function(e){for(var n=[],t=0;t<this.GRID_ROWS;t++)for(var i=0;i<this.GRID_COLS;i++)e[i]&&void 0!==e[i][t]&&n.push(e[i][t]);return n},i.convertWinCombinationsToList=function(e,n){var t=this,i=[];return n&&0!==n.length?(n.forEach((function(n){for(var r=[],a=0;a<t.GRID_COLS;a++)r.push(new Array(t.GRID_ROWS).fill(0));for(var s=n.symbolCode,o=n.matchCount,u=Number(n.winAmount)||0,c=[],I=0;I<Math.min(o,t.GRID_COLS);I++)if(e[I])for(var W=0;W<t.GRID_ROWS;W++){var G=e[I][W];G!==s&&"W"!==G||(r[I][W]=1,c.push({c:I,r:W}))}var l=null;if(c.length>0){var _=c[Math.floor(c.length/2)];_&&(l={col:_.c,row:_.r,winAmount:u})}i.push({winAmount:u,symbol:s,matrixWin:r,wayWinInfo:l})})),i):i},t(e,null,[{key:"Instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}());c._instance=void 0,globalThis.data=c,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameNetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WebSocketClient.ts","./NetworkConfig.ts","./NetworkConstants.ts"],(function(e){var n,t,o,r,i,c,a,s;return{setters:[function(e){n=e.createForOfIteratorHelperLoose,t=e.createClass,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy},function(e){c=e.default},function(e){a=e.NetworkConfig},function(e){s=e.EVENTS}],execute:function(){i._RF.push({},"b2c3dTlIiJAAodAI0VniQG8","GameNetworkManager",void 0),e("default",function(){function e(){this.client=void 0,this.isAuthenticated=!1,this.authToken="",this.isConnecting=!1,this.eventHandlerCleanups=[]}var i=e.prototype;return i.connect=function(){var e=o(r().mark((function e(n){var t,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("This game only using fetch API"));case 4:if(null==(t=this.client)||!t.isConnected){e.next=12;break}if(this.authToken!==n){e.next=10;break}return console.log("[GameNetworkManager] Already connected with same token"),e.abrupt("return");case 10:console.log("[GameNetworkManager] Reconnecting with new token"),this.disconnect();case 12:return this.isConnecting=!0,this.authToken=n,e.prev=14,o=this.buildWebSocketUrl(n),console.log("[GameNetworkManager] Connecting to WebSocket URL:",o.replace(/token=[^&]+/,"token=***")),this.client=new c({url:o,autoReconnect:!0,maxReconnectAttempts:10,reconnectDelay:1e3,maxReconnectDelay:3e4,heartbeatInterval:2e4,heartbeatTimeout:1e4,debug:!0,auth:{token:n}}),this.setupEventHandlers(),e.next=21,this.client.connect();case 21:console.log("[GameNetworkManager] Connection established"),e.next=30;break;case 24:throw e.prev=24,e.t0=e.catch(14),console.error("[GameNetworkManager] Connection failed:",e.t0),this.isAuthenticated=!1,this.client=void 0,e.t0;case 30:return e.prev=30,this.isConnecting=!1,e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[14,24,30,33]])})));return function(n){return e.apply(this,arguments)}}(),i.buildWebSocketUrl=function(e){try{return a.instance.buildWsUrl(e)}catch(n){return console.error("[GameNetworkManager] Error building WebSocket URL:",n),a.instance.getWsBaseUrl()+"?token="+encodeURIComponent(e)}},i.setupEventHandlers=function(){var e=this;if(this.client){this.cleanupEventHandlers();var n=[],t=function(t,o){var r=e.client.on(t,o);r&&n.push(r)};t("open",(function(){console.log("[GameNetworkManager] Connection opened")})),t("close",(function(n){console.log("[GameNetworkManager] Connection closed",n),e.isAuthenticated=!1})),t("error",(function(e){console.error("[GameNetworkManager] Connection error",e)})),t("reconnecting",(function(e){console.log("[GameNetworkManager] Reconnecting... attempt",e)})),t("reconnect_failed",(function(){console.error("[GameNetworkManager] Reconnect failed"),e.isAuthenticated=!1})),t(s.AUTH_OK,(function(n){console.log("[GameNetworkManager] Authentication successful",n.userId),e.isAuthenticated=!0})),t(s.AUTH_ERROR,(function(n){console.error("[GameNetworkManager] Authentication failed",n.message),e.isAuthenticated=!1})),this.eventHandlerCleanups=n}},i.cleanupEventHandlers=function(){for(var e,t=n(this.eventHandlerCleanups);!(e=t()).done;){var o=e.value;try{o()}catch(e){console.error("[GameNetworkManager] Error cleaning up event handler:",e)}}this.eventHandlerCleanups=[]},i.disconnect=function(){this.isConnecting=!1,this.isAuthenticated=!1,this.cleanupEventHandlers(),this.client&&(this.client.close(),this.client=void 0)},i.on=function(e,n){if(!this.client)return console.error("[GameNetworkManager] Client not initialized"),function(){};try{return this.client.on(e,n)||function(){}}catch(n){return console.error("[GameNetworkManager] Error subscribing to event:",e,n),function(){}}},i.off=function(e,n){if(this.client)try{this.client.off(e,n)}catch(n){console.error("[GameNetworkManager] Error unsubscribing from event:",e,n)}else console.error("[GameNetworkManager] Client not initialized")},i.emit=function(e,n){var t;null!=(t=this.client)&&t.isConnected?this.client.emit(e,n):console.error("[GameNetworkManager] Not connected")},i.request=function(){var e=o(r().mark((function e(n,t){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(o=this.client)&&o.isConnected){e.next=2;break}throw new Error("Not connected to game server");case 2:return e.abrupt("return",this.client.request(n,t));case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),i.setAuthToken=function(e){var n,t=null==(n=this.client)?void 0:n.isConnected;this.authToken=e,this.client&&(this.client.setAuthToken(e),t&&this.client.isConnected&&(console.log("[GameNetworkManager] Token updated, reconnecting..."),this.disconnect(),this.connect(e).catch((function(e){console.error("[GameNetworkManager] Failed to reconnect with new token:",e)}))))},i.destroy=function(){this.disconnect(),this.authToken=""},t(e,[{key:"isReady",get:function(){var e;return!0===(null==(e=this.client)?void 0:e.isConnected)&&!0===this.isAuthenticated}},{key:"isConnected",get:function(){var e;return!0===(null==(e=this.client)?void 0:e.isConnected)}},{key:"authenticated",get:function(){return this.isAuthenticated}},{key:"connecting",get:function(){return this.isConnecting}}],[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameOfflineManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OfflineService.ts","./Events.ts"],(function(e){var n,t,r,s,i,a,o,l;return{setters:[function(e){n=e.createForOfIteratorHelperLoose,t=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy},function(e){a=e.OfflineService},function(e){o=e.REQUEST_EVENTS,l=e.RESPONSE_EVENTS}],execute:function(){i._RF.push({},"91102YeoHlLR7E5XE+PDFAV","GameOfflineManager",void 0);var c=1e3;e("default",function(){function e(){this.offlineService=void 0,this.eventHandlers=new Map,this.eventHandlerCleanups=[],this.offlineService=a.instance}var i=e.prototype;return i.cleanupEventHandlers=function(){for(var e,t=n(this.eventHandlerCleanups);!(e=t()).done;){var r=e.value;try{r()}catch(e){console.error("[GameOfflineManager] Error cleaning up event handler:",e)}}this.eventHandlerCleanups=[]},i.on=function(e,n){var t=this;this.eventHandlers.has(e)||this.eventHandlers.set(e,new Set),this.eventHandlers.get(e).add(n);var r=function(){t.off(e,n)};return this.eventHandlerCleanups.push(r),r},i.off=function(e,n){this.eventHandlers.has(e)&&(n?this.eventHandlers.get(e).delete(n):this.eventHandlers.get(e).clear())},i.emit=function(e,n){this.emitResponse(e,n)},i.toApiFormat=function(e){var n=e.sessionMode||"NORMAL",t={id:e.id||"",userId:e.userId||"",sessionId:e.sessionId||"",sessionMode:n,sessionPendingModes:e.sessionPendingModes||[],sessionCurrentStep:e.sessionCurrentStep||0,sessionTotalSteps:e.sessionTotalSteps||0,sessionStatus:e.sessionStatus||"ACTIVE",reelsMatrix:e.reelsMatrix||e.matrixResult||[],winMatrix:e.winMatrix||[],reelsFlat:e.reelsFlat||e.gridResult||[],winCombinations:e.winCombinations||[],winAmount:"string"==typeof e.winAmount?e.winAmount:String(e.winAmount||0),newBalance:e.newBalance||0,winType:e.winType};return e.sessionLockedReels&&e.sessionLockedReels.length>0?t.sessionLockedReels=e.sessionLockedReels:e.respinColumns&&e.respinColumns.length>0?t.sessionLockedReels=e.respinColumns:e.freeGameSpinColumns&&e.freeGameSpinColumns.length>0&&(t.sessionLockedReels=e.freeGameSpinColumns),e.sessionLockedReelData&&(t.sessionLockedReelData=e.sessionLockedReelData),void 0!==e.freeGameLevel&&(t.freeGameLevel=e.freeGameLevel),void 0!==e.startNextLevel&&(t.startNextLevel=e.startNextLevel),void 0!==e.freeGameSeedCount&&(t.freeGameSeedCount=e.freeGameSeedCount),t},i.emitWithReSpin=function(e){var n=this,t=l.SPIN_RESULT;if(this.eventHandlers.has(t)){var r=this.offlineService.generateFarmerStackResult(e);if(r.success){var s=this.toApiFormat(r.data);setTimeout((function(){n.eventHandlers.get(t).forEach((function(e){try{e(s)}catch(e){console.error("[GameOfflineManager] Error in event handler:",e)}}))}),Math.floor(0))}else{var i={message:"Insufficient balance"};setTimeout((function(){n.eventHandlers.get(t).forEach((function(e){try{e(i)}catch(e){console.error("[GameOfflineManager] Error in event handler:",e)}}))}),c)}}},i.emitWithFreeGame=function(e,n){var t=this,r=l.SPIN_RESULT;if(this.eventHandlers.has(r)){var s=this.offlineService.generateResultWithScatters(e,n);if(s.success){var i=this.toApiFormat(s.data);i.startNextLevel=!0,setTimeout((function(){t.eventHandlers.get(r).forEach((function(e){try{e(i)}catch(e){console.error("[GameOfflineManager] Error in event handler:",e)}}))}),c)}else{var a={message:"Insufficient balance"};setTimeout((function(){t.eventHandlers.get(r).forEach((function(e){try{e(a)}catch(e){console.error("[GameOfflineManager] Error in event handler:",e)}}))}),Math.floor(0))}}},i.emitResponse=function(e,n){var t=this,r=this.getResponse(e);if(r){var s=this.getDataResponse(e,n);void 0===s&&e!==o.SPIN_STOPPED||this.eventHandlers.has(r)&&setTimeout((function(){t.eventHandlers.get(r).forEach((function(e){try{e(s)}catch(e){console.error("[GameOfflineManager] Error in event handler:",e)}}))}),c)}},i.getResponse=function(e){switch(e){case o.GET_GAME_CONFIG:return l.GET_GAME_CONFIG;case o.SPIN_STARTED:return l.SPIN_RESULT;case o.SPIN_RESPIN_STARTED:return l.RE_SPIN_RESULT;case o.SPIN_FREE_GAME_STARTED:return l.FREE_GAME_RESULT;case o.SPIN_STOPPED:return l.SPIN_RESULT;case o.GET_BALANCE:return l.USER_BALANCE;default:return}},i.getDataResponse=function(e,n){switch(e){case o.GET_GAME_CONFIG:return this.handleGetGameConfig();case o.SPIN_STARTED:return this.handleNormalSpin(n);case o.SPIN_RESPIN_STARTED:return this.handleReSpinResult(n);case o.SPIN_FREE_GAME_STARTED:return this.handleFreeGameResult(n);case o.SPIN_STOPPED:return void this.offlineService.stopAutoSpin();case o.GET_BALANCE:return this.offlineService.getBalance();default:return}},i.handleGetGameConfig=function(){return{Girl:{x5:.6,x4:.5,x3:.35,x2:.25},Durian:{x5:.75,x4:.45,x3:.25},Watermelon:{x5:.6,x4:.35,x3:.2},Soursop:{x5:.5,x4:.3,x3:.15},Grape:{x5:.3,x4:.2,x3:.1},Banana:{x5:.25,x4:.15,x3:.05},Orange:{x5:.2,x4:.1,x3:.05},Scale:{x5:30,x4:10,x3:2}}},i.handleNormalSpin=function(e){var n=this.offlineService.generateResult(e.amount);return this.toApiFormat(n.data)},i.handleReSpinResult=function(e){var n=this.offlineService.generateRespinResult();return this.toApiFormat(n.data)},i.handleFreeGameResult=function(e){var n=this.offlineService.generateFreeGameSpinResult();return this.toApiFormat(n.data)},i.request=function(){var e=r(s().mark((function e(n,t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Request not supported in offline mode");case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),i.destroy=function(){this.cleanupEventHandlers(),this.offlineService.stopAutoSpin()},t(e,[{key:"isReady",get:function(){return!!this.offlineService}},{key:"authenticated",get:function(){return!0}},{key:"connecting",get:function(){return!1}}],[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameRulePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./MultipleWinItem.ts","./GameConstants.ts","./BasePopup.ts"],(function(t){var e,n,i,l,o,r,a,u,p,s,c,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,u=t.PageView,p=t.Button},null,function(t){s=t.MultipleWinItem},function(t){c=t.ESlotSymbol},function(t){f=t.BasePopup}],execute:function(){var h,m,g,b,v,C,y,P,W,w,B,d,I,_;o._RF.push({},"6c6d2qlcklCjoDtbb16Np+A","GameRulePopup",void 0);var k=r.ccclass,x=r.property,D=((h={})[c.Girl]="multipleWin_girl",h[c.Durian]="multipleWin_durian",h[c.Watermelon]="multipleWin_watermelon",h[c.Soursop]="multipleWin_soursop",h[c.Grapes]="multipleWin_grape",h[c.Banana]="multipleWin_banana",h[c.Orange]="multipleWin_orange",h[c.Scale]="multipleWin_scale",h);t("GameRulePopup",(m=k("GameRulePopup"),g=x(a),b=x(u),v=x(a),C=x(a),y=x(a),m((w=e((W=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"listMultipleWinItems",w,l(e)),i(e,"pageView",B,l(e)),i(e,"btnPrev",d,l(e)),i(e,"btnNext",I,l(e)),i(e,"btnHome",_,l(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.listenButtonEvent()},o.listenButtonEvent=function(){this.btnPrev.on(p.EventType.CLICK,this.onClickBtnPrev,this),this.btnNext.on(p.EventType.CLICK,this.onClickBtnNext,this),this.btnHome.on(p.EventType.CLICK,this.onClickBtnHome,this)},o.cleanup=function(){var t,e,n;null==(t=this.btnPrev)||t.off(p.EventType.CLICK,this.onClickBtnPrev,this),null==(e=this.btnNext)||e.off(p.EventType.CLICK,this.onClickBtnNext,this),null==(n=this.btnHome)||n.off(p.EventType.CLICK,this.onClickBtnHome,this)},o.onClickBtnPrev=function(){var t=this.pageView.getCurrentPageIndex();t>=1&&this.pageView.scrollToPage(t-1,.3)},o.onClickBtnNext=function(){var t=this.pageView.getCurrentPageIndex();t<this.pageView.getPages().length&&this.pageView.scrollToPage(t+1,.3)},o.onClickBtnHome=function(){this.pageView.scrollToPage(0)},o.onDataReceived=function(e){t.prototype.onDataReceived.call(this,e);var n=e.configMultiply;this.setMultipleWinData(n)},o.setMultipleWinData=function(t){var e=this,n=function(){var n=D[i];e.listMultipleWinItems.find((function(t){return t.name===n})).getComponent(s).setMultipleWin(t[i])};for(var i in t)n()},e}(f)).prototype,"listMultipleWinItems",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(W.prototype,"pageView",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(W.prototype,"btnPrev",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(W.prototype,"btnNext",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(W.prototype,"btnHome",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=W))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtils.ts",["cc"],(function(e){var n,t,r;return{setters:[function(e){n=e.cclegacy,t=e.Vec3,r=e.UITransform}],execute:function(){n._RF.push({},"1ffafD3aHdEr4NpnGaaG1wm","GameUtils",void 0);e("GameUtils",function(){function e(){}return e.convertPositionAnotherNode=function(e,n){if(!(e&&e.parent&&n&&n.parent))return t.ZERO;var o=n.getComponent(r).convertToWorldSpaceAR(new t(0,0,0));return e.parent.getComponent(r).convertToNodeSpaceAR(o)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GenericPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts"],(function(t){var n,e,i,o,l,a,c,r,u,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,c=t.Label,r=t.Button,u=t.Node},function(t){s=t.BasePopup}],execute:function(){var f,h,b,p,C,d,m,L,y,v,B,g,k,w,z,N,T,P,I,K,x,D,R;l._RF.push({},"f1f55gCbSRKLaZUCSYczvco","GenericPopup",void 0);var S=a.ccclass,E=a.property;t("GenericPopup",(f=S("GenericPopup"),h=E(c),b=E(c),p=E(c),C=E(c),d=E(r),m=E(r),L=E(u),y=E(u),v=E(u),B=E(u),f((w=n((k=function(t){function n(){for(var n,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return n=t.call.apply(t,[this].concat(l))||this,i(n,"titleLabel",w,o(n)),i(n,"contentLabel",z,o(n)),i(n,"confirmLabel",N,o(n)),i(n,"cancelLabel",T,o(n)),i(n,"confirmButton",P,o(n)),i(n,"cancelButton",I,o(n)),i(n,"headerNode",K,o(n)),i(n,"bodyNode",x,o(n)),i(n,"footerNode",D,o(n)),i(n,"titleContainer",R,o(n)),n.onConfirmCallback=null,n.onCancelCallback=null,n}e(n,t);var l=n.prototype;return l.setupUI=function(){t.prototype.setupUI.call(this),this.confirmButton&&this.confirmButton.node&&this.confirmButton.node.on(r.EventType.CLICK,this.onConfirmClick,this),this.cancelButton&&this.cancelButton.node&&this.cancelButton.node.on(r.EventType.CLICK,this.onCancelClick,this)},l.onDataReceived=function(n){if(t.prototype.onDataReceived.call(this,n),n){var e=n;void 0!==e.title&&(this.titleLabel&&(this.titleLabel.string=e.title||"",this.titleLabel.node.active=!!e.title),this.titleContainer&&(this.titleContainer.active=!!e.title),this.headerNode&&(this.headerNode.active=!!e.title)),void 0!==e.content&&this.contentLabel&&(this.contentLabel.string=e.content||"",this.contentLabel.node.active=!!e.content);var i=!1!==e.showConfirm,o=!0===e.showCancel;this.confirmButton&&(this.confirmButton.node.active=i,e.confirmText&&this.confirmLabel?this.confirmLabel.string=e.confirmText:this.confirmLabel&&(this.confirmLabel.string="OK")),this.cancelButton&&(this.cancelButton.node.active=o,e.cancelText&&this.cancelLabel?this.cancelLabel.string=e.cancelText:this.cancelLabel&&(this.cancelLabel.string="Cancel")),this.onConfirmCallback=e.onConfirm||null,this.onCancelCallback=e.onCancel||null}},l.onShow=function(){t.prototype.onShow.call(this)},l.onHide=function(){t.prototype.onHide.call(this)},l.cleanup=function(){t.prototype.cleanup.call(this),this.confirmButton&&this.confirmButton.node&&this.confirmButton.node.off(r.EventType.CLICK,this.onConfirmClick,this),this.cancelButton&&this.cancelButton.node&&this.cancelButton.node.off(r.EventType.CLICK,this.onCancelClick,this),this.onConfirmCallback=null,this.onCancelCallback=null},l.onConfirmClick=function(){this.onConfirmCallback&&this.onConfirmCallback(),this.deactive()},l.onCancelClick=function(){this.onCancelCallback&&this.onCancelCallback(),this.deactive()},n}(s)).prototype,"titleLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(k.prototype,"contentLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(k.prototype,"confirmLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(k.prototype,"cancelLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(k.prototype,"confirmButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(k.prototype,"cancelButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(k.prototype,"headerNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(k.prototype,"bodyNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(k.prototype,"footerNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(k.prototype,"titleContainer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=k))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var a,e,n,o,r;return{setters:[function(t){a=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var c,l;n._RF.push({},"b7948Xh8R1CKIbX8Ofsb4Nt","GlobalDataManager",void 0);var i=o.ccclass;o.property,t("DATA_STORE_KEY",{TOTAL_BET:"total_bet",GAME_CONFIG:"game_config",BALANCE:"balance",IS_OFFLINE_MODE:"isOfflineMode"}),t("LOCAL_STORAGE_KEY",{USER_ID:"user_id",BG_MUSIC:"backgroundMusic",SFX:"sfx"}),t("GlobalDataManager",i("GlobalDataManager")(((l=function(t){function n(){for(var a,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(a=t.call.apply(t,[this].concat(n))||this).mapDataStore=new Map,a}a(n,t);var o=n.prototype;return o.onLoad=function(){n._instance=this},o.onDestroy=function(){this.mapDataStore.clear(),n._instance===this&&(n._instance=null)},o.setDataStore=function(t,a){this.mapDataStore.set(t,a)},o.getDataStore=function(t,a){return this.mapDataStore.get(t)||a},o.setLocalStoreByKey=function(t,a){try{localStorage.setItem(t,a)}catch(t){console.error("[GlobalDataManager] Failed to save localStorage:",t)}},o.getLocalStoreByKey=function(t,a){void 0===a&&(a="");try{return localStorage.getItem(t)||a}catch(t){return console.error("[GlobalDataManager] Failed to read localStorage:",t),a}},e(n,null,[{key:"Instance",get:function(){return n._instance||console.error("[GlobalEventManager] Instance not initialized"),n._instance}}]),n}(r))._instance=null,c=l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalEventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,r,s,i;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,i=e.Component}],execute:function(){var o,c;r._RF.push({},"cb8b2WfD4tHbIDvignLihiz","GlobalEventManager",void 0);var l=s.ccclass;e("GlobalEventManager",l("GlobalEventManager")(((c=function(e){function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).mapEventsRegistered=new Map,t}t(r,e);var s=r.prototype;return s.onLoad=function(){r._instance=this},s.onDestroy=function(){var e=this;r._instance===this&&(r._instance=null);for(var t,a=function(){var n=t.value,a=n[0];n[1].forEach((function(t){e.node.off(a,t.callback,t.target)}))},s=n(this.mapEventsRegistered);!(t=s()).done;)a();this.mapEventsRegistered.clear()},s.fireEvent=function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];(t=this.node).emit.apply(t,[e].concat(a))},s.registerEvents=function(e,t,n){var a=n||this;this.node.on(e,t,a),this.mapEventsRegistered.has(e)||this.mapEventsRegistered.set(e,[]),this.mapEventsRegistered.get(e).push({callback:t,target:a})},s.registerOnce=function(e,t,n){this.node.once(e,t,n||this)},s.unregisterEvents=function(e,t,n){var a=n||this;if(this.node.off(e,t,a),t&&this.mapEventsRegistered.has(e)){for(var r=this.mapEventsRegistered.get(e),s=r.length-1;s>=0;s--)r[s].callback===t&&r[s].target===a&&r.splice(s,1);0===r.length&&this.mapEventsRegistered.delete(e)}},s.unregisterAllByTarget=function(e){for(var t,a=n(this.mapEventsRegistered);!(t=a()).done;){for(var r=t.value,s=r[0],i=r[1],o=i.length-1;o>=0;o--)i[o].target===e&&(this.node.off(s,i[o].callback,e),i.splice(o,1));0===i.length&&this.mapEventsRegistered.delete(s)}},a(r,null,[{key:"Instance",get:function(){return r._instance||console.error("[GlobalEventManager] Instance not initialized"),r._instance}}]),r}(i))._instance=null,o=c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/HoldButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./TimeConfig.ts","./RGPComponent.ts"],(function(t){var i,n,e,s,o,a,S,r,l,_,h,c,p,I,N,u,P,E;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,S=t._decorator,r=t.Enum,l=t.sp,_=t.Node,h=t.Button,c=t.tween,p=t.Vec3,I=t.Label,N=t.Tween,u=t.warn},null,function(t){P=t.TimeConfig},function(t){E=t.RGPComponent}],execute:function(){var A,d,T,f,m,L,g,D,C,O,b,y,v;a._RF.push({},"65fd8Sd4PZLKa+kw2PNZjnH","HoldButton",void 0);var R=S.ccclass,B=S.property,k=t("EventType",{STOP_AUTO_CLICK:"stop-auto-spin",SKIP_SPINNING_CLICK:"skip-spinning-click",SPIN_CLICK:"spin-click",HOLD_ENDED:"hold-end"}),w=t("EButtonAnim",function(t){return t.NONE="none",t.IDLE_AUTO_SPIN="anim_idle_auto_spin",t.IDLE_DEFAULT_SPIN="anim_idle_default_spin",t.IDLE_DEFAULT_STOP="anim_idle_default_stop",t.IDLE_SPIN_DISABLE="anim_idle_spin_disable_or_holding",t.IDLE_STOP_DISABLE="anim_idle_stop_disable_or_holding",t.PRESS_SPIN="anim_press_spin",t.SPIN_RETURN="anim_spin_return",t.PRESS_STOP="anim_press_stop",t.STOP_RETURN="anim_stop_return",t.CLICK_SPIN="anim_press_spin_after_return",t.CLICK_STOP="anim_press_stop_after_return",t}({})),K=t("EButtonState",function(t){return t[t.NONE=0]="NONE",t[t.NORMAL_SPIN=1]="NORMAL_SPIN",t[t.DISABLE_SPIN=2]="DISABLE_SPIN",t[t.SKIP_SPINNING=3]="SKIP_SPINNING",t[t.DISABLE_SKIP_SPINNING=4]="DISABLE_SKIP_SPINNING",t[t.AUTO_SPIN=5]="AUTO_SPIN",t}({}));r(K);var U=t("StateTransitions",((A={})[K.NONE]=[K.NORMAL_SPIN],A[K.NORMAL_SPIN]=[K.DISABLE_SPIN,K.AUTO_SPIN,K.DISABLE_SKIP_SPINNING],A[K.DISABLE_SPIN]=[K.SKIP_SPINNING,K.NORMAL_SPIN,K.AUTO_SPIN],A[K.SKIP_SPINNING]=[K.DISABLE_SKIP_SPINNING,K.NORMAL_SPIN],A[K.DISABLE_SKIP_SPINNING]=[K.DISABLE_SPIN,K.NORMAL_SPIN,K.SKIP_SPINNING],A[K.AUTO_SPIN]=[K.DISABLE_SPIN,K.NORMAL_SPIN,K.DISABLE_SKIP_SPINNING],A));t("HoldButton",(d=R("HoldButton"),T=B({displayName:"SPINE",type:l.Skeleton}),f=B({displayName:"Auto spin",type:_}),m=B({displayName:"Label spin",type:_}),L=B({displayName:"Ic waiting auto",type:_}),d(((v=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"spine",C,s(i)),e(i,"autoSpin",O,s(i)),e(i,"lblSpin",b,s(i)),e(i,"icWaitingAuto",y,s(i)),i.holding=!1,i.firedHold=!1,i._interactable=!0,i._state=K.NONE,i._lastState=K.NORMAL_SPIN,i}n(i,t);var a=i.prototype;return a.onEnable=function(){this.registerEventListeners()},a.onDisable=function(){this.unregisterEventListeners()},a.registerEventListeners=function(){this.node.on(_.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(h.EventType.CLICK,this.onClick,this),this.node.on(_.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(_.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.spine.setCompleteListener(this.handlerAnimComplete.bind(this))},a.handlerAnimComplete=function(t){switch(t.animation.name){case w.PRESS_SPIN:this.holding&&this.playAnim(w.IDLE_SPIN_DISABLE,!0),this.spine.timeScale=1;break;case w.PRESS_STOP:this.spine.timeScale=1}},a.unregisterEventListeners=function(){this.node.off(_.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(_.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(_.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},a.detectExitState=function(){switch(this._lastState){case K.AUTO_SPIN:this.onExitAutoSpin();break;case K.DISABLE_SPIN:this.onExitDisableSpin();break;case K.DISABLE_SKIP_SPINNING:this.onExitDisableSkipSpinning()}},a.updateState=function(){switch(this._state){case K.NORMAL_SPIN:this.onEnterNormalSpin();break;case K.DISABLE_SPIN:this.onEnterDisableSpin();break;case K.SKIP_SPINNING:this.onEnterSkipSpinning();break;case K.DISABLE_SKIP_SPINNING:this.onEnterDisableSkipping();break;case K.AUTO_SPIN:this.onEnterAutoSpin()}},a.isValidTransition=function(t){var i=U[this._state];return!i||-1!==i.indexOf(t)},a.onEnterNormalSpin=function(){this.interactable=!0,this.playAnim(w.IDLE_DEFAULT_SPIN,!0)},a.onEnterDisableSpin=function(){this.interactable=!1,this.playAnim(w.IDLE_SPIN_DISABLE,!0)},a.onEnterSkipSpinning=function(){this.interactable=!0,this.playAnim(w.IDLE_DEFAULT_STOP,!0)},a.onEnterDisableSkipping=function(){this.interactable=!1,this.playAnim(w.IDLE_STOP_DISABLE,!0)},a.onExitAutoSpin=function(){this.autoSpin.active=!1},a.onExitDisableSpin=function(){this.playAnim(w.SPIN_RETURN,!1)},a.onExitDisableSkipSpinning=function(){this.playAnim(w.STOP_RETURN,!1)},a.onEnterAutoSpin=function(){this.interactable=!0,this.autoSpin.active=!0,this.TweenService.clearNodeTweens(this.autoSpin);var t=this.TweenService.getTweenComponent(this.autoSpin);this.startTween(c(t).set({opacity:0,scale:new p(.3,.3,.3)}).to(.3,{scale:p.ONE,opacity:255},{easing:"backIn"})),this.playAnim(w.IDLE_AUTO_SPIN,!0)},a.updateAutoSpinVal=function(t){var i="00"==t?-10:0;this.autoSpin.getComponentInChildren(I).string=t,this.autoSpin.getComponentInChildren(I).spacingX=i},a.onTouchStart=function(){this.interactable&&this.state===K.NORMAL_SPIN&&(this.resetInternalState(),this.holding=!0,this.tweenHold(this.lblSpin),this.playAnim(w.PRESS_SPIN,!1),this.scheduleOnce(this.triggerHoldEvent,P.TIME_HOLDING))},a.onTouchEnd=function(){this.interactable&&(this.holding&&this.firedHold,this.resetInternalState())},a.onClick=function(){if(!this.firedHold&&this.interactable)switch(this.state){case K.NORMAL_SPIN:this.onSpinClicK();break;case K.AUTO_SPIN:this.onClickStopAutoSpin();break;case K.SKIP_SPINNING:this.onClickStop()}},a.onSpinClicK=function(){this.getCurAnim()===w.PRESS_SPIN&&(this.spine.timeScale=3),this.node.emit(k.SPIN_CLICK)},a.onClickStopAutoSpin=function(){this.playAnim(w.PRESS_STOP,!1),this.spine.timeScale=3,this.node.emit(k.STOP_AUTO_CLICK)},a.onClickStop=function(){this.playAnim(w.PRESS_STOP,!1),this.spine.timeScale=3,this.node.emit(k.SKIP_SPINNING_CLICK)},a.triggerHoldEvent=function(){var t=this;this.firedHold=!0,this.holding=!1,this.icWaitingAuto.active=!0,this.tweenHold(this.icWaitingAuto),this.node.emit(k.HOLD_ENDED,{cb:function(){t.resetInternalState()}})},a.resetInternalState=function(){this.holding=!1,this.firedHold=!1,N.stopAllByTarget(this.TweenService.getTweenComponent(this.lblSpin)),N.stopAllByTarget(this.TweenService.getTweenComponent(this.icWaitingAuto)),this.icWaitingAuto.active=!1,this.unschedule(this.triggerHoldEvent)},a.playAnim=function(t,i){if(void 0===i&&(i=!1),this.spine){if(t===this.getCurAnim())return;this.detectAnimNeedDone()?this.spine.addAnimation(0,t,i):this.spine.setAnimation(0,t,i)}},a.tweenHold=function(t){var i=this.TweenService.getTweenComponent(t);i.opacity=155,N.stopAllByTarget(i),this.startTween(c(i).to(.25,{opacity:155}).to(.25,{opacity:255}).union().repeatForever(),null,!0)},a.detectAnimNeedDone=function(){var t=this.getCurAnim();return[w.SPIN_RETURN,w.STOP_RETURN,w.PRESS_STOP,w.PRESS_SPIN].indexOf(t)>=0},a.getCurAnim=function(){var t=this.spine.getCurrent(0);return t?t.animation.name:""},o(i,[{key:"interactable",get:function(){return this._interactable},set:function(t){this._interactable=t,this.node.getComponent(h).interactable=t}},{key:"state",get:function(){return this._state},set:function(t){this._state!==t&&(this.isValidTransition(t)?(this._lastState=this._state,this._state=t,this.detectExitState(),this.updateState()):u("Invalid state transition from "+K[this._state]+" to "+K[t]))}}]),i}(E)).EventType=k,C=i((D=v).prototype,"spine",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(D.prototype,"autoSpin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(D.prototype,"lblSpin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(D.prototype,"icWaitingAuto",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=D))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./SoundManager.ts","./SoundConfig.ts"],(function(n){var e;return{setters:[function(n){e=n.cclegacy},function(e){n("SoundManager",e.SoundManager)},function(e){var t={};t.PATH_CLIP_SOUND=e.PATH_CLIP_SOUND,t.SoundType=e.SoundType,n(t)}],execute:function(){e._RF.push({},"1f40exTXt5AyoXOrTSAXYPw","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index10.ts",["cc","./EnvironmentConfig.ts","./SelectServerPopup.ts"],(function(e){var n;return{setters:[function(e){n=e.cclegacy},function(n){e("EnvironmentConfig",n.EnvironmentConfig)},function(n){e("SelectServerPopup",n.SelectServerPopup)}],execute:function(){n._RF.push({},"cf507ANJaNBFrSF5IB4FXkr","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./index9.ts","./index4.ts","./index6.ts","./index8.ts","./index5.ts","./index.ts","./index3.ts","./LoginManager.ts","./LoginScreen.ts","./UILoginController.ts","./APIHandler.ts","./ApiURL.ts","./Emitter.ts","./GameApiManager.ts","./NetworkConfig.ts","./NetworkConstants.ts","./BasePopup.ts","./BasicPopup.ts","./GenericPopup.ts","./LoadingOverlay.ts","./PopupConfig.ts","./PopupData.ts","./PopupManager.ts","./SceneManager.ts","./ScreenConfig.ts","./BaseScreen.ts","./ScreenManager.ts","./SoundManager.ts","./SoundConfig.ts","./Logger.ts"],(function(n){var e;return{setters:[function(n){e=n.cclegacy},null,null,null,null,null,null,null,function(e){n("LoginManager",e.LoginManager)},function(e){n("LoginScreen",e.LoginScreen)},function(e){n("UILoginController",e.UILoginController)},function(e){n("APIHandler",e.APIHandler)},function(e){var o={};o.ApiURL=e.ApiURL,o.EnvDir=e.EnvDir,n(o)},function(e){n("Emitter",e.default)},function(e){n("GameApiManager",e.GameApiManager)},function(e){n("NetworkConfig",e.NetworkConfig)},function(e){n("EVENTS",e.EVENTS)},function(e){n("BasePopup",e.BasePopup)},function(e){n("BasicPopup",e.BasicPopup)},function(e){n("GenericPopup",e.GenericPopup)},function(e){var o={};o.LoadingMode=e.LoadingMode,o.LoadingOverlay=e.LoadingOverlay,n(o)},function(e){var o={};o.PATH_PREFAB_POPUP=e.PATH_PREFAB_POPUP,o.PopupType=e.PopupType,n(o)},function(e){var o={};o.PopupAnimationData=e.PopupAnimationData,o.PopupStorage=e.PopupStorage,n(o)},function(e){n("PopupManager",e.PopupManager)},function(e){n("SceneManager",e.SceneManager)},function(e){var o={};o.PATH_PREFAB_SCREEN=e.PATH_PREFAB_SCREEN,o.SCREEN_PREFAB_NAMES=e.SCREEN_PREFAB_NAMES,o.ScreenType=e.ScreenType,n(o)},function(e){var o={};o.BaseScreen=e.BaseScreen,o.ScreenAnimationData=e.ScreenAnimationData,n(o)},function(e){n("ScreenManager",e.ScreenManager)},function(e){n("SoundManager",e.SoundManager)},function(e){var o={};o.PATH_CLIP_SOUND=e.PATH_CLIP_SOUND,o.SoundType=e.SoundType,n(o)},function(e){var o={};o.LogLevel=e.LogLevel,o.Logger=e.Logger,n(o)}],execute:function(){e._RF.push({},"25389kWMAFMHbdmTKrx28fl","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc","./Logger.ts"],(function(e){var c;return{setters:[function(e){c=e.cclegacy},function(c){var t={};t.LogLevel=c.LogLevel,t.Logger=c.Logger,e(t)}],execute:function(){c._RF.push({},"2fac7cm8AVEw7QT4gl6Oo+s","index",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/index4.ts",["cc","./APIHandler.ts","./ApiURL.ts","./ApiTypes.ts","./Emitter.ts","./GameApiManager.ts","./GameNetworkManager.ts","./NetworkConfig.ts","./NetworkConstants.ts","./NetworkTypes.ts"],(function(t){var n;return{setters:[function(t){n=t.cclegacy},function(n){t("APIHandler",n.APIHandler)},function(n){var e={};e.ApiURL=n.ApiURL,e.EnvDir=n.EnvDir,t(e)},null,function(n){t("Emitter",n.default)},function(n){t("GameApiManager",n.GameApiManager)},null,function(n){t("NetworkConfig",n.NetworkConfig)},function(n){t("EVENTS",n.EVENTS)},null],execute:function(){n._RF.push({},"61fe0NyetBJcJ7rp7EYNAsg","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/index5.ts",["cc","./ScreenConfig.ts","./BaseScreen.ts","./ScreenManager.ts"],(function(e){var n;return{setters:[function(e){n=e.cclegacy},function(n){var c={};c.PATH_PREFAB_SCREEN=n.PATH_PREFAB_SCREEN,c.SCREEN_PREFAB_NAMES=n.SCREEN_PREFAB_NAMES,c.ScreenType=n.ScreenType,e(c)},function(n){var c={};c.BaseScreen=n.BaseScreen,c.ScreenAnimationData=n.ScreenAnimationData,e(c)},function(n){e("ScreenManager",n.ScreenManager)}],execute:function(){n._RF.push({},"9419aVC71BPq6RwDoispxqM","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/index6.ts",["cc","./BasePopup.ts","./BasicPopup.ts","./GenericPopup.ts","./LoadingOverlay.ts","./PopupConfig.ts","./PopupData.ts","./PopupManager.ts"],(function(p){var o;return{setters:[function(p){o=p.cclegacy},function(o){p("BasePopup",o.BasePopup)},function(o){p("BasicPopup",o.BasicPopup)},function(o){p("GenericPopup",o.GenericPopup)},function(o){var n={};n.LoadingMode=o.LoadingMode,n.LoadingOverlay=o.LoadingOverlay,p(n)},function(o){var n={};n.PATH_PREFAB_POPUP=o.PATH_PREFAB_POPUP,n.PopupType=o.PopupType,p(n)},function(o){var n={};n.PopupAnimationData=o.PopupAnimationData,n.PopupStorage=o.PopupStorage,p(n)},function(o){p("PopupManager",o.PopupManager)}],execute:function(){o._RF.push({},"9961aB9Yb9KL7PP8X9Pj6DQ","index",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/index7.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"9a4cfTUDqZDy5oVNesBqvsq","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index8.ts",["cc","./SceneManager.ts"],(function(e){var n;return{setters:[function(e){n=e.cclegacy},function(n){e("SceneManager",n.SceneManager)}],execute:function(){n._RF.push({},"9fa02/lHIJH7r6g99Boq1TI","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/index9.ts",["cc","./LoginManager.ts","./LoginScreen.ts","./UILoginController.ts"],(function(n){var o;return{setters:[function(n){o=n.cclegacy},function(o){n("LoginManager",o.LoginManager)},function(o){n("LoginScreen",o.LoginScreen)},function(o){n("UILoginController",o.UILoginController)}],execute:function(){o._RF.push({},"b2dcedo0DFFGo20BUoFhQ58","index",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/InterfaceTweenHub.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4b341ZwCbpA66wsj8tB0HQW","InterfaceTweenHub",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ISpinResultData.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"27523gp1/VMKaRZanUwi5xr","ISpinResultData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ITweenMoney.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"9c048VD7flKi6MFYIBxKM5c","ITweenMoney",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./RGPComponent.ts"],(function(n){var e,t,i,o,a,r,s,c,l,u,p,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.sp,c=n.Button,l=n.Vec3,u=n.Tween,p=n.tween},null,function(n){h=n.RGPComponent}],execute:function(){var m,d,f,b,A,_,g,v,x;a._RF.push({},"13db4/wssVLdaxnuxD0ngL6","JackpotBox",void 0);var y=r.ccclass,M=r.property,w=n("EJackpotBox",function(n){return n[n.NONE=0]="NONE",n[n.MINI=1]="MINI",n[n.MINOR=2]="MINOR",n[n.MAJOR=3]="MAJOR",n[n.GRAND=4]="GRAND",n}({})),N="anim_chest_opening",T="anim_chest_repair_open",R="anim_chest_idle",I="anim_chest_idle_open",B="anim_idle_diamond_seed",C="anim_idle_gold_seed",O="anim_idle_silver_seed",k="anim_copper_idle",D="anim_star_appear";n("JackpotBox",(m=y("JackpotBox"),d=M(s.Skeleton),f=M(s.Skeleton),b=M(s.Skeleton),m((g=e((_=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"boxAnim",g,o(e)),i(e,"vfxApeear",v,o(e)),i(e,"animMango",x,o(e)),e.boxType=null,e.cb=void 0,e}t(e,n);var a=e.prototype;return a.onLoad=function(){this.boxAnim.setAnimation(0,R,!0),this.vfxApeear.node.active=!1,this.animMango.node.active=!1,this.node.on(c.EventType.CLICK,this.onClicK,this)},a.cleanup=function(){this.node.off(c.EventType.CLICK,this.onClicK,this)},a.onClicK=function(){var n=this;this.node.getComponent(c).interactable=!1,this.boxAnim.setAnimation(0,T,!1);var e=this.boxAnim.addAnimation(0,N,!1);this.boxAnim.addAnimation(0,I,!0),this.scheduleOnce((function(){n.showMango()}),e.animation.duration)},a.showMango=function(){var n=this;if(this.boxType){this.vfxApeear.node.active=!0,this.vfxApeear.setAnimation(0,D,!0),this.animMango.node.active=!0,this.animMango.setAnimation(0,this.getMangoAnimByType(this.boxType),!0),this.animMango.node.setScale(new l(.1,.1,.1));var e=this.TweenService.getTweenComponent(this.animMango.node);u.stopAllByTarget(e),this.startTween(p(e).to(.3,{scale:l.ONE}).to(.3,{scale:new l(.5,.5,.5)}).call((function(e){e.scale=new l(.5,.5,.5),n.cb&&(n.cb(),n.cb=null)})))}},a.getMangoAnimByType=function(n){switch(n){case w.MINI:return k;case w.MINOR:return O;case w.MAJOR:return C;case w.GRAND:return B}return null},a.setupBox=function(n,e){this.boxType=n,this.cb=e},e}(h)).prototype,"boxAnim",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(_.prototype,"vfxApeear",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(_.prototype,"animMango",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=_))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./JackpotBox.ts","./TimeConfig.ts","./RGPComponent.ts"],(function(t){var e,o,n,i,r,a,c,l,s,p,u,f,h,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,l=t.Prefab,s=t.Vec3,p=t.Tween,u=t.tween,f=t.instantiate},null,function(t){h=t.JackpotBox},function(t){b=t.TimeConfig},function(t){d=t.RGPComponent}],execute:function(){var y,v,m,C,T,g,w,x,k;r._RF.push({},"dbf870vMU1GDo5cacA2Zbdq","JackpotController",void 0);var A=a.ccclass,P=a.property;t("JackpotController",(y=A("JackpotController"),v=P(c),m=P(c),C=P(l),y((w=e((g=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"body",w,i(e)),n(e,"boxParent",x,i(e)),n(e,"boxItem",k,i(e)),e.mapCountTier={},e.cbHide=void 0,e}o(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this)},r.showJackpot=function(t,e){this.node.active=!0,this.cbHide=e,this.resetAll(),this.setupBox(t);var o=this.TweenService.getTweenComponent(this.body);o.opacity=0,o.scale=new s(.3,.3,.3),p.stopAllByTarget(o),this.startTween(u(o).to(b.DUR_SHOW_ANY_PANEL,{opacity:255,scale:s.ONE},{easing:"backOut"}).call((function(t){t.scale=s.ONE,t.opacity=255})))},r.hideJackpot=function(t){var e=this;void 0===t&&(t=0);var o=this.TweenService.getTweenComponent(this.body);p.stopAllByTarget(o),this.startTween(u(o).delay(t).to(b.DUR_HIDE_ANY_PANEL,{opacity:0,scale:new s(.3,.3,.3)},{easing:"backIn"}).call((function(){e.cbHide&&(e.cbHide(),e.cbHide=null),e.node.active=!1})))},r.setupBox=function(t){var e=this;this.boxParent.removeAllChildren();for(var o=function(o){var n=f(e.boxItem);n.parent=e.boxParent,n.active=!0,n.getComponent(h).setupBox(t[o],(function(){e.onBoxOpen(t[o])}))},n=0;n<t.length;n++)o(n)},r.resetAll=function(){this.mapCountTier={}},r.onBoxOpen=function(t){this.mapCountTier[t]||(this.mapCountTier[t]=0),this.mapCountTier[t]++,3===this.mapCountTier[t]&&this.hideJackpot(1)},e}(d)).prototype,"body",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(g.prototype,"boxParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(g.prototype,"boxItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=g))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotModeHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProcessCommand.ts","./ModeHandler.ts","./TimeConfig.ts"],(function(t){var n,o,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.ProcessCommand},function(t){i=t.ModeHandler},function(t){c=t.TimeConfig}],execute:function(){o._RF.push({},"73188xMIG9L1rekTi47VGeD","JackpotModeHandler",void 0);t("JackpotModeHandler",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.handleResult=function(t){this.isRunning=!0;var n=t.matrixResult,o=t.isWin,e=t.sequenceMatrixWin,i=t.isEndSession,c=[];return c=(c=c.concat(this.createActionJackpot(t))).concat(this.createActionShowResultReel(n)),o&&(c=c.concat(this.createActionWin(t))),c=c.concat(this.createActionCleanSession()),i&&e&&e.length>0&&(c=c.concat(this.createActionLoopWin(e))),c},i.createActionJackpot=function(t){var n=this,o=[],i=t.jackpotMystery,c=t.matrixMystery,r=t.matrixResult;o.push(new e({action:function(){n.slotDirector.slotTable.showResultReelValue(r),n.slotDirector.slotTable.showResultReelWin(c,[])},duration:2})),o.push(new e({action:function(){n.slotDirector.jackpotNoti.showEffect()},duration:1.75})),o.push(new e({action:function(){n.slotDirector.enterJackpotMode(1)},duration:1}));var s=new e({delay:1e3});return o.push(new e({action:function(){n.slotDirector.jackpotControl.showJackpot(i,(function(){s.clearDelay()}))},duration:0})),o.push(s),o.push(new e({action:function(){n.slotDirector.exitJackpotMode(1)},duration:1})),o},i.createActionWin=function(t){var n=this,o=t.winAmount,i=t.matrixWin,r=t.respinColumns,s=t.jackpotType,a=c.DUR_ANIM_RESULT;return this.rewardProcess=new e({action:function(){n.slotDirector.slotTable.showResultReelWin(i,r);var t={duration:a,delayHide:0};n.slotDirector.showJackpotWin(o,t,s)},onEnd:function(){n.slotDirector.forceWinAmount(o,!0)},duration:a}),this.pendingRewardProcess=new e({action:function(){},onEnd:function(){n.slotDirector.winEffectControl.hideWinEffect(),n.pendingLoopWinProcess&&n.pendingLoopWinProcess.clearDelay()},delay:2,duration:0}),[this.rewardProcess,this.pendingRewardProcess]},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotNotiEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FreeGameEffect.ts","./TimeConfig.ts"],(function(e){var t,i,n,o,r,c,a,s,f,p,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.sp,s=e.Vec3,f=e.Tween,p=e.tween},function(e){l=e.FreeGameEffect},function(e){u=e.TimeConfig}],execute:function(){var h,y,v,w,E;r._RF.push({},"331f3CTJJZGDrW88vwnQdWe","JackpotNotiEffect",void 0);var g=c.ccclass,m=c.property;e("JackpotNotiEffect",(h=g("JackpotNotiEffect"),y=m(a.Skeleton),h((E=t((w=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"spine",E,o(t)),t}return i(t,e),t.prototype.showEffect=function(){var e=this.TweenService.getTweenComponent(this.node);this.node.active=!0,e.scale=s.ZERO,e.opacity=0,f.stopAllByTarget(e),this.startTween(p(e).to(u.DUR_SHOW_ANY_PANEL,{opacity:255,scale:s.ONE})),this.spine.setAnimation(0,"anim_4_twinke3",!0)},t}(l)).prototype,"spine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotProgressive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./Events.ts","./TimeConfig.ts","./RGPComponent.ts"],(function(t){var e,n,o,i,r,s,a,c,u,p,l,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Enum,c=t.Label,u=t.error},null,function(t){p=t.GLOBAL_EVENTS},function(t){l=t.TimeConfig},function(t){y=t.RGPComponent}],execute:function(){var f,h,m,v,g,E,N;r._RF.push({},"43f3cxOOdlLrLaUtiQAHsZD","JackpotProgressive",void 0);var P=s.ccclass,d=s.property,T=t("EJackpotType",function(t){return t[t.NONE=0]="NONE",t[t.MINI=1]="MINI",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR",t[t.GRAND=4]="GRAND",t}({}));t("JackpotProgressive",(f=P("JackpotProgressive"),h=d({displayName:"Jackpot type",type:a(T)}),m=d(c),f((E=e((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"jackpotType",E,i(e)),o(e,"money",N,i(e)),e.curAmount=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.money.string=this.RGPUtils.formatFullMoney(0),this.jackpotType===T.NONE&&u("Progressive "+this.node.name+" not setup type"),this.listenEvents()},r.listenEvents=function(){this.registerEvents(p.UPDATE_JACKPOT,this.updateProgressive,this)},r.cleanup=function(){this.unregisterEvents(p.UPDATE_JACKPOT,this.updateProgressive,this)},r.updateProgressive=function(t){var e=this;t.type===this.jackpotType&&this.TweenService.tweenMoney(this.money.node,{from:this.curAmount,to:t.amount,isFormatFullMoney:!0,duration:l.DUR_TWEEN_MONEY},(function(){e.curAmount=t.amount}))},e}(y)).prototype,"jackpotType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.NONE}}),N=e(g.prototype,"money",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotWinEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WinEffect.ts","./Declaration.ts","./SoundConfig.ts"],(function(t){var n,e,i,o,a,r,s,u,c,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.sp,u=t.Vec3},function(t){c=t.WinEffect},null,function(t){p=t.SoundType}],execute:function(){var l,m,f,h,_,y,A,d,S,P,x;a._RF.push({},"f4c68Gg9UVGbr3sSFHZ91yC","JackpotWinEffect",void 0);var b=r.ccclass,E=r.property,T=function(t){return t[t.DIAMOND=1]="DIAMOND",t[t.EMERALD=2]="EMERALD",t[t.RUBY=3]="RUBY",t[t.SAPPHIRE=4]="SAPPHIRE",t}(T||{}),g="anim_1_popup1",k="anim_1_popup_idle",w="anim_4_twinke3",D="anim_4_gold_rain",R="anim_4_text_diamond",M="anim_4_text_emerald",v="anim_4_text_ruby",W="anim_4_text_saphire";t("JackpotWinEffect",(l=b("JackpotWinEffect"),m=E(s.Skeleton),f=E(s.Skeleton),h=E(s.Skeleton),_=E(s.Skeleton),l((d=n((A=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"animPopup",d,o(n)),i(n,"animVfx",S,o(n)),i(n,"animText",P,o(n)),i(n,"animCoin",x,o(n)),n}e(n,t);var a=n.prototype;return a.show=function(n,e,i){void 0===e&&(e={}),t.prototype.show.call(this,n,e),this.SoundManager.playOneShot(p.JACKPOT),this.animPopup.setAnimation(0,g,!1),this.animPopup.addAnimation(0,k,!0),this.animVfx.setAnimation(0,w,!0),this.animCoin.setAnimation(0,D,!0);var o=this.getTextJackpotType(i);this.animText.setAnimation(0,o,!1)},a.skipRewardMoney=function(){t.prototype.skipRewardMoney.call(this)},a.showWinAmount=function(n,e){t.prototype.showWinAmount.call(this,n,e,1)},a.getTextJackpotType=function(t){switch(t){case T.DIAMOND:return R;case T.EMERALD:return M;case T.RUBY:return v;case T.SAPPHIRE:return W}},a.resetAnim=function(){t.prototype.resetAnim.call(this),this.lblWinAmount.node.scale=u.ONE,this.animPopup.timeScale=1,this.animVfx.timeScale=1,this.animText.timeScale=1,this.animPopup.setToSetupPose(),this.animVfx.setToSetupPose(),this.animText.setToSetupPose()},n}(c)).prototype,"animPopup",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(A.prototype,"animVfx",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(A.prototype,"animText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(A.prototype,"animCoin",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=A))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelStack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./GameUtils.ts","./RGPComponent.ts"],(function(t){var e,i,n,o,a,c,s,r,l,u,f,k,p,h,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose},function(t){c=t.cclegacy,s=t._decorator,r=t.Label,l=t.Node,u=t.warn,f=t.sp,k=t.Tween,p=t.tween},null,function(t){h=t.GameUtils},function(t){v=t.RGPComponent}],execute:function(){var S,m,d,g,L,y,b,C,P;c._RF.push({},"0c8ffIUdFhMWrKlsxfywEAr","LevelStack",void 0);var w=s.ccclass,_=s.property;t("LevelStack",(S=w("LevelStack"),m=_(r),d=_(l),g=_(l),S((b=e((y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(e,"totalStack",b,o(e)),n(e,"listStack",C,o(e)),n(e,"stackColumns",P,o(e)),e.mapOriginStackPosition=new Map,e}i(e,t);var c=e.prototype;return c.onLoad=function(){t.prototype.onLoad.call(this),this.init()},c.init=function(){for(var t=0;t<this.stackColumns.length;t++)this.mapOriginStackPosition.set(this.stackColumns[t],this.stackColumns[t].getPosition())},c.showLevelStack=function(){this.node.active=!0,this.resetLevelStack()},c.hideLevelStack=function(){this.resetLevelStack(),this.node.active=!1},c.updateStack=function(t){this.totalStack.string=t+"/3";for(var e=0;e<t;e++)this.listStack[e].active=!0},c.collectStackLevel=function(t,e){var i=this;if(t<0||t>=this.stackColumns.length)u("Index out of bounds in collectStackLevel:",t);else{var n=this.stackColumns[t];if(n){n.active=!0;var o=this.mapOriginStackPosition.get(n);n.setPosition(o),n.getComponent(f.Skeleton).setAnimation(0,"anim_flying_gold_seed",!1);var a=h.convertPositionAnotherNode(n,this.listStack[e-1]);k.stopAllByTarget(n),this.startTween(p(n).delay(.35).to(.8,{position:a}).call((function(){i.updateStack(e),n.active=!1})))}}},c.resetLevelStack=function(){this.resetCollectStack(),this.totalStack.string="0/3",this.listStack.forEach((function(t){t.active=!1}))},c.resetCollectStack=function(){for(var t,e=a(this.mapOriginStackPosition);!(t=e()).done;){var i=t.value,n=i[0],o=i[1];n.setPosition(o),n.active=!1}},e}(v)).prototype,"totalStack",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"listStack",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(y.prototype,"stackColumns",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=y))||L));c._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingOverlay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,o,s,r,a,l,c,u,g,d,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,c=e.Label,u=e.ProgressBar,g=e.Vec3,d=e.BlockInputEvents,p=e.Component}],execute:function(){var h,L,M,v,b,f,m,w,y,S,P,I,O,T,_,C,E,z;r._RF.push({},"a9fc9vLn0dBUavuLL0MXQqA","LoadingOverlay",void 0);var A=a.ccclass,x=a.property,R=e("LoadingMode",function(e){return e.SIMPLE="simple",e.PROGRESS="progress",e}({}));e("LoadingOverlay",(h=A("LoadingOverlay"),L=x(l),M=x(l),v=x(c),b=x(l),f=x(u),m=x(c),w=x(c),h(((z=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,i(n,"simpleModeContainer",P,o(n)),i(n,"spinnerNode",I,o(n)),i(n,"simpleMessageLabel",O,o(n)),i(n,"progressModeContainer",T,o(n)),i(n,"progressBar",_,o(n)),i(n,"progressLabel",C,o(n)),i(n,"progressMessageLabel",E,o(n)),n.block=null,n.timeoutId=null,n.cacheLoadingText="",n.cooldownStartValue=0,n.countingUp=!0,n.clamp0=!0,n.isCooldownActive=!1,n.isLoopingActive=!1,n.currentMode=R.SIMPLE,n.currentProgress=0,n}t(n,e);var r=n.prototype;return r.onLoad=function(){n._instance=this,this.node.setScale(new g(1,1,1)),this.block=this.node.getComponent(d),this.block||(this.block=this.node.addComponent(d)),this.setMode(R.SIMPLE),this.iHide(),console.log("[LoadingOverlay] <onLoad> LoadingOverlay initialized")},r.onDestroy=function(){this.cleanup(),n._instance===this&&(n._instance=null)},r.cleanup=function(){this.unscheduleAll(),this.clearTimeout(),this.isCooldownActive=!1,this.isLoopingActive=!1},r.clearTimeout=function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)})),r.unscheduleAll=function(){this.unschedule(this.cooldown),this.unschedule(this.loopingText)},r.setMode=function(e){this.currentMode=e,this.simpleModeContainer&&(this.simpleModeContainer.active=e===R.SIMPLE),this.progressModeContainer&&(this.progressModeContainer.active=e===R.PROGRESS),e===R.PROGRESS&&this.progressBar&&(this.progressBar.progress=0,this.currentProgress=0)},r.iShow=function(){this.node.active=!0,this.block&&(this.block.enabled=!0),this.simpleMessageLabel&&(this.simpleMessageLabel.string=""),this.progressMessageLabel&&(this.progressMessageLabel.string="")},r.iHide=function(){this.node.active=!1,this.block&&(this.block.enabled=!1),this.unscheduleAll(),this.clearTimeout(),this.currentProgress=0,this.progressBar&&(this.progressBar.progress=0),this.progressLabel&&(this.progressLabel.string="0%")},n.setMode=function(e){var t=n._instance;t?t.setMode(e):console.warn("[LoadingOverlay] Instance not initialized yet")},n.setActiveLoadingText=function(e){var t=n._instance;t?t.spinnerNode&&(t.spinnerNode.active=e):console.warn("[LoadingOverlay] Instance not initialized yet")},n.setProgress=function(e){var t=n._instance;t?(t.currentProgress=Math.max(0,Math.min(1,e)),t.progressBar&&(t.progressBar.progress=t.currentProgress),t.progressLabel&&(t.progressLabel.string=Math.round(100*t.currentProgress)+"%")):console.warn("[LoadingOverlay] Instance not initialized yet")},n.setMessage=function(e){var t=n._instance;t?t.currentMode===R.SIMPLE?t.simpleMessageLabel&&(t.simpleMessageLabel.string=e||""):t.progressMessageLabel&&(t.progressMessageLabel.string=e||""):console.warn("[LoadingOverlay] Instance not initialized yet")},n.show=function(e,t){void 0===e&&(e=R.SIMPLE);var i=n._instance;i?(i.setMode(e),t&&n.setMessage(t),i.iShow(),n.setActiveLoadingText(e===R.SIMPLE)):console.warn("[LoadingOverlay] Instance not initialized yet")},n.hide=function(){var e=n._instance;e?e.iHide():console.warn("[LoadingOverlay] Instance not initialized yet")},n.showWithTimeout=function(e,t,i){void 0===i&&(i=R.SIMPLE);var o=n._instance;if(!o)return console.warn("[LoadingOverlay] Instance not initialized yet"),void(t&&t());n.show(i),o.clearTimeout(),o.timeoutId=setTimeout((function(){n.hide();var e=n._instance;e&&(e.timeoutId=null),t&&t()}),e)},n.setCooldownText=function(e,t,i,o){void 0===i&&(i=!0),void 0===o&&(o=!0);var s=n._instance;s?(s.unschedule(s.cooldown),s.isCooldownActive=!1,s.cacheLoadingText=e,s.countingUp=i,s.cooldownStartValue=t,s.clamp0=o,s.isCooldownActive=!0,s.cooldown(),s.schedule(s.cooldown,1)):console.warn("[LoadingOverlay] Instance not initialized yet")},n.stopCooldown=function(){var e=n._instance;e&&(e.unschedule(e.cooldown),e.isCooldownActive=!1)},r.cooldown=function(){if(this.isCooldownActive){var e="";this.currentMode===R.SIMPLE&&this.simpleMessageLabel?(e=this.cacheLoadingText.replace("{value}",this.cooldownStartValue.toString()),this.simpleMessageLabel.string=e):this.currentMode===R.PROGRESS&&this.progressMessageLabel&&(e=this.cacheLoadingText.replace("{value}",this.cooldownStartValue.toString()),this.progressMessageLabel.string=e),this.cooldownStartValue+=this.countingUp?1:-1,this.cooldownStartValue<0&&this.clamp0&&(this.cooldownStartValue=0)}},n.setLoopingProgressText=function(e,t){void 0===t&&(t=!0);var i=n._instance;i?(i.unschedule(i.loopingText),i.isLoopingActive=!1,i.cacheLoadingText=e,i.currentMode===R.SIMPLE&&i.simpleMessageLabel?i.simpleMessageLabel.string=e:i.currentMode===R.PROGRESS&&i.progressMessageLabel&&(i.progressMessageLabel.string=e),t&&(i.isLoopingActive=!0,i.schedule(i.loopingText,.3),console.log("[LoadingOverlay] Looping text scheduled:",e))):console.warn("[LoadingOverlay] Instance not initialized yet")},n.stopLooping=function(){var e=n._instance;e&&(e.unschedule(e.loopingText),e.isLoopingActive=!1)},r.loopingText=function(){if(this.isLoopingActive){var e="";this.currentMode===R.SIMPLE&&this.simpleMessageLabel?e=this.simpleMessageLabel.string:this.currentMode===R.PROGRESS&&this.progressMessageLabel&&(e=this.progressMessageLabel.string);var n=e.replace(/\.+$/,"");n||(n=this.cacheLoadingText);var t=e.length-n.length,i="";i=t>=3?n:n+".".repeat(t+1),this.currentMode===R.SIMPLE&&this.simpleMessageLabel?this.simpleMessageLabel.string=i:this.currentMode===R.PROGRESS&&this.progressMessageLabel&&(this.progressMessageLabel.string=i)}else console.log("[LoadingOverlay] Looping inactive, stopping")},n.getCurrentMode=function(){var e=n._instance;return e?e.currentMode:R.SIMPLE},n.getProgress=function(){var e=n._instance;return e?e.currentProgress:0},s(n,null,[{key:"Instance",get:function(){return n._instance}}]),n}(p))._instance=null,P=n((S=z).prototype,"simpleModeContainer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(S.prototype,"spinnerNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(S.prototype,"simpleMessageLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(S.prototype,"progressModeContainer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(S.prototype,"progressBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(S.prototype,"progressLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(S.prototype,"progressMessageLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,a,r,o,c,i,s,u,l;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass,a=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,c=n._decorator,i=n.resources,s=n.JsonAsset,u=n.Component,l=n.log}],execute:function(){var g,L;o._RF.push({},"79537JB+PFK17IsXjxwtrnu","LocalizeManager",void 0);var h=c.ccclass,f=(c.property,n("LANGUAGE",function(n){return n.EN="en",n.VI="vi",n.TH="th",n}({})));n("LocalizeManager",h("LocalizeManager")(((L=function(n){function o(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this)._currentLang=f.EN,e._dataLocalize={},e}e(o,n);var c=o.prototype;return c.onLoad=function(){o._instance?this.destroy():o._instance=this},c.onDestroy=function(){o._instance===this&&(o._instance=null)},c.setLang=function(){var n=a(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._currentLang=e,n.next=3,this.loadLanguageData(e);case 3:n.sent&&l(">>Init localize success with language",e,this._dataLocalize[e]);case 5:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),c.getStringByKey=function(n){return this._dataLocalize[this._currentLang]&&this._dataLocalize[this._currentLang][n]||n},c.loadLanguageData=function(n){var e=this;return new Promise((function(t){e._currentLang=n;var a="data/localize/"+n;i.load(a,s,(function(r,o){if(r)return console.error("[LocalizeManager] Load language data failed at path "+a+": "+r.message),void t(!1);o&&o.json?(e._dataLocalize[n]=o.json,console.log("[LocalizeManager] Loaded language: "+n+" from "+a),t(!0)):t(!1)}))}))},t(o,[{key:"currentLang",get:function(){return this._currentLang}}],[{key:"Instance",get:function(){return this._instance}}]),o}(u))._instance=null,g=L))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"04aeag3rsVKDb4oI7em66sY","Logger",void 0);var t=e("LogLevel",function(e){return e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.NONE=4]="NONE",e}({}));e("Logger",function(){function e(e,r){void 0===e&&(e="NetworkClient"),void 0===r&&(r=t.INFO),this.prefix=void 0,this.level=void 0,this.prefix=e,this.level=r}var r=e.prototype;return r.setLevel=function(e){this.level=e},r.debug=function(){if(this.level<=t.DEBUG){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=console).debug.apply(e,["["+this.prefix+"]"].concat(n))}},r.info=function(){if(this.level<=t.INFO){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=console).log.apply(e,["["+this.prefix+"]"].concat(n))}},r.warn=function(){if(this.level<=t.WARN){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=console).warn.apply(e,["["+this.prefix+"]"].concat(n))}},r.error=function(){if(this.level<=t.ERROR){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=console).error.apply(e,["["+this.prefix+"]"].concat(n))}},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/LoginManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./APIHandler.ts","./ApiURL.ts","./NetworkConfig.ts"],(function(e){var t,r,n,o,s,a,i;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){s=e.APIHandler},function(e){a=e.ApiURL},function(e){i=e.NetworkConfig}],execute:function(){o._RF.push({},"19a118dVKJMgKWY0yNS10QN","LoginManager",void 0);var c=e("LoginManager",function(){function e(){this.restoreSession()}var o=e.prototype;return o.login=function(){var e=r(n().mark((function e(t){var r,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.instance.buildApiUrl(a.POST_LOGIN),e.next=3,s.instance.post(t,r);case 3:if(o=e.sent){e.next=6;break}throw new Error("Network error: No response from server. Please check your connection.");case 6:if("object"==typeof o){e.next=8;break}throw new Error("Invalid response format from server");case 8:return this.saveTokens(o,t.rememberMe),console.log("<LoginManager> login response "+JSON.stringify(o)),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.register=function(){var e=r(n().mark((function e(t){var r,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.instance.buildApiUrl(a.POST_REGISTER),e.next=3,s.instance.post(t,r);case 3:if(o=e.sent){e.next=6;break}throw new Error("Network error: No response from server. Please check your connection.");case 6:if("object"==typeof o){e.next=8;break}throw new Error("Invalid response format from server");case 8:return this.saveTokens(o),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.saveTokens=function(e,t){if(void 0===t&&(t=!0),e&&e.success&&e.data){var r=e.data,n=r.accessToken,o=r.refreshToken,a=r.expiresIn,i=r.user;s.instance.jwt=n,t?this.persistTokens(n,o,a,i):(this.clearSession(),s.instance.jwt=n)}},o.getAccessToken=function(){return s.instance.jwt},o.clearSession=function(){localStorage.removeItem(e.ACCESS_TOKEN_KEY),localStorage.removeItem(e.REFRESH_TOKEN_KEY),localStorage.removeItem(e.EXPIRES_IN_KEY),localStorage.removeItem(e.USER_INFO_KEY),localStorage.removeItem("auth.expirationTimestamp"),localStorage.removeItem("auth.savedTime")},o.restoreSession=function(){var t=localStorage.getItem(e.ACCESS_TOKEN_KEY)||"";t&&(s.instance.jwt=t)},o.persistTokens=function(t,r,n,o){localStorage.setItem(e.ACCESS_TOKEN_KEY,t),localStorage.setItem(e.REFRESH_TOKEN_KEY,r),localStorage.setItem(e.EXPIRES_IN_KEY,n),localStorage.setItem(e.USER_INFO_KEY,JSON.stringify(o));var s=parseInt(n,10);if(!isNaN(s)){var a=Date.now()+1e3*s;localStorage.setItem("auth.expirationTimestamp",a.toString()),localStorage.setItem("auth.savedTime",Date.now().toString())}},o.isTokenExpired=function(){var e=localStorage.getItem("auth.expirationTimestamp");if(!e)return!0;var t=parseInt(e,10);if(isNaN(t))return!0;return Date.now()>=t-864e5},o.isAuthenticated=function(){var e=this.getAccessToken();return!(!e||""===e.trim())&&!this.isTokenExpired()},o.logout=function(){this.clearSession(),s.instance.jwt=""},o.refreshToken=function(){var t=r(n().mark((function t(){var r,o,c,u,l,f,p,E;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=localStorage.getItem(e.REFRESH_TOKEN_KEY)||""){t.next=4;break}return t.abrupt("return",!1);case 4:return o=i.instance.buildApiUrl(a.POST_REFRESH_TOKEN),t.next=7,s.instance.post({refreshToken:r},o,3);case 7:if(!((c=t.sent)&&c.success&&c.data)){t.next=13;break}return u=c.data,l=u.accessToken,f=u.refreshToken,p=u.expiresIn,E=u.user,s.instance.jwt=l,this.persistTokens(l,f,p,E),t.abrupt("return",!0);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("Refresh token error",t.t0);case 18:return this.logout(),t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,this,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}());c._instance=void 0,c.ACCESS_TOKEN_KEY="auth.accessToken",c.REFRESH_TOKEN_KEY="auth.refreshToken",c.EXPIRES_IN_KEY="auth.expiresIn",c.USER_INFO_KEY="auth.user",o._RF.pop()}}}));

System.register("chunks:///_virtual/LoginScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index5.ts","./LoginManager.ts","./GameApiManager.ts","./GameNetworkManager.ts","./APIHandler.ts","./PopupConfig.ts","./PopupManager.ts","./LoadingOverlay.ts","./BaseScreen.ts","./ScreenManager.ts","./ScreenConfig.ts"],(function(e){var t,n,i,r,s,o,a,u,l,c,g,h,p,d,f,m,b,v,E,w,L,S,y,R,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,l=e.Toggle,c=e.EditBox,g=e.Button,h=e.Label,p=e.Node,d=e.sys},null,function(e){f=e.LoginManager},function(e){m=e.GameApiManager},function(e){b=e.default},function(e){v=e.APIHandler},function(e){E=e.PopupType},function(e){w=e.PopupManager},function(e){L=e.LoadingOverlay,S=e.LoadingMode},function(e){y=e.BaseScreen},function(e){R=e.ScreenManager},function(e){P=e.ScreenType}],execute:function(){var I,x,T,G,M,k,N,C,O,z,A,B,D,H,_,q,K,U,j;a._RF.push({},"be348ZYaqlAur6z4PZpn7Id","LoginScreen",void 0);var F=u.ccclass,Z=u.property,Y=function(e){return e.LOGIN="login",e.REGISTER="register",e}(Y||{});e("LoginScreen",(I=F("LoginScreen"),x=Z(l),T=Z(l),G=Z(c),M=Z(c),k=Z(c),N=Z(g),C=Z(h),O=Z(p),I((B=t((A=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"toggleLogin",B,r(t)),i(t,"toggleRegister",D,r(t)),i(t,"inputName",H,r(t)),i(t,"inputEmail",_,r(t)),i(t,"inputPassword",q,r(t)),i(t,"btnSubmit",K,r(t)),i(t,"btnSubmitLabel",U,r(t)),i(t,"nameContainer",j,r(t)),t.currentMode=Y.LOGIN,t.isProcessing=!1,t}n(t,e);var a=t.prototype;return a.setupUI=function(){e.prototype.setupUI.call(this),this.toggleLogin&&this.toggleLogin.node&&this.toggleLogin.node.on(l.EventType.TOGGLE,this.onModeToggle,this),this.toggleRegister&&this.toggleRegister.node&&this.toggleRegister.node.on(l.EventType.TOGGLE,this.onModeToggle,this),this.btnSubmit&&this.btnSubmit.node&&this.btnSubmit.node.on(g.EventType.CLICK,this.onSubmit,this),this.loadSavedCredentials(),this.setMode(Y.LOGIN)},a.onDataReceived=function(t){e.prototype.onDataReceived.call(this,t),null!=t&&t.email&&this.inputEmail&&(this.inputEmail.string=t.email),(null==t?void 0:t.mode)===Y.REGISTER&&this.setMode(Y.REGISTER)},a.onShow=function(){e.prototype.onShow.call(this),this.loadSavedCredentials()},a.onHide=function(){e.prototype.onHide.call(this),this.saveCredentials()},a.cleanup=function(){e.prototype.cleanup.call(this),this.toggleLogin&&this.toggleLogin.node&&this.toggleLogin.node.off(l.EventType.TOGGLE,this.onModeToggle,this),this.toggleRegister&&this.toggleRegister.node&&this.toggleRegister.node.off(l.EventType.TOGGLE,this.onModeToggle,this),this.btnSubmit&&this.btnSubmit.node&&this.btnSubmit.node.off(g.EventType.CLICK,this.onSubmit,this)},a.onModeToggle=function(e){e.isChecked&&(e===this.toggleLogin?this.setMode(Y.LOGIN):e===this.toggleRegister&&this.setMode(Y.REGISTER))},a.setMode=function(e){this.currentMode=e,this.toggleLogin&&(this.toggleLogin.isChecked=e===Y.LOGIN),this.toggleRegister&&(this.toggleRegister.isChecked=e===Y.REGISTER),this.nameContainer&&(this.nameContainer.active=e===Y.REGISTER),this.btnSubmitLabel&&(this.btnSubmitLabel.string=e===Y.LOGIN?"Login":"Register"),e===Y.LOGIN&&this.inputPassword&&(this.inputPassword.string="")},a.onSubmit=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isProcessing){e.next=2;break}return e.abrupt("return");case 2:if(this.validateInputs()){e.next=4;break}return e.abrupt("return");case 4:if(this.isProcessing=!0,this.setButtonsEnabled(!1),L.show(S.SIMPLE,"Processing..."),L.setLoopingProgressText("Processing..."),e.prev=8,this.currentMode!==Y.LOGIN){e.next=14;break}return e.next=12,this.performLogin();case 12:e.next=16;break;case 14:return e.next=16,this.performRegister();case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(8),L.hide(),this.showError(e.t0 instanceof Error?e.t0.message:"An unexpected error occurred");case 22:return e.prev=22,this.isProcessing=!1,this.setButtonsEnabled(!0),L.hide(),e.finish(22);case 27:case"end":return e.stop()}}),e,this,[[8,18,22,27]])})));return function(){return e.apply(this,arguments)}}(),a.performLogin=function(){var e=s(o().mark((function e(){var t,n,i,r,s,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null==(t=this.inputEmail)?void 0:t.string.trim())||"",r=(null==(n=this.inputPassword)?void 0:n.string)||"",s={usernameOrEmail:i,password:r,rememberMe:!0},e.next=5,f.instance.login(s);case 5:if(a=e.sent){e.next=10;break}this.showError("Network error: No response from server. Please check your connection."),e.next=16;break;case 10:if(!a.success){e.next=15;break}return e.next=13,this.onAuthSuccess();case 13:e.next=16;break;case 15:this.showError(a.message||"Login failed");case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.performRegister=function(){var e=s(o().mark((function e(){var t,n,i,r,s,a,u,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(null==(t=this.inputName)?void 0:t.string.trim())||"",s=(null==(n=this.inputEmail)?void 0:n.string.trim())||"",a=r,!((u=(null==(i=this.inputPassword)?void 0:i.string)||"").length<6)){e.next=7;break}return this.showError("Password must be at least 6 characters"),e.abrupt("return");case 7:return l={name:r,email:s,username:a,password:u,confirmPassword:u,acceptTerms:!0},e.next=10,f.instance.register(l);case 10:if(c=e.sent){e.next=13;break}throw new Error("Network error: No response from server. Please check your connection.");case 13:if(!c.success){e.next=18;break}return e.next=16,this.onAuthSuccess();case 16:e.next=19;break;case 18:this.showError(c.message||"Registration failed");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onAuthSuccess=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.saveCredentials(),e.prev=1,e.next=4,m.instance.getBalance();case 4:return e.next=6,b.instance.connect(v.instance.jwt);case 6:return e.next=8,null==(t=R.Instance)?void 0:t.showScreen(P.MAIN);case 8:e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("[LoginScreen] Error initializing game:",e.t0),this.showError("Login successful but failed to initialize game. Please try again."),this.setButtonsEnabled(!0),this.isProcessing=!1;case 16:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),a.validateInputs=function(){var e,t,n,i=(null==(e=this.inputEmail)?void 0:e.string.trim())||"",r=(null==(t=this.inputPassword)?void 0:t.string)||"";if(!i)return this.showError("Email is required"),!1;if(!this.validateEmail(i))return this.showError("Please enter a valid email address"),!1;if(!r)return this.showError("Password is required"),!1;if(this.currentMode===Y.REGISTER&&!((null==(n=this.inputName)?void 0:n.string.trim())||""))return this.showError("Name is required"),!1;return!0},a.validateEmail=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},a.showError=function(e){var t;null==(t=w.Instance)||t.showPopup(E.GENERIC_POPUP,{content:e,confirmText:"OK"})},a.setButtonsEnabled=function(e){this.btnSubmit&&(this.btnSubmit.interactable=e),this.toggleLogin&&(this.toggleLogin.interactable=e),this.toggleRegister&&(this.toggleRegister.interactable=e)},a.loadSavedCredentials=function(){if(d){var e=d.localStorage.getItem("email"),t=d.localStorage.getItem("username");e&&this.inputEmail&&(this.inputEmail.string=e),t&&this.inputName&&(this.inputName.string=t)}},a.saveCredentials=function(){var e,t;d&&(null!=(e=this.inputEmail)&&e.string&&d.localStorage.setItem("email",this.inputEmail.string),null!=(t=this.inputName)&&t.string&&d.localStorage.setItem("username",this.inputName.string))},t}(y)).prototype,"toggleLogin",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(A.prototype,"toggleRegister",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(A.prototype,"inputName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(A.prototype,"inputEmail",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(A.prototype,"inputPassword",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(A.prototype,"btnSubmit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(A.prototype,"btnSubmitLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(A.prototype,"nameContainer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=A))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./TweenAnimator.ts","./MockApi.ts","./AppController.ts","./EnvironmentConfig.ts","./SelectServerPopup.ts","./index10.ts","./index2.ts","./LoginManager.ts","./LoginScreen.ts","./UILoginController.ts","./index9.ts","./GlobalDataManager.ts","./GlobalEventManager.ts","./LocalizeManager.ts","./APIHandler.ts","./ApiTypes.ts","./ApiURL.ts","./Emitter.ts","./GameApiManager.ts","./GameNetworkManager.ts","./NetworkConfig.ts","./NetworkConstants.ts","./NetworkTypes.ts","./WebSocketClient.ts","./index4.ts","./CommandManager.ts","./ProcessCommand.ts","./BasePopup.ts","./BasicPopup.ts","./GenericPopup.ts","./LoadingOverlay.ts","./PopupConfig.ts","./PopupData.ts","./PopupManager.ts","./index6.ts","./SceneManager.ts","./index8.ts","./BaseScreen.ts","./ScreenConfig.ts","./ScreenManager.ts","./index5.ts","./SoundConfig.ts","./SoundManager.ts","./index.ts","./AsyncUtils.ts","./InterfaceTweenHub.ts","./Logger.ts","./RGPComponent.ts","./RGPUtils.ts","./TweenComponent.ts","./TweenService.ts","./VConsoleMgr.ts","./index3.ts","./Declaration.ts","./SlotAppController.ts","./AutoSpinPanel.ts","./BoatControl.ts","./FreeGameEffect.ts","./HoldButton.ts","./JackpotNotiEffect.ts","./LevelStack.ts","./MainScreen.ts","./MenuPanel.ts","./MultipleWinItem.ts","./NewBetPanel.ts","./SlotLoginScreen.ts","./SplashScreen.ts","./SubUIManager.ts","./FarmerCol.ts","./FarmerSymbol.ts","./FarmerTable.ts","./JackpotBox.ts","./JackpotController.ts","./JackpotProgressive.ts","./GameRulePopup.ts","./NotifyPopup.ts","./BaseReel.ts","./NearWinControl.ts","./ResultReel.ts","./SlotSymbol.ts","./SlotTable.ts","./SpinReel.ts","./SymbolInformation.ts","./BigWinEffect.ts","./FreeGameWinEffect.ts","./JackpotWinEffect.ts","./NormalWinEffect.ts","./WinEffect.ts","./WinEffectControl.ts","./Events.ts","./GameConstants.ts","./GameDataWrapper.ts","./SlotDirector.ts","./SlotExecution.ts","./TimeConfig.ts","./FreeGameModeHandler.ts","./JackpotModeHandler.ts","./ModeHandler.ts","./NormalModeHandler.ts","./RespinModeHandler.ts","./FormatOptions.ts","./GameDataTypes.ts","./ISpinResultData.ts","./ITweenMoney.ts","./NetworkMessages.ts","./SpinResult.ts","./SymbolPayout.ts","./TweenInfo.ts","./index7.ts","./GameAssetsManager.ts","./GameApiOfflineManager.ts","./GameOfflineManager.ts","./OfflineService.ts","./OfflineWallet.ts","./SpinResultManager.ts","./SymbolConfig.ts","./GameUtils.ts","./ProcessRunning.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./SoundConfig.ts","./BaseScreen.ts"],(function(n){var t,e,i,o,r,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Button},null,function(n){r=n.SoundType},function(n){c=n.BaseScreen}],execute:function(){var u;e._RF.push({},"bf6e2+VC+BA/6abD5YQgnKb","MainScreen",void 0);var a=i.ccclass;i.property,n("MainScreen",a("MainScreen")(u=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var i=e.prototype;return i.initialize=function(){n.prototype.initialize.call(this),this.initButtonSound()},i.initButtonSound=function(){var n=this;this.node.getComponentsInChildren(o).forEach((function(t){t.node.on(o.EventType.CLICK,(function(){n.SoundManager.playOneShot(r.CLICK)}))}))},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/MenuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./TweenComponent.ts","./RGPComponent.ts"],(function(e){var n,t,o,i,l,s,r,u,a,c,h,g,d,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,r=e.Node,u=e.Toggle,a=e.Vec3,c=e.Button,h=e.screen,g=e.tween},null,function(e){d=e.TweenComponent},function(e){p=e.RGPComponent}],execute:function(){var f,y,v,b,T,S,M,E,P,C,m,w,G;l._RF.push({},"fdd80i/mqBCHKD+NmEKvxNX","MenuPanel",void 0);var x=s.ccclass,F=s.property;e("MenuPanel",(f=x("MenuPanel"),y=F(r),v=F(r),b=F(u),T=F(u),S=F(u),f((P=n((E=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),s=0;s<t;s++)l[s]=arguments[s];return n=e.call.apply(e,[this].concat(l))||this,o(n,"body",P,i(n)),o(n,"overlay",C,i(n)),o(n,"tgFullScreen",m,i(n)),o(n,"tgMusic",w,i(n)),o(n,"tgSfx",G,i(n)),n.orgBodyPos=new a,n}t(n,e);var l=n.prototype;return l.onLoad=function(){e.prototype.onLoad.call(this),this.init(),this.listenEvents()},l.init=function(){this.orgBodyPos=this.body.getPosition(),this.tgMusic.isChecked=!this.SoundManager.getEnableMusic(),this.tgSfx.isChecked=!this.SoundManager.getEnableSfx()},l.listenEvents=function(){this.tgFullScreen.node.on(u.EventType.TOGGLE,this.onToggleFullScreen,this),this.tgMusic.node.on(u.EventType.TOGGLE,this.onToggleMusic,this),this.tgSfx.node.on(u.EventType.TOGGLE,this.onToggleSoundSfx,this),this.overlay.on(c.EventType.CLICK,this.hideMenuPanel,this)},l.cleanup=function(){var e,n,t,o;null==(e=this.tgFullScreen)||null==(e=e.node)||e.off(u.EventType.TOGGLE,this.onToggleFullScreen,this),null==(n=this.tgMusic)||null==(n=n.node)||n.off(u.EventType.TOGGLE,this.onToggleMusic,this),null==(t=this.tgSfx)||null==(t=t.node)||t.off(u.EventType.TOGGLE,this.onToggleSoundSfx,this),null==(o=this.overlay)||o.off(c.EventType.CLICK,this.hideMenuPanel,this)},l.onToggleFullScreen=function(e){h.supportsFullScreen&&(e.isChecked?h.requestFullScreen():h.exitFullScreen())},l.onToggleMusic=function(e){this.SoundManager.setEnableMusic(!e.isChecked)},l.onToggleSoundSfx=function(e){this.SoundManager.setEnableSfx(!e.isChecked)},l.showMenuPanel=function(e){if(void 0===e&&(e=!0),this.node.active=!0,e){var n=this.orgBodyPos.clone().add(new a(0,150,0)),t=this.orgBodyPos,o=this.body.getComponent(d)||this.body.addComponent(d);this.startTween(g(o).set({position:n,opacity:90}).to(.3,{position:t,opacity:255},{easing:"backOut"}).call((function(e){e.position=t})).start())}else this.body.position=this.orgBodyPos},l.hideMenuPanel=function(e){var n=this;if(void 0===e&&(e=!0),e){var t=this.orgBodyPos.clone().add(new a(0,150,0)),o=this.body.getComponent(d)||this.body.addComponent(d);this.startTween(g(o).to(.3,{position:t,opacity:0},{easing:"backIn"}).call((function(e){e.position=t,n.node.active=!1})))}else this.node.active=!1},n}(p)).prototype,"body",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(E.prototype,"overlay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(E.prototype,"tgFullScreen",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(E.prototype,"tgMusic",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(E.prototype,"tgSfx",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=E))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/MockApi.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,i,r,n,o,s,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.JsonAsset,c=t.Toggle,l=t.randomRangeInt,p=t.Component}],execute:function(){var h,u,g,m,k,d,f,D,A,R,y;n._RF.push({},"fac45+KDXhPtrCyiBZ3HBz7","MockApi",void 0);var b=o.ccclass,F=o.property;t("MockApi",(h=b("MockApi"),u=F(s),g=F(c),m=F(c),k=F(c),h((D=e((f=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,i(e,"mockData",D,r(e)),i(e,"triggerRespin",A,r(e)),i(e,"triggerFreeGame",R,r(e)),i(e,"triggerJackpot",y,r(e)),e.dataRespin=[],e.dataFreeGame=[],e.dataNormal=[],e.dataJackpot=[],e}a(e,t);var n=e.prototype;return n.initMock=function(){0==this.dataRespin.length&&(this.dataRespin=[].concat(this.mockData.json.RE_SPIN_DATA)),0==this.dataFreeGame.length&&(this.dataFreeGame=[].concat(this.mockData.json.FREE_GAME_DATA)),0==this.dataNormal.length&&(this.dataNormal=[].concat(this.mockData.json.NORMAL_DATA)),0==this.dataJackpot.length&&(this.dataJackpot=[].concat(this.mockData.json.JACKPOT_DATA))},n.getMocApikData=function(){return this.initMock(),this.triggerRespin.isChecked?this.getRespinData():this.triggerFreeGame.isChecked?this.getFreeGameData():this.triggerJackpot.isChecked?this.getJackpotData():this.getNormalData()},n.getRespinData=function(){var t=this.dataRespin.shift();if(t){var e=this.mockData.json.RE_SPIN_DATA[0],a=Math.max.apply(Math,e.sessionLockedReels)+1;t.sessionTotalSteps=a,t.sessionLockedReels&&0!==t.sessionLockedReels.length||(t.sessionCurrentStep=a)}return t},n.getJackpotData=function(){return this.dataJackpot[0]},n.getFreeGameData=function(){return this.dataFreeGame.shift()},n.getNormalData=function(){var t=l(0,this.dataNormal.length-1);return this.dataNormal[t]},e}(p)).prototype,"mockData",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(f.prototype,"triggerRespin",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(f.prototype,"triggerFreeGame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(f.prototype,"triggerJackpot",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/ModeHandler.ts",["cc","./ProcessCommand.ts","./TimeConfig.ts"],(function(n){var i,e,o;return{setters:[function(n){i=n.cclegacy},function(n){e=n.ProcessCommand},function(n){o=n.TimeConfig}],execute:function(){i._RF.push({},"fefbaNWcAxHO4heY5gwiNAy","ModeHandler",void 0);n("ModeHandler",function(){function n(n){this.slotDirector=void 0,this.isRunning=!1,this.rewardProcess=null,this.pendingRewardProcess=null,this.pendingLoopWinProcess=null,this.slotDirector=n}var i=n.prototype;return i.onSkipReward=function(){this.isRunning&&(this.slotDirector.isSkipReward?this.pendingRewardProcess&&(this.pendingRewardProcess.skip(),this.pendingRewardProcess=null):(this.slotDirector.isSkipReward=!0,this.slotDirector.winEffectControl.onSkipWin(),this.rewardProcess&&(this.rewardProcess.skip(),this.rewardProcess=null)))},i.cleanProcesses=function(){this.isRunning&&(this.isRunning=!1,this.rewardProcess&&(this.rewardProcess.skip(),this.rewardProcess=null),this.pendingRewardProcess&&(this.pendingRewardProcess.skip(),this.pendingRewardProcess=null),this.pendingLoopWinProcess&&(this.pendingLoopWinProcess.clearDelay(),this.pendingLoopWinProcess.skip(),this.pendingLoopWinProcess=null))},i.createActionShowResultReel=function(n){var i=this;return[new e({action:function(){i.slotDirector.slotTable.showResultReelValue(n)},duration:o.DUR_SHOW_RESULT,delay:o.DELAY_FINISH_SPIN})]},i.createActionWin=function(n){var i=this,s=n.matrixWin,t=n.winAmount,r=n.respinColumns,c=n.isBigWin,a=n.bigWinSequence,l=o.DELAY_HIDE_BIG_WIN,u=o.DUR_HIDE,d=c?o.DUR_BIG_WIN:o.DUR_ANIM_RESULT;if(c){d+=5*a.length,this.rewardProcess=new e({action:function(){i.slotDirector.slotTable.showResultReelWin(s,r);var n={duration:d,delayHide:0};a.map((function(n){return n.duration=5})),i.slotDirector.showBigWin(t,n,a)},onEnd:function(){i.slotDirector.forceWinAmount(t)},duration:d+l+u})}else this.rewardProcess=new e({action:function(){i.slotDirector.slotTable.showResultReelWin(s,r),i.slotDirector.setWinAmount(t,d),i.slotDirector.showNormalWin(t,d,l)},onEnd:function(){i.slotDirector.forceWinAmount(t)},duration:d+l+u});return this.pendingRewardProcess=new e({action:function(){},onEnd:function(){i.slotDirector.winEffectControl.hideWinEffect(),i.pendingLoopWinProcess&&i.pendingLoopWinProcess.clearDelay()},delay:2,duration:0}),[this.rewardProcess,this.pendingRewardProcess]},i.createActionCleanSession=function(){var n=this;return[new e({action:function(){n.slotDirector.endSession()},duration:0})]},i.createActionLoopWin=function(n){var i=this,o=[];return o.push(new e({action:function(){i.slotDirector.slotTable.runLoopReelWin(n)},duration:.01})),o},n}());i._RF.pop()}}}));

System.register("chunks:///_virtual/MultipleWinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./GlobalDataManager.ts","./RGPComponent.ts"],(function(t){var n,e,o,i,l,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Label},null,function(t){l=t.DATA_STORE_KEY},function(t){r=t.RGPComponent}],execute:function(){var a;e._RF.push({},"696bcK0aFNEp61hKBE4D5B3","MultipleWinItem",void 0);var s=o.ccclass;o.property,t("MultipleWinItem",s("MultipleWinItem")(a=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this)},o.setMultipleWin=function(t){var n=Number(this.GlobalDataManager.getDataStore(l.TOTAL_BET)),e=t.x5,o=t.x4,r=t.x3,a=t.x2,s="";e&&(s+="5 x "+this.RGPUtils.formatFullMoney(e*n,{prefix:"$"})),o&&(s+="\n4 x "+this.RGPUtils.formatFullMoney(o*n,{prefix:"$"})),r&&(s+="\n3 x "+this.RGPUtils.formatFullMoney(r*n,{prefix:"$"})),a&&(s+="\n2 x "+this.RGPUtils.formatFullMoney(a*n,{prefix:"$"})),this.node.getComponent(i).string=s},e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/NearWinControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./SlotSymbol.ts","./RGPComponent.ts"],(function(t){var e,i,r,o,n,a,l,s,c,h,u,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.Node,s=t.UIOpacity,c=t.tween,h=t.sp},null,function(t){u=t.SlotSymbol},function(t){y=t.RGPComponent}],execute:function(){var f,p,m,v,b,g,d,N,S,w,C;n._RF.push({},"0d10cW5vhRN8o5B7vyj4PO0","NearWinControl",void 0);var L=a.ccclass,W=a.property;t("NearWinControl",(f=L("NearWinControl"),p=W(l),m=W(l),v=W(l),b=W({type:[l],displayName:"Scatter Columns"}),f((N=e((d=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"overlayLayer",N,o(e)),r(e,"backgroundLayer",S,o(e)),r(e,"scatterHolder",w,o(e)),r(e,"scatterColumns",C,o(e)),e.listOverlay=[],e.listBgNearWin=[],e.mapSymbolsNode=new Map,e.remainSymbolsShowin=[],e}i(e,t);var n=e.prototype;return n.onLoad=function(){var t=this;this.overlayLayer.children.forEach((function(e){t.listOverlay.push(e)})),this.backgroundLayer.children.forEach((function(e){t.listBgNearWin.push(e)})),this.scatterColumns.forEach((function(e,i){t.mapSymbolsNode.set(i,[]),e.children.forEach((function(e){t.mapSymbolsNode.get(i).push(e)}))})),this.reset()},n.showNearWinSymbol=function(t){this.node.active=!0,this.scatterHolder.active=!0;if(Array.isArray(t))for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++){var r=t[e][i];if(r){var o=this.mapSymbolsNode.get(e)[i];e<3?(o.active=!0,o.getComponent(u).playHighlight(r)):this.remainSymbolsShowin.push({symbolNode:o,symbol:r,col:e})}}else console.error("Matrix invalid")},n.showNextScatter=function(t){this.remainSymbolsShowin.filter((function(e){return e.col===t})).forEach((function(t){t.symbolNode.active=!0,t.symbolNode.getComponent(u).playHighlight(t.symbol)}))},n.showNearWinEffect=function(t,e){this.overlayLayer.active=!0,this.backgroundLayer.active=!0;for(var i=0;i<this.listOverlay.length;i++){var r=this.listOverlay[i];if(r.active=i!==t,i!==t){r.getComponent(s).opacity=0;var o=c(r.getComponent(s)).to(.25,{opacity:255});this.startTween(o)}}for(var n=0;n<this.listBgNearWin.length;n++)this.listBgNearWin[n].active=n===t,this.listBgNearWin[n].active&&this.listBgNearWin[n].getComponent(h.Skeleton).setAnimation(0,"animation",!0);this.showNearWinSymbol(e)},n.reset=function(){this.overlayLayer.active=!1,this.backgroundLayer.active=!1,this.backgroundLayer.children.forEach((function(t){t.active=!1})),this.listOverlay.forEach((function(t){t.active=!1})),this.scatterHolder.active=!1,this.scatterColumns.forEach((function(t,e){t.children.forEach((function(t){t.active=!1}))})),this.remainSymbolsShowin=[],this.node.active=!1},e}(y)).prototype,"overlayLayer",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(d.prototype,"backgroundLayer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(d.prototype,"scatterHolder",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(d.prototype,"scatterColumns",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=d))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"d1166BLDlBHzrzAXYYbEkYK","NetworkConfig",void 0),e("NetworkConfig",function(){function e(){this.apiBaseUrl="http://172.10.10.82:8080/gateway/api",this.wsBaseUrl="wss://slot-stag.osyamazakiglobel.club/game"}var n=e.prototype;return n.setApiBaseUrl=function(e){this.apiBaseUrl=e,console.log("[NetworkConfig] API base URL updated to:",e)},n.setWsBaseUrl=function(e){this.wsBaseUrl=e,console.log("[NetworkConfig] WebSocket base URL updated to:",e)},n.getApiBaseUrl=function(){return this.apiBaseUrl},n.getWsBaseUrl=function(){return this.wsBaseUrl},n.buildApiUrl=function(e){return""+this.apiBaseUrl+e},n.buildWsUrl=function(e){var t=this.wsBaseUrl,n=-1!==t.indexOf("?")?"&":"?";return""+t+n+"token="+encodeURIComponent(e)},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkConstants.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1b51f86CclAbJmIuCx2iG3V","NetworkConstants",void 0);t("EVENTS",{AUTH_OK:"auth.ok",AUTH_ERROR:"auth.error"});e._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkMessages.ts",["cc"],(function(){var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"d4154FB/IxNcrvlwmR/oZoD","NetworkMessages",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkTypes.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4e678I5gldOpr7fxYkAlq5L","NetworkTypes",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/NewBetPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./Events.ts","./GameConstants.ts","./RGPComponent.ts"],(function(e){var t,n,i,o,s,r,l,a,c,h,u,p,f,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,l=e.Node,a=e.Button,c=e.Label,h=e.tween,u=e.easing,p=e.instantiate},null,function(e){f=e.GLOBAL_EVENTS},function(e){b=e.DUR_TWEEN_MONEY},function(e){d=e.RGPComponent}],execute:function(){var B,v,y,g,C,I,P,w,O,E,N,x,T,m,L,K,D;s._RF.push({},"19695KyfQVPKYeeLAKNvLKp","NewBetPanel",void 0);var z=r.ccclass,_=r.property;e("NewBetPanel",(B=z("NewBetPanel"),v=_(l),y=_(l),g=_(l),C=_(l),I=_(a),P=_(a),w=_(c),B((N=t((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"btnBetOption",N,o(t)),i(t,"wrapperBetOptions",x,o(t)),i(t,"btnClose",T,o(t)),i(t,"overlay",m,o(t)),i(t,"btnIncrease",L,o(t)),i(t,"btnDecrease",K,o(t)),i(t,"lblCurrentBet",D,o(t)),t.betOptions=[.2,.4,.6,1,2,4,5,10,15,20,50,100,150,200,300],t.currentBetIndex=0,t.betNodes=[],t.originalPos=null,t}n(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this),this.originalPos=this.node.position.clone(),this.initPanel(),this.registerButtonEvents()},s.initPanel=function(){var e=this;this.btnBetOption.active=!1,this.wrapperBetOptions.removeAllChildren(),this.betNodes=[];for(var t=function(t){var n=e.betOptions[t],i=p(e.btnBetOption);i.active=!0,i.parent=e.wrapperBetOptions,i.getComponentInChildren(c).string=e.RGPUtils.formatFullMoney(n),i.off(a.EventType.CLICK),i.on(a.EventType.CLICK,(function(){e.selectBetByIndex(t)})),e.betNodes.push(i)},n=0;n<this.betOptions.length;n++)t(n);this.selectBetByIndex(this.currentBetIndex,!1)},s.registerButtonEvents=function(){var e,t;null==(e=this.btnIncrease)||e.node.on(a.EventType.CLICK,this.onIncreaseBet,this),null==(t=this.btnDecrease)||t.node.on(a.EventType.CLICK,this.onDecreaseBet,this),this.overlay.on(a.EventType.CLICK,this.hidePanel,this),this.btnClose.on(a.EventType.CLICK,this.hidePanel,this)},s.cleanup=function(){var e,t;if(this.betNodes&&this.betNodes.length>0)for(var n=0;n<this.betNodes.length;n++){var i;null==(i=this.betNodes[n])||i.off(a.EventType.CLICK)}null==(e=this.btnIncrease)||e.node.off(a.EventType.CLICK,this.onIncreaseBet,this),null==(t=this.btnDecrease)||t.node.off(a.EventType.CLICK,this.onDecreaseBet,this),this.overlay.off(a.EventType.CLICK,this.hidePanel,this),this.btnClose.off(a.EventType.CLICK,this.hidePanel,this)},s.selectBetByIndex=function(e,t){if(void 0===t&&(t=!0),!(e<0||e>=this.betOptions.length)){this.currentBetIndex=e;var n=this.betOptions[this.currentBetIndex];if(this.lblCurrentBet){var i=t?Number(this.lblCurrentBet.string):n;this.TweenService.tweenMoney(this.lblCurrentBet.node,{from:i,to:n,duration:b,isFormatFullMoney:!0})}this.updateBetNodesSelection(),t&&this.fireEvent(f.SEND_NEW_BET,{betValue:n})}},s.updateBetNodesSelection=function(){for(var e=0;e<this.betNodes.length;e++){var t=this.betNodes[e],n=e===this.currentBetIndex;t.getComponent(a).interactable=!n}},s.onIncreaseBet=function(){this.currentBetIndex<this.betOptions.length-1&&this.selectBetByIndex(this.currentBetIndex+1)},s.onDecreaseBet=function(){this.currentBetIndex>0&&this.selectBetByIndex(this.currentBetIndex-1)},s.showPanel=function(e){var t=this;if(void 0!==e){var n=this.betOptions.indexOf(e);-1!==n&&this.selectBetByIndex(n,!1)}this.node.active=!0,this.originalPos||(this.originalPos=this.node.position.clone());var i=this.originalPos.clone();i.y-=100,this.node.setPosition(i);var o=this.TweenService.getTweenComponent(this.node);o.opacity=0,this.startTween(h(o).to(.25,{opacity:255,position:this.originalPos},{easing:u.sineInOut}).call((function(e){e.position=t.originalPos,e.opacity=255})))},s.hidePanel=function(){var e=this;this.originalPos||(this.originalPos=this.node.position.clone());var t=this.originalPos.clone();t.y-=100;var n=this.TweenService.getTweenComponent(this.node);this.startTween(h(n).to(.25,{opacity:0,position:t},{easing:u.sineInOut}).call((function(){e.node.active=!1})))},s.setMaxBet=function(){this.selectBetByIndex(this.betOptions.length-1)},s.setBetValue=function(e,t){void 0===t&&(t=!1);var n=this.betOptions.indexOf(e);-1!==n&&this.selectBetByIndex(n,t)},s.getBetOptions=function(){return this.betOptions},s.getCurrentBet=function(){return this.betOptions[this.currentBetIndex]},t}(d)).prototype,"btnBetOption",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(E.prototype,"wrapperBetOptions",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(E.prototype,"btnClose",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(E.prototype,"overlay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(E.prototype,"btnIncrease",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(E.prototype,"btnDecrease",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(E.prototype,"lblCurrentBet",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=E))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/NormalModeHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModeHandler.ts"],(function(e){var n,t,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.ModeHandler}],execute:function(){t._RF.push({},"5e1a4paKIFDqJB5WtUMWzwd","NormalModeHandler",void 0);e("NormalModeHandler",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.handleResult=function(e){this.isRunning=!0;var n=e.matrixResult,t=(e.respinColumns,e.isWin),o=e.sequenceMatrixWin,i=e.isEndSession,r=[];return r=r.concat(this.createActionShowResultReel(n)),t&&(r=r.concat(this.createActionWin(e))),r=r.concat(this.createActionCleanSession()),i&&o&&o.length>0&&(r=r.concat(this.createActionLoopWin(o))),r},t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/NormalWinEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WinEffect.ts"],(function(t){var n,o,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){c=t.WinEffect}],execute:function(){var e;o._RF.push({},"9abdd+SCIxDk5+LfHrrGcd8","NormalWinEffect",void 0);var i=r.ccclass;r.property,t("NormalWinEffect",i("NormalWinEffect")(e=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o.prototype.onLoad=function(){t.prototype.onLoad.call(this)},o}(c))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./GenericPopup.ts"],(function(e){var t,o,u,n;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,u=e._decorator},null,function(e){n=e.GenericPopup}],execute:function(){var r;o._RF.push({},"8b941Gr6PFKw4/tVZ7RxlfO","NotifyPopup",void 0);var c=u.ccclass;e("GameRulePopup",c("GameRulePopup")(r=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/OfflineService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinResultManager.ts","./OfflineWallet.ts","./GameConstants.ts"],(function(e){var t,s,n,i,a;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy},function(e){n=e.SpinResultManager},function(e){i=e.OfflineWallet},function(e){a=e.ESlotSymbol}],execute:function(){s._RF.push({},"c848ftg7uRD2pzhNo7S0jWj","OfflineService",void 0),e("OfflineService",function(){function e(){this.spinResultManager=void 0,this.wallet=void 0,this.autoSpinInterval=void 0,this.autoSpinConfig=void 0,this.autoSpinCount=0,this.autoSpinCallback=void 0,this.lastGrid=[],this.lastRespinColumns=[],this.lastFreeGameSpinColumns=[],this.lastBetAmount=0,this.freeGameActive=!1,this.freeGameLevel=0,this.freeGameSeedCount=0,this.freeGameMaxLevel=0,this.pendingNextLevel=!1,this.spinResultManager=n.instance,this.wallet=i.instance}var s=e.prototype;return s.emit=function(e,t){this.emitResponse(e,t)},s.emitResponse=function(e,t){},s.toSpinResponse=function(e,t){void 0===t&&(t=!0);var s=this.wallet.getBalance(),n=e.betAmount||this.lastBetAmount,i=parseFloat(e.winAmount)||0;return{success:t,data:{id:e.id,userId:e.userId,sessionId:e.sessionId,sessionMode:e.sessionMode,sessionPendingModes:e.sessionPendingModes,sessionCurrentStep:e.sessionCurrentStep,sessionTotalSteps:e.sessionTotalSteps,sessionStatus:e.sessionStatus,sessionLockedReels:e.sessionLockedReels,sessionLockedReelData:e.sessionLockedReelData,reelsMatrix:e.reelsMatrix,winMatrix:e.winMatrix,reelsFlat:e.reelsFlat,winCombinations:e.winCombinations,winAmount:e.winAmount,newBalance:s,winType:i>=2*n?"BIG_WIN":"NORMAL_WIN"}}},s.createErrorResponse=function(e){return{success:!1,data:{id:"",userId:"",sessionId:"",sessionMode:"NORMAL",sessionPendingModes:[],sessionCurrentStep:0,sessionTotalSteps:0,sessionStatus:"ERROR",reelsMatrix:[],winMatrix:[],reelsFlat:[],winCombinations:[],winAmount:"0",newBalance:this.wallet.getBalance(),winType:"NORMAL_WIN"}}},s.generateResult=function(e){if(!e||isNaN(e)||e<=0)return this.createErrorResponse(0);if(!this.wallet.deduct(e))return this.createErrorResponse(e);var t=this.spinResultManager.generateResult(e),s=parseFloat(t.winAmount)||0;return t.isWin&&s>0&&!isNaN(s)&&this.wallet.add(s),this.lastGrid=t.gridResult,this.lastRespinColumns=t.respinColumns||[],this.lastBetAmount=e,this.toSpinResponse(t)},s.startAutoSpin=function(e,t){this.stopAutoSpin(),this.autoSpinConfig=e,this.autoSpinCount=0,this.autoSpinCallback=t,this.startAutoSpinLoop()},s.stopAutoSpin=function(){this.autoSpinInterval&&(clearTimeout(this.autoSpinInterval),this.autoSpinInterval=void 0),this.autoSpinConfig=void 0,this.autoSpinCount=0,this.autoSpinCallback=void 0},s.getBalance=function(){return this.wallet.getBalance()},s.setBalance=function(e){this.wallet.setBalance(e)},s.resetBalance=function(){this.wallet.reset()},s.generateFarmerStackResult=function(e){if(!e||isNaN(e)||e<=0)return this.createErrorResponse(0);if(!this.wallet.deduct(e))return this.createErrorResponse(e);var t=this.spinResultManager.generateFarmerStackResult(e),s=parseFloat(t.winAmount)||0;return t.isWin&&s>0&&!isNaN(s)&&this.wallet.add(s),this.lastGrid=t.gridResult,this.lastRespinColumns=t.respinColumns||[],this.lastBetAmount=e,this.toSpinResponse(t)},s.generateResultWithScatters=function(e,t){if(void 0===t&&(t=3),!e||isNaN(e)||e<=0)return this.createErrorResponse(0);if(!this.wallet.deduct(e))return this.createErrorResponse(e);var s=this.spinResultManager.generateResultWithScatters(e,3),n=parseFloat(s.winAmount)||0;s.isWin&&n>0&&!isNaN(n)&&this.wallet.add(n),this.lastGrid=s.gridResult,this.lastRespinColumns=s.respinColumns||[],this.lastBetAmount=e,this.freeGameLevel=s.freeGameLevel||1,this.lastFreeGameSpinColumns=[5],this.freeGameMaxLevel=t;var i=this.toSpinResponse(s);return i.data.freeGameLevel=this.freeGameLevel,i.data.sessionLockedReels=this.lastFreeGameSpinColumns,i},s.generateRespinResult=function(){if(0===this.lastGrid.length||0===this.lastRespinColumns.length)return this.createErrorResponse(0);var e=this.spinResultManager.generateRespinResult(this.lastRespinColumns,this.lastBetAmount),t=parseFloat(e.winAmount)||0;return e.isWin&&t>0&&!isNaN(t)&&this.wallet.add(t),this.lastGrid=e.gridResult,this.lastRespinColumns=e.respinColumns||[],this.toSpinResponse(e)},s.generateFreeGameSpinResult=function(){if(0===this.lastGrid.length||0===this.lastFreeGameSpinColumns.length)return this.createErrorResponse(0);var e=this.spinResultManager.generateRespinResult(this.lastFreeGameSpinColumns,this.lastBetAmount),t=parseFloat(e.winAmount)||0;e.isWin&&t>0&&!isNaN(t)&&this.wallet.add(t);var s=!1,n=null,i=!1;if(0===e.respinColumns.length)if(this.pendingNextLevel){this.pendingNextLevel=!1;var o=Array.from({length:this.freeGameLevel},(function(e,t){return 5-t}));this.lastFreeGameSpinColumns=o,this.freeGameSeedCount=0,i=!0}else this.lastFreeGameSpinColumns=[],s=!0;else this.lastFreeGameSpinColumns=e.respinColumns;!this.pendingNextLevel&&this.freeGameLevel<this.freeGameMaxLevel&&(i||(n=Math.round(2*Math.random()),this.freeGameSeedCount++,Array.isArray(e.matrixResult)&&e.matrixResult[4]&&(e.matrixResult[4][n]=a.Coin)),3===this.freeGameSeedCount&&(this.freeGameLevel++,this.pendingNextLevel=!0)),this.lastGrid=e.gridResult;var r=this.toSpinResponse(e);return s&&(this.freeGameActive=!1,r.data.sessionMode="NORMAL"),r.data.freeGameSeedCount=this.freeGameSeedCount,r.data.freeGameLevel=this.freeGameLevel,r.data.sessionLockedReels=this.lastFreeGameSpinColumns,r.data.startNextLevel=i,r},s.clearRespinState=function(){this.lastGrid=[],this.lastRespinColumns=[],this.lastBetAmount=0},s.isFreeGameActive=function(){return this.freeGameActive},s.hasRespinState=function(){return this.lastRespinColumns.length>0},s.startAutoSpinLoop=function(){var e=this;if(this.autoSpinConfig&&this.autoSpinCallback){var t=this.autoSpinConfig.intervalMs||1e3;this.autoSpinInterval=setTimeout((function s(){if(e.autoSpinConfig&&e.autoSpinCallback)if(e.autoSpinConfig.maxSpins&&e.autoSpinCount>=e.autoSpinConfig.maxSpins)e.stopAutoSpin();else{e.autoSpinCount++;try{var n=e.generateResult(e.autoSpinConfig.amount);if(n.success){var i={gridResult:n.data.reelsFlat,betAmount:e.autoSpinConfig.amount,winAmount:parseFloat(n.data.winAmount)||0,isWin:parseFloat(n.data.winAmount)>0,newBalance:"string"==typeof n.data.newBalance?parseFloat(n.data.newBalance):n.data.newBalance,winLines:[],respinColumns:n.data.sessionLockedReels,isBigWin:"BIG_WIN"===n.data.winType};i.matrixResult=n.data.reelsMatrix;var a=parseFloat(n.data.winAmount)>0&&e.autoSpinConfig.intervalWinMs?e.autoSpinConfig.intervalWinMs:t;setTimeout((function(){e.autoSpinCallback&&e.autoSpinCallback(i),e.autoSpinConfig&&e.autoSpinCallback&&(e.autoSpinInterval=setTimeout(s,t))}),a)}else{var o={message:"Insufficient balance"};e.autoSpinCallback&&e.autoSpinCallback({message:"Insufficient balance"}),e.stopAutoSpin()}}catch(o){console.error("[OfflineService] Error in auto spin:",o);var r={message:o instanceof Error?o.message:"Unknown error"};e.autoSpinCallback&&e.autoSpinCallback(r),e.stopAutoSpin()}}}),t)}},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/OfflineWallet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"dae82zRydNEp7oE8kejRPbb","OfflineWallet",void 0),n("OfflineWallet",function(){function n(){this.balance=1e6}var t=n.prototype;return t.getBalance=function(){return this.balance},t.deduct=function(n){return!(n<0)&&(!(this.balance<n)&&(this.balance-=n,!0))},t.add=function(n){return n<0||(this.balance+=n),this.balance},t.setBalance=function(n){n>=0&&(this.balance=n)},t.reset=function(){this.balance=1e6},e(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/PopupConfig.ts",["cc"],(function(e){var p;return{setters:[function(e){p=e.cclegacy}],execute:function(){p._RF.push({},"0150d767GFC1K1pSclXDyPq","PopupConfig",void 0);e("PATH_PREFAB_POPUP","prefabs/popups/"),e("PopupType",function(e){return e.GENERIC_POPUP="GenericPopup",e.OUT_OF_MONEY="OutOfMoney",e.DISCONNECT="Disconnect",e.SELECT_SERVER="SelectServerPopup",e.GAME_RULE="GameRulePopup",e.NOTIFY="NotifyPopup",e}({}));p._RF.pop()}}}));

System.register("chunks:///_virtual/PopupData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,n,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,o=e._decorator,n=e.CCFloat,a=e.Vec3}],execute:function(){var c,u,l,p,s,f,D;r._RF.push({},"5874beM3qlIBaWSlU5sXAuW","PopupData",void 0);var P=o.ccclass,b=o.property;e("PopupAnimationData",(c=P("PopupAnimationData"),u=b(n),l=b(a),c((f=t((s=function(e,t){i(this,"time",f,this),i(this,"scale",D,this),void 0!==e&&(this.time=e),void 0!==t&&(this.scale=t.clone())}).prototype,"time",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),D=t(s.prototype,"scale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(1,1,1)}}),p=s))||p)),e("PopupStorage",function(e){return e[e.CACHE=0]="CACHE",e[e.POOL=1]="POOL",e[e.DESTROY=2]="DESTROY",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupConfig.ts","./BasePopup.ts","./PopupData.ts","./AsyncUtils.ts"],(function(e){var t,n,o,r,a,i,p,s,u,c,l,h,f,d,v,P,g,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose,i=e.createClass,p=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,l=e.Node,h=e.Component,f=e.instantiate,d=e.resources,v=e.Prefab},function(e){P=e.PATH_PREFAB_POPUP},function(e){g=e.BasePopup},function(e){C=e.PopupStorage},function(e){b=e.waitUntil}],execute:function(){var y,m,A,k,M,w;u._RF.push({},"fefc6PWffpHqK040XA/AcU9","PopupManager",void 0);var x=c.ccclass,_=c.property;e("PopupManager",(y=x("PopupManager"),m=_(l),y(((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,o(t,"popupContainer",M,r(t)),t.caches=new Map,t.pools=new Map,t}n(t,e);var u=t.prototype;return u.onLoad=function(){t._instance=this,this.validateSetup()},u.onDestroy=function(){t._instance===this&&(t._instance=null),this.clearAll()},u.validateSetup=function(){this.popupContainer||console.error("[PopupManager] PopupContainer is not assigned")},u.showPopup=function(){var e=p(s().mark((function e(t,n,o,r){var a,i,p,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o=!0),void 0===r&&(r=!1),this.popupContainer){e.next=5;break}return console.error("[PopupManager] PopupContainer not assigned"),e.abrupt("return",null);case 5:if(o&&this.deactivateAllPopups(t),r&&this.deactivateAllPopups(),!this.pools.has(t)){e.next=18;break}if(a=this.pools.get(t),!(i=a.getComponent(g))){e.next=16;break}return a.active=!0,i.setup(n),e.abrupt("return",a);case 16:console.error("[PopupManager] Pooled popup missing BasePopup component: "+t),this.pools.delete(t);case 18:if(!this.caches.has(t)){e.next=31;break}if(p=this.caches.get(t),u=f(p),this.popupContainer.addChild(u),!(c=u.getComponent(g))){e.next=29;break}return c.setup(n),this.savePopup(c,p),e.abrupt("return",u);case 29:console.error("[PopupManager] Cached popup missing BasePopup component: "+t),u.destroy();case 31:return e.next=33,this.loadAndShowPopup(t,n);case 33:return e.abrupt("return",e.sent);case 34:case"end":return e.stop()}}),e,this)})));return function(t,n,o,r){return e.apply(this,arguments)}}(),u.loadAndShowPopup=function(){var e=p(s().mark((function e(t,n){var o,r,a,i,p,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=P+t.toString(),r=!1,a=null,i=null,d.load(o,v,(function(e,t){if(r=!0,e)return i=e,void console.error("[PopupManager] Failed to load prefab: "+o,e.message);a=t})),e.next=7,b((function(){return r}));case 7:if(!i&&a){e.next=9;break}return e.abrupt("return",null);case 9:if(p=f(a),this.popupContainer.addChild(p),u=p.getComponent(g)){e.next=16;break}return console.error("[PopupManager] Prefab missing BasePopup component: "+t),p.destroy(),e.abrupt("return",null);case 16:return u.setup(n),this.savePopup(u,a),e.abrupt("return",p);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),u.savePopup=function(e,t){switch(e.storage){case C.CACHE:this.caches.set(e.type,t);break;case C.POOL:this.pools.set(e.type,e.node);break;case C.DESTROY:}},u.deactivateAllPopups=function(e){if(void 0===e&&(e=null),this.popupContainer)for(var t,n=a(this.popupContainer.children);!(t=n()).done;){var o=t.value,r=o.getComponent(g);null!=e&&e!=r.type||(r?r.deactive():o.active=!1)}},u.hidePopup=function(e){if(this.pools.has(e)){var t=this.pools.get(e),n=t.getComponent(g);n?n.deactive():t.active=!1}if(this.popupContainer)for(var o,r=a(this.popupContainer.children);!(o=r()).done;){var i=o.value,p=i.getComponent(g);if(p&&p.type===e&&i.active){p.deactive();break}}},u.isPopupActive=function(e){if(this.pools.has(e))return this.pools.get(e).active;if(this.popupContainer)for(var t,n=a(this.popupContainer.children);!(t=n()).done;){var o=t.value,r=o.getComponent(g);if(r&&r.type===e&&o.active)return!0}return!1},u.getActivePopups=function(){var e=[];if(this.popupContainer)for(var t,n=a(this.popupContainer.children);!(t=n()).done;){var o=t.value;if(o.active){var r=o.getComponent(g);r&&e.push(r)}}return e},u.clearAll=function(){this.caches.clear(),this.pools.clear()},u.clearPopup=function(e){this.caches.delete(e),this.pools.delete(e)},u.getCacheCount=function(){return this.caches.size},u.getPoolCount=function(){return this.pools.size},i(t,null,[{key:"Instance",get:function(){return t._instance||console.error("[PopupManager] Instance not exists"),t._instance}}]),t}(h))._instance=null,M=t((k=w).prototype,"popupContainer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=k))||A));u._RF.pop()}}}));

System.register("chunks:///_virtual/ProcessCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommandManager.ts"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.createClass,n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.CommandState}],execute:function(){e._RF.push({},"108d9aRpw5NWYLY+fRgY7pr","ProcessCommand",void 0);var s=t("BaseCommand",function(){function t(t){this._state=o.IDLE,this._id=void 0,this._onCompleteCallback=null,this._id=t||Math.random().toString(36).substr(2,9)}var n=t.prototype;return n.execute=function(){this._state===o.IDLE&&(this._state=o.RUNNING,this.onExecute())},n.update=function(t){this._state===o.RUNNING&&this.onUpdate(t)},n.onUpdate=function(t){},n.finish=function(){this._state===o.RUNNING&&(this._state=o.COMPLETED,this.onFinish(),this._onCompleteCallback&&this._onCompleteCallback())},n.onFinish=function(){},n.cancel=function(){this._state!==o.RUNNING&&this._state!==o.IDLE||(this._state=o.CANCELLED,this.onCancel())},n.onCancel=function(){},n.onComplete=function(t){this._onCompleteCallback=t},i(t,[{key:"state",get:function(){return this._state}},{key:"id",get:function(){return this._id}}]),t}());t("WaitCommand",function(t){function i(i){var n;return(n=t.call(this)||this)._duration=void 0,n._timer=0,n._duration=i,n}n(i,t);var e=i.prototype;return e.onExecute=function(){this._timer=0,this._duration<=0&&this.finish()},e.onUpdate=function(t){this._timer+=t,this._timer>=this._duration&&this.finish()},i}(s)),t("ProcessCommand",function(t){function i(i,n){var e;return(e=t.call(this,n)||this)._action=void 0,e._duration=void 0,e._delay=void 0,e._onEnd=void 0,e._elapsedTime=0,e._delayTime=0,e._isDelayCompleted=!1,e._isActionCalled=!1,e._action=i.action,e._duration=i.duration||0,e._delay=i.delay||0,e._onEnd=i.onEnd,e._isDelayCompleted=e._delay<=0,e}n(i,t);var e=i.prototype;return e.onExecute=function(){},e.onUpdate=function(t){if(!this._isDelayCompleted){if(this._delayTime+=t,!(this._delayTime>=this._delay))return;this._isDelayCompleted=!0;var i=this._delayTime-this._delay;this._elapsedTime+=i}this._isActionCalled||(this._action&&this._action(),this._isActionCalled=!0),this._elapsedTime+=t,this._elapsedTime>=this._duration&&this.finish()},e.onFinish=function(){this._onEnd&&this._onEnd()},e.onCancel=function(){this._onEnd&&this._onEnd()},e.changeDuration=function(t){t>0&&(this._duration=t)},e.clearDelay=function(){this._delayTime=0,this._isDelayCompleted=!0},e.skip=function(){this.cancel()},i}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/ProcessRunning.ts",["cc"],(function(i){var t,n;return{setters:[function(i){t=i.cclegacy,n=i._decorator}],execute:function(){var e;t._RF.push({},"0b2a4s9rjFE3Y3do2ob/zU2","ProcessRunning",void 0);var s=n.ccclass;n.property,i("ProcessRunning",s("ProcessRunning")(e=function(){function i(i){var t=i.action,n=i.duration,e=i.delay,s=void 0===e?0:e,o=i.onEnd,a=void 0===o?function(){}:o;this._action=void 0,this._delay=void 0,this._duration=void 0,this._elapseTime=0,this._delayTime=0,this._onEnd=void 0,this._isRunning=!1,this._isCompleted=!1,this._actionCalled=!1,this._delayCompleted=!1,this._action=t,this._duration=n,this._delay=s,this._onEnd=a,this._isRunning=!0,this._elapseTime=0,this._delayTime=0,this._actionCalled=!1,this._delayCompleted=s<=0}var t=i.prototype;return t.skipAction=function(){this._isCompleted||(this._isCompleted=!0,this._isRunning=!1,this._onEnd&&"function"==typeof this._onEnd&&this._onEnd())},t.changeDuration=function(i){if(i>0){var t=this._duration>0?this._elapseTime/this._duration:0;this._duration=i,this._elapseTime=t*i}},t.clearDelay=function(){this._delayTime=0},t.updateAction=function(i){if(!this._isRunning||this._isCompleted)return!0;if(!this._delayCompleted){if(this._delayTime+=i,!(this._delayTime>=this._delay))return!1;this._delayCompleted=!0}return this._actionCalled||(this._action&&"function"==typeof this._action&&this._action(),this._actionCalled=!0),this._elapseTime+=i,this._elapseTime>=this._duration&&(this._isCompleted=!0,this._isRunning=!1,this._onEnd&&"function"==typeof this._onEnd&&this._onEnd(),!0)},i}())||e);t._RF.pop()}}}));

System.register("chunks:///_virtual/RespinModeHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProcessCommand.ts","./ModeHandler.ts","./TimeConfig.ts"],(function(e){var n,t,o,i,s,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.warn},function(e){i=e.ProcessCommand},function(e){s=e.ModeHandler},function(e){r=e.TimeConfig}],execute:function(){t._RF.push({},"6d8c9/g+IBHGaJB9lo4cZ2t","RespinModeHandler",void 0);e("RespinModeHandler",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.handleResult=function(e){var n=this;this.isRunning=!0;var t=e.respinColumns,s=e.canRespin,c=e.isWin,a=e.exitRespin,u=e.matrixResult,l=e.isEndSession,d=e.sequenceMatrixWin,R=[];return R=R.concat(this.createActionShowResultReel(u)),c&&(R=R.concat(this.createActionWin(e))),t&&t.length>0&&R.push(new i({action:function(){o("Farmer stack detected"),t.forEach((function(e){n.slotDirector.slotTable.validateFarmerExisted(e)||n.slotDirector.slotTable.showResultFarmerOneCol(e)}))},duration:r.DUR_ANIM_RESULT})),s&&(R.push(new i({action:function(){n.slotDirector.slotTable.showResultFarmerMove()},duration:r.DUR_RESPIN_CONTINUE})),R.push(new i({action:function(){o("Continue respin"),n.slotDirector.resetRound(),n.slotDirector.requestReSpin()},duration:r.DUR_ANIM_RESULT}))),a&&(R=R.concat(this.createActionCleanSession())),l&&d&&d.length>0&&(R=R.concat(this.createActionLoopWin(d))),R},t}(s));t._RF.pop()}}}));

System.register("chunks:///_virtual/ResultReel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotSymbol.ts","./BaseReel.ts","./GameConstants.ts"],(function(t){var e,n,l,o,s,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,l=t._decorator,o=t.warn},function(t){s=t.SlotSymbol},function(t){i=t.BaseReel},function(t){u=t.ESlotSymbol}],execute:function(){var c;n._RF.push({},"90fb0EkrptNQawHSkH9zld7","ResultReel",void 0);var r=l.ccclass;l.property,t("ResultReel",r("ResultReel")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var l=n.prototype;return l.setResultSymbols=function(t){3===t.length?(this.node.active=!0,this.listSymbols.forEach((function(e,n){var l,o;e&&(null==(l=e.getComponent(s))||l.setResultSymbol(t[n]),null==(o=e.getComponent(s))||o.setWinState(!0))}))):o("[ResultReel] Expected 3 symbols, received:",t.length)},l.setWinResults=function(t){3===t.length?(this.node.active=!0,this.listSymbols.forEach((function(e,n){var l,o,i,u;Number(t[n])>0?(null==(l=e.getComponent(s))||l.setWinState(!0),null==(o=e.getComponent(s))||o.playHighlight()):(null==(i=e.getComponent(s))||i.setWinState(!1),null==(u=e.getComponent(s))||u.playIdle())}))):o("[ResultReel] Expected 3 symbols, received:",t.length)},l.getSymbolByRowIdx=function(t){return this.listSymbols[t]},l.highlightScatterWinSymbols=function(t){this.listSymbols.forEach((function(e,n){var l;t[n]==u.Scale&&(null==(l=e.getComponent(s))||l.playHighlight(t[n]))}))},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/RGPComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./LoadingOverlay.ts","./TweenService.ts","./RGPUtils.ts","./GlobalDataManager.ts","./PopupManager.ts","./GlobalEventManager.ts","./LocalizeManager.ts"],(function(n){var e,t,a,i,o,r,c,s,u,l,g,f;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){a=n.cclegacy,i=n.Component},function(n){o=n.SoundManager},function(n){r=n.LoadingOverlay},function(n){c=n.TweenService},function(n){s=n.RGPUtils},function(n){u=n.GlobalDataManager},function(n){l=n.PopupManager},function(n){g=n.GlobalEventManager},function(n){f=n.LocalizeManager}],execute:function(){a._RF.push({},"bc7fd46asBPKLsLchlNjLsd","RGPComponent",void 0);n("RGPComponent",function(n){function a(){return n.apply(this,arguments)||this}e(a,n);var i=a.prototype;return i.onLoad=function(){},i.onDestroy=function(){this.cleanup()},i.cleanup=function(){},i.startTween=function(n,e,t){void 0===t&&(t=!1),c.Instance.startTween(this.node,n,e,t)},i.fireEvent=function(n){var e;if(this.checkGlobalEventIsInit()){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];(e=g.Instance).fireEvent.apply(e,[n].concat(a))}},i.registerEvents=function(n,e,t){this.checkGlobalEventIsInit()&&g.Instance.registerEvents(n,e,t||this)},i.registerOnce=function(n,e,t){this.checkGlobalEventIsInit()&&g.Instance.registerOnce(n,e,t||this)},i.unregisterEvents=function(n,e,t){this.checkGlobalEventIsInit()&&g.Instance.unregisterEvents(n,e,t||this)},i.getLocalizeStringByKey=function(n){return this.checkGlobalEventIsInit()?f.Instance.getStringByKey(n):n},i.checkGlobalEventIsInit=function(){return!!g.Instance||(console.error("GlobalEventManager is not initialized yet!, pls attacth it to PersistentNode"),!1)},t(a,[{key:"SoundManager",get:function(){return o.Instance}},{key:"LoadingOverlay",get:function(){return r.Instance}},{key:"TweenService",get:function(){return c.Instance}},{key:"RGPUtils",get:function(){return s.Instance}},{key:"GlobalDataManager",get:function(){return u.Instance}},{key:"PopupManager",get:function(){return l.Instance}},{key:"LocalizeManager",get:function(){return f.Instance}}]),a}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/RGPUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"9eb72b8HDhCJJoYSIP+/dJV","RGPUtils",void 0),e("RGPUtils",function(){function e(){}var r=e.prototype;return r.formatNumber=function(e,t){return void 0===t&&(t=0),isNaN(e)||!isFinite(e)?"0":e.toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},r.formatShortMoney=function(e,t){if(isNaN(e)||!isFinite(e))return"0";var r,i,n=void 0!==(null==t?void 0:t.decimals)?t.decimals:2,o=this.roundToDecimals(e,n);if(o>=1e9)r=this.roundToDecimals(o/1e9,n).toFixed(n),i="B";else if(o>=1e6){r=this.roundToDecimals(o/1e6,n).toFixed(n),i="M"}else{if(!(o>=1e3)){var a=(null==t?void 0:t.prefix)||"",s=(null==t?void 0:t.suffix)||"";return""+a+Math.round(o).toString()+s}r=this.roundToDecimals(o/1e3,n).toFixed(n),i="K"}n>0&&(r=parseFloat(r).toString());var u=r.split("."),l=u[0],c=u[1],d=l.replace(/\B(?=(\d{3})+(?!\d))/g,",");return r=void 0!==c?d+"."+c:d,""+((null==t?void 0:t.prefix)||"")+r+i+((null==t?void 0:t.suffix)||"")},r.formatFullMoney=function(e,t){if(isNaN(e)||!isFinite(e))return"0";var r,i=void 0!==(null==t?void 0:t.decimals)?t.decimals:2,n=this.roundToDecimals(e,i).toFixed(i).split("."),o=n[0],a=n[1],s=o.replace(/\B(?=(\d{3})+(?!\d))/g,",");return r=i>0&&a?s+"."+a:s,""+((null==t?void 0:t.prefix)||"")+r+((null==t?void 0:t.suffix)||"")},r.formatTime=function(e,t,r){if(void 0===t&&(t="HH:MM:SS"),isNaN(e)||!isFinite(e))return"";var i=new Date(1e3*(e>1e12?e/1e3:e));if(isNaN(i.getTime()))return"";var n=(null==r?void 0:r.use12Hour)||!1;return this.formatTimeByCustomFormat(i,t,n)},r.formatTimeByCustomFormat=function(e,t,r){var i=this.padZero(e.getDate()),n=this.padZero(e.getMonth()+1),o=e.getFullYear(),a=this.padZero(o%100),s=e.getHours(),u=this.padZero(e.getMinutes()),l=this.padZero(e.getSeconds()),c="";r&&(c=s>=12?"PM":"AM",0===(s%=12)&&(s=12));var d=this.padZero(e.getHours()),f=t;return f=(f=(f=(f=(f=(f=(f=(f=(f=f.replace(/yyyy/g,o.toString())).replace(/yy/g,a)).replace(/dd/g,i)).replace(/mm/g,n)).replace(/HH/g,d)).replace(/MM/g,u)).replace(/SS/g,l)).replace(/AMPM/g,c)).replace(/ampm/g,c.toLowerCase())},r.getCurrentTime=function(){try{var e=new Date;return this.padZero(e.getHours())+":"+this.padZero(e.getMinutes())+":"+this.padZero(e.getSeconds())}catch(e){return console.error("[RGPUtils] Error in getCurrentTime:",e),"00:00:00"}},r.roundToDecimals=function(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r},r.padZero=function(e){return e<10?"0"+e:e.toString()},t(e,null,[{key:"Instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,c,r,s,i;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){c=e.cclegacy,r=e._decorator,s=e.director,i=e.Component}],execute:function(){var o,a;c._RF.push({},"97a31PGmhBCcJqlPVtVgIp1","SceneManager",void 0);var u=r.ccclass;e("SceneManager",u("SceneManager")(((a=function(e){function c(){for(var n,t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return(n=e.call.apply(e,[this].concat(c))||this).sceneHistory=[],n.currentScene="",n}n(c,e);var r=c.prototype;return r.onLoad=function(){var e;c._instance=this,this.currentScene=(null==(e=s.getScene())?void 0:e.name)||""},r.onDestroy=function(){c._instance===this&&(c._instance=null)},r.loadScene=function(e,n){void 0===n&&(n=!0),n&&this.currentScene&&this.sceneHistory.push(this.currentScene),this.currentScene=e,s.loadScene(e)},r.loadPreviousScene=function(){if(0===this.sceneHistory.length)return console.warn("[SceneManager] No previous scene in history"),!1;var e=this.sceneHistory.pop();return!!e&&(this.loadScene(e,!1),!0)},r.getCurrentScene=function(){return this.currentScene},r.getHistory=function(){return[].concat(this.sceneHistory)},r.clearHistory=function(){this.sceneHistory=[]},r.canGoBack=function(){return this.sceneHistory.length>0},t(c,null,[{key:"Instance",get:function(){return c._instance}}]),c}(i))._instance=null,o=a))||o);c._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var r;n._RF.push({},"9abd4oxikJO4YyE6Pn5HRl0","ScreenConfig",void 0);var c=e("ScreenType",function(e){return e[e.NONE=0]="NONE",e[e.LOGIN=1]="LOGIN",e[e.MAIN=2]="MAIN",e[e.SPLASH=3]="SPLASH",e}({}));e("PATH_PREFAB_SCREEN","prefabs/screens/"),e("SCREEN_PREFAB_NAMES",((r={})[c.LOGIN]="LoginScreen",r[c.MAIN]="MainScreen",r[c.SPLASH]="SplashScreen",r));n._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseScreen.ts","./ScreenConfig.ts","./AsyncUtils.ts"],(function(e){var n,r,t,s,c,a,i,o,u,l,h,p,f,d,S,g,v,b,y,m,w,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized,c=e.createClass,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,l=e.Node,h=e.Enum,p=e.instantiate,f=e.view,d=e.Vec3,S=e.Component,g=e.resources,v=e.Prefab},function(e){b=e.BaseScreen},function(e){y=e.ScreenType,m=e.SCREEN_PREFAB_NAMES,w=e.PATH_PREFAB_SCREEN},function(e){C=e.waitUntil}],execute:function(){var x,N,P,k,M,E,_,H;o._RF.push({},"329c0RDWrJOrJUjjK0LKbBA","ScreenManager",void 0);var z=u.ccclass,A=u.property;e("ScreenManager",(x=z("ScreenManager"),N=A(l),P=A({type:[h(y)],tooltip:"Screens to preload on initialization"}),x(((H=function(e){function n(){for(var n,r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return n=e.call.apply(e,[this].concat(c))||this,t(n,"screenContainer",E,s(n)),t(n,"preloadScreens",_,s(n)),n.currentScreen=y.NONE,n.screenHistory=[],n.screenNodes=new Map,n.screenComponents=new Map,n.screenPrefabs=new Map,n.loadingPromises=new Map,n}r(n,e);var o=n.prototype;return o.onLoad=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._instance=this,this.initializeScreens(),e.next=4,this.preloadConfiguredScreens();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.preloadConfiguredScreens=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.preloadScreens&&this.preloadScreens.length>0)){e.next=4;break}return console.log("[ScreenManager] Preloading "+this.preloadScreens.length+" configured screens..."),e.next=4,this.preloadScreensArray(this.preloadScreens);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.preloadScreensArray=function(){var e=a(i().mark((function e(n){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map((function(e){return r.preloadScreen(e)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o.onDestroy=function(){n._instance===this&&(n._instance=null)},o.initializeScreens=function(){var e=this;this.screenContainer?this.screenContainer.children.forEach((function(n){var r=n.getComponent(b);if(r){var t=r.getScreenType();t!==y.NONE&&(e.screenNodes.set(t,n),e.screenComponents.set(t,r),n.active=!1)}})):console.warn("[ScreenManager] Screen container not assigned")},o.showScreen=function(){var e=a(i().mark((function e(n,r,t){var s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!0),n!==y.NONE){e.next=4;break}return console.warn("[ScreenManager] Cannot show NONE screen"),e.abrupt("return");case 4:if(this.currentScreen!==y.NONE&&t&&(this.hideScreen(this.currentScreen),this.screenHistory.push(this.currentScreen)),s=this.screenNodes.get(n),c=this.screenComponents.get(n),s){e.next=15;break}return e.next=10,this.loadScreen(n);case 10:if(s=e.sent){e.next=14;break}return console.error("[ScreenManager] Failed to load screen: "+n),e.abrupt("return");case 14:c=this.screenComponents.get(n);case 15:s&&(c&&c.setup(r),s.active=!0,this.currentScreen=n);case 16:case"end":return e.stop()}}),e,this)})));return function(n,r,t){return e.apply(this,arguments)}}(),o.loadScreen=function(){var e=a(i().mark((function e(n){var r,t,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.loadingPromises.get(n))){e.next=5;break}return e.next=4,r;case 4:return e.abrupt("return",e.sent);case 5:if(t=m[n]){e.next=9;break}return console.warn("[ScreenManager] Screen prefab name not configured for type: "+n),e.abrupt("return",null);case 9:return s=this.loadScreenFromPrefab(n,t),this.loadingPromises.set(n,s),e.prev=11,e.next=14,s;case 14:return c=e.sent,e.abrupt("return",c);case 16:return e.prev=16,this.loadingPromises.delete(n),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[11,,16,19]])})));return function(n){return e.apply(this,arguments)}}(),o.loadScreenFromPrefab=function(){var e=a(i().mark((function e(n,r){var t,s,c,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w+r,!this.screenPrefabs.has(n)){e.next=4;break}return s=this.screenPrefabs.get(n),e.abrupt("return",this.instantiateScreen(n,s));case 4:return c=!1,a=null,o=null,g.load(t,v,(function(e,n){if(c=!0,e)return o=e,void console.error("[ScreenManager] Failed to load prefab: "+t,e.message);a=n})),e.next=10,C((function(){return c}));case 10:if(!o&&a){e.next=12;break}return e.abrupt("return",null);case 12:return this.screenPrefabs.set(n,a),e.abrupt("return",this.instantiateScreen(n,a));case 14:case"end":return e.stop()}}),e,this)})));return function(n,r){return e.apply(this,arguments)}}(),o.instantiateScreen=function(e,n){var r=this;if(!this.screenContainer)return console.error("[ScreenManager] Screen container not assigned"),null;var t=p(n);this.screenContainer.addChild(t);var s=t.getComponent(b);return s?(s.getScreenType()!==e&&console.warn("[ScreenManager] Screen type mismatch. Expected: "+e+", Got: "+s.getScreenType()),this.screenNodes.set(e,t),this.screenComponents.set(e,s),t.active=!1,this.scheduleOnce((function(){r.applyCanvasScale(t)}),0),console.log("[ScreenManager] Loaded and registered screen: "+e),t):(console.error("[ScreenManager] Prefab missing BaseScreen component: "+e),t.destroy(),null)},o.applyCanvasScale=function(e){var n=f.getDesignResolutionSize().width,r=f.getDesignResolutionSize().height,t=f.getVisibleSize(),s=t.height/r,c=t.width/n,a=Math.min(c,s);e.setScale(new d(a,a,1))},o.hideScreen=function(e){if(e!==y.NONE){var n=this.screenNodes.get(e);n&&(n.active=!1)}},o.showPreviousScreen=function(){var e=a(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.screenHistory.length){e.next=3;break}return console.warn("[ScreenManager] No previous screen in history"),e.abrupt("return",!1);case 3:if(!(n=this.screenHistory.pop())){e.next=8;break}return e.next=7,this.showScreen(n,void 0,!1);case 7:return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.getCurrentScreen=function(){return this.currentScreen},o.registerScreen=function(e,n){this.screenNodes.set(e,n);var r=n.getComponent(b);r&&this.screenComponents.set(e,r),n.active=!1},o.getScreenComponent=function(e){return this.screenComponents.get(e)||null},o.getHistory=function(){return[].concat(this.screenHistory)},o.clearHistory=function(){this.screenHistory=[]},o.canGoBack=function(){return this.screenHistory.length>0},o.preloadScreen=function(){var e=a(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.screenNodes.has(n)){e.next=2;break}return e.abrupt("return",!0);case 2:if(!this.screenPrefabs.has(n)){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.loadScreen(n);case 6:return r=e.sent,e.abrupt("return",null!==r);case 8:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),o.unloadScreen=function(e){var n=this.screenNodes.get(e);n&&(n.destroy(),this.screenNodes.delete(e),this.screenComponents.delete(e),console.log("[ScreenManager] Unloaded screen: "+e))},o.clearScreenCache=function(e){this.screenPrefabs.delete(e),this.unloadScreen(e)},o.clearAllCaches=function(){var e=this;this.screenPrefabs.clear(),this.screenNodes.forEach((function(n,r){r!==e.currentScreen&&n.destroy()})),this.screenNodes.clear(),this.screenComponents.clear()},o.isScreenLoaded=function(e){return this.screenNodes.has(e)},o.isScreenCached=function(e){return this.screenPrefabs.has(e)},c(n,null,[{key:"Instance",get:function(){return n._instance}}]),n}(S))._instance=null,E=n((M=H).prototype,"screenContainer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(M.prototype,"preloadScreens",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=M))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/SelectServerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts","./PopupConfig.ts","./EnvironmentConfig.ts","./NetworkConfig.ts"],(function(n){var t,e,o,i,r,s,p,a,l,c,d,u,h,f,b,v,w,m,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){p=n.cclegacy,a=n._decorator,l=n.Button,c=n.Label,d=n.Node,u=n.instantiate,h=n.Widget,f=n.UITransform,b=n.sys},function(n){v=n.BasePopup},function(n){w=n.PopupType},function(n){m=n.EnvironmentConfig},function(n){g=n.NetworkConfig}],execute:function(){var y,E,C,L,B,O,D,S,k,U,A,I,P,T,z,R,K,N,x,_,W,F,H;p._RF.push({},"2154eidgohF15OJrG32E3pS","SelectServerPopup",void 0);var V=a.ccclass,G=a.property;n("SelectServerPopup",(y=V("SelectServerPopup"),E=G(l),C=G(c),L=G(d),B=G(d),O=G(c),D=G(c),S=G(c),k=G(c),U=G(l),A=G(l),y((T=t((P=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,o(t,"dropdownButton",T,i(t)),o(t,"dropdownLabel",z,i(t)),o(t,"dropdownOptionsContainer",R,i(t)),o(t,"dropdownOptionPrefab",K,i(t)),o(t,"currentEnvLabel",N,i(t)),o(t,"versionLabel",x,i(t)),o(t,"apiUrlLabel",_,i(t)),o(t,"wsUrlLabel",W,i(t)),o(t,"btnBack",F,i(t)),o(t,"btnApply",H,i(t)),t.environments=[],t.selectedEnvironment=null,t.isDropdownOpen=!1,t}e(t,n);var p=t.prototype;return p.setupUI=function(){n.prototype.setupUI.call(this),this.btnBack&&this.btnBack.node&&this.btnBack.node.on(l.EventType.CLICK,this.onBackClick,this),this.btnApply&&this.btnApply.node&&this.btnApply.node.on(l.EventType.CLICK,this.onApplyClick,this),this.dropdownButton&&this.dropdownButton.node&&this.dropdownButton.node.on(l.EventType.CLICK,this.onDropdownToggle,this),this.dropdownOptionsContainer&&(this.dropdownOptionsContainer.active=!1),this.dropdownOptionPrefab&&(this.dropdownOptionPrefab.active=!1)},p.onLoad=function(){n.prototype.onLoad.call(this),this.type=w.SELECT_SERVER},p.onShow=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.prototype.onShow.call(this),t.next=3,this.loadEnvironments();case 3:this.updateUI();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p.onHide=function(){n.prototype.onHide.call(this),this.closeDropdown()},p.cleanup=function(){n.prototype.cleanup.call(this),this.btnBack&&this.btnBack.node&&this.btnBack.node.off(l.EventType.CLICK,this.onBackClick,this),this.btnApply&&this.btnApply.node&&this.btnApply.node.off(l.EventType.CLICK,this.onApplyClick,this),this.dropdownButton&&this.dropdownButton.node&&this.dropdownButton.node.off(l.EventType.CLICK,this.onDropdownToggle,this),this.clearDropdownOptions()},p.loadEnvironments=function(){var n=r(s().mark((function n(){var t,e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=m.instance,n.next=3,t.loadConfig();case 3:if(n.sent){n.next=7;break}return console.error("[DebugScreen] Failed to load environment config"),n.abrupt("return");case 7:this.environments=t.getEnvironments(),(e=t.getCurrentEnvironment())?this.selectedEnvironment=e:this.environments.length>0&&(this.selectedEnvironment=this.environments[0]),this.updateDropdownLabel(),this.createDropdownOptions();case 12:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),p.createDropdownOptions=function(){var n=this;if(this.dropdownOptionsContainer&&this.dropdownOptionPrefab){this.clearDropdownOptions();this.environments.forEach((function(t,e){var o=u(n.dropdownOptionPrefab);n.dropdownOptionsContainer.addChild(o),o.active=!0;var i=o.getComponentInChildren(c);i&&(i.string=t.displayName);var r=o.getComponent(l)||o.getComponentInChildren(l);r&&r.node.on(l.EventType.CLICK,(function(){n.onEnvironmentSelected(t),n.closeDropdown()}),n);var s=o.getComponent(h);s?(s.isAlignTop=!0,s.isAlignLeft=!0,s.top=42*-e,s.left=0):o.setPosition(0,42*-e,0)}));var t=42*this.environments.length-2,e=this.dropdownOptionsContainer.getComponent(f);if(e){var o=e.width;e.setContentSize(o,t)}}},p.clearDropdownOptions=function(){var n=this;this.dropdownOptionsContainer&&this.dropdownOptionsContainer.children.slice().forEach((function(t){t!==n.dropdownOptionPrefab&&t.destroy()}))},p.onDropdownToggle=function(){this.isDropdownOpen?this.closeDropdown():this.openDropdown()},p.openDropdown=function(){this.dropdownOptionsContainer&&(this.isDropdownOpen=!0,this.dropdownOptionsContainer.active=!0)},p.closeDropdown=function(){this.dropdownOptionsContainer&&(this.isDropdownOpen=!1,this.dropdownOptionsContainer.active=!1)},p.onEnvironmentSelected=function(n){this.selectedEnvironment=n,this.updateDropdownLabel(),this.updateEnvironmentInfo(),this.updateButtons()},p.updateDropdownLabel=function(){this.dropdownLabel&&this.selectedEnvironment&&(this.dropdownLabel.string=this.selectedEnvironment.displayName)},p.updateUI=function(){this.updateEnvironmentInfo(),this.updateButtons()},p.updateEnvironmentInfo=function(){this.selectedEnvironment&&(this.currentEnvLabel&&(this.currentEnvLabel.string="Current: "+this.selectedEnvironment.displayName),this.versionLabel&&(this.versionLabel.string="Version: "+this.selectedEnvironment.version),this.apiUrlLabel&&(this.apiUrlLabel.string="API: "+this.selectedEnvironment.apiBaseUrl),this.wsUrlLabel&&(this.wsUrlLabel.string="WebSocket: "+this.selectedEnvironment.wsBaseUrl))},p.updateButtons=function(){if(this.btnApply){var n,t=m.instance.getCurrentEnvironment(),e=!t||t.name!==(null==(n=this.selectedEnvironment)?void 0:n.name);this.btnApply.interactable=e&&!!this.selectedEnvironment}},p.onBackClick=function(){this.close()},p.onApplyClick=function(){this.selectedEnvironment&&(m.instance.setCurrentEnvironment(this.selectedEnvironment),g.instance.setApiBaseUrl(this.selectedEnvironment.apiBaseUrl),g.instance.setWsBaseUrl(this.selectedEnvironment.wsBaseUrl),b&&b.localStorage&&b.localStorage.setItem("selectedEnvironment",JSON.stringify(this.selectedEnvironment)),console.log("[DebugScreen] Environment applied:",this.selectedEnvironment.name),console.log("[DebugScreen] API URL:",g.instance.getApiBaseUrl()),console.log("[DebugScreen] WS URL:",g.instance.getWsBaseUrl()),this.updateButtons(),this.btnApply&&(this.btnApply.interactable=!1))},p.getPopupType=function(){return w.SELECT_SERVER},t}(v)).prototype,"dropdownButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"dropdownLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(P.prototype,"dropdownOptionsContainer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(P.prototype,"dropdownOptionPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(P.prototype,"currentEnvLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(P.prototype,"versionLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(P.prototype,"apiUrlLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(P.prototype,"wsUrlLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(P.prototype,"btnBack",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"btnApply",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=P))||I));p._RF.pop()}}}));

System.register("chunks:///_virtual/SlotAppController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./LocalizeManager.ts","./LoadingOverlay.ts","./LoginManager.ts","./APIHandler.ts","./GameNetworkManager.ts","./GameApiManager.ts","./ScreenManager.ts","./ScreenConfig.ts"],(function(e){var n,r,t,o,a,i,c,s,l,u,p,f,g,h,x;return{setters:[function(e){n=e.inheritsLoose,r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,i=e.Component},null,function(e){c=e.LocalizeManager,s=e.LANGUAGE},function(e){l=e.LoadingOverlay},function(e){u=e.LoginManager},function(e){p=e.APIHandler},function(e){f=e.default},function(e){g=e.GameApiManager},function(e){h=e.ScreenManager},function(e){x=e.ScreenType}],execute:function(){var v;o._RF.push({},"7c153uvQGVCR72B90pvbKeF","SlotAppController",void 0);var d=a.ccclass;e("SlotAppController",d("SlotAppController")(v=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var a=o.prototype;return a.onLoad=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[AppController] Initializing app...");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.start=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initLanguage();case 2:return e.next=4,this.initializeApp();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.initLanguage=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!c.Instance){e.next=7;break}return e.next=4,c.Instance.setLang(s.EN);case 4:console.log("[AppController] Language initialized to EN"),e.next=8;break;case 7:console.warn("[AppController] LocalizeManager instance not found");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("[AppController] Failed to init language",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),a.initializeApp=function(){var e=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.show(),n=c.Instance?c.Instance.getStringByKey("LOADING_PROCESSING","Processing..."):"Processing...",l.setLoopingProgressText(n,!0),e.prev=3,(r=u.instance.isAuthenticated())||!u.instance.getAccessToken()){e.next=11;break}return console.log("[AppController] Token expired, attempting refresh..."),e.next=9,u.instance.refreshToken();case 9:e.sent?(console.log("[AppController] Token refreshed successfully"),r=!0):console.log("[AppController] Token refresh failed");case 11:if(!r){e.next=19;break}return e.next=14,this.initializeGame();case 14:return e.next=16,this.showMainScreen();case 16:l.hide(),e.next=22;break;case 19:return e.next=21,this.showLoginScreen();case 21:l.hide();case 22:e.next=30;break;case 24:return e.prev=24,e.t0=e.catch(3),console.error("[AppController] Error during initialization:",e.t0),e.next=29,this.showLoginScreen();case 29:l.hide();case 30:case"end":return e.stop()}}),e,this,[[3,24]])})));return function(){return e.apply(this,arguments)}}(),a.initializeGame=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("[AppController] Initializing game data..."),e.next=4,g.instance.getBalance();case 4:if(!(n=p.instance.jwt)){e.next=8;break}return e.next=8,f.instance.connect(n);case 8:console.log("[AppController] Game data initialized"),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error("[AppController] Error initializing game:",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),a.showLoginScreen=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=h.Instance)){e.next=7;break}return console.log("[AppController] Showing login screen"),e.next=5,n.showScreen(x.MAIN);case 5:e.next=8;break;case 7:console.error("[AppController] ScreenManager not found");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.showMainScreen=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=h.Instance)){e.next=7;break}return console.log("[AppController] Showing main screen"),e.next=5,n.showScreen(x.MAIN);case 5:e.next=8;break;case 7:console.error("[AppController] ScreenManager not found");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o}(i))||v);o._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDirector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./Events.ts","./SlotTable.ts","./HoldButton.ts","./AutoSpinPanel.ts","./NewBetPanel.ts","./LevelStack.ts","./FreeGameEffect.ts","./TimeConfig.ts","./ApiURL.ts","./index2.ts","./GameDataWrapper.ts","./WinEffectControl.ts","./MockApi.ts","./BoatControl.ts","./GameConstants.ts","./SymbolInformation.ts","./JackpotProgressive.ts","./JackpotController.ts","./JackpotNotiEffect.ts","./GlobalDataManager.ts","./GameNetworkManager.ts","./GameApiManager.ts","./SoundConfig.ts","./PopupConfig.ts","./RGPComponent.ts","./LoadingOverlay.ts"],(function(t){var n,e,i,o,a,s,r,l,u,c,p,h,S,f,b,d,m,E,A,g,C,B,N,I,w,_,T,v,k,y,P,M,G,L,R,O,D,U,F,W,x,z,K,J,H;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){l=t.cclegacy,u=t._decorator,c=t.Node,p=t.Button,h=t.Label,S=t.Toggle,f=t.Color,b=t.sp},null,function(t){d=t.GLOBAL_EVENTS,m=t.RESPONSE_EVENTS,E=t.REQUEST_EVENTS},function(t){A=t.SlotTable},function(t){g=t.HoldButton,C=t.EButtonState},function(t){B=t.AutoSpinPanel},function(t){N=t.NewBetPanel},function(t){I=t.LevelStack},function(t){w=t.FreeGameEffect},function(t){_=t.TimeConfig},function(t){T=t.ApiType},null,function(t){v=t.default},function(t){k=t.WinEffectControl,y=t.EWinType},function(t){P=t.MockApi},function(t){M=t.BoatControl},function(t){G=t.DEFAULT_SYMBOLS_CONFIG,L=t.JACKPOT_PROGRESSIVE_CONFIG},function(t){R=t.SymbolInformation},function(t){O=t.EJackpotType},function(t){D=t.JackpotController},function(t){U=t.JackpotNotiEffect},function(t){F=t.DATA_STORE_KEY},function(t){W=t.default},function(t){x=t.GameApiManager},function(t){z=t.SoundType},function(t){K=t.PopupType},function(t){J=t.RGPComponent},function(t){H=t.LoadingOverlay}],execute:function(){var V,q,Y,j,Q,X,Z,$,tt,nt,et,it,ot,at,st,rt,lt,ut,ct,pt,ht,St,ft,bt,dt,mt,Et,At,gt,Ct,Bt,Nt,It,wt,_t,Tt,vt,kt,yt,Pt,Mt,Gt,Lt,Rt,Ot,Dt,Ut;l._RF.push({},"8d675z2x5xDbYRKI6I1dxSF","SlotDirector",void 0);var Ft=u.ccclass,Wt=u.property,xt=t("EGameState",function(t){return t.IDLE="IDLE",t.SPIN="SPIN",t.RESULT="RESULT",t}({}));t("SlotDirector",(V=Ft("SlotDirector"),q=Wt({displayName:"Use Socket"}),Y=Wt(c),j=Wt(g),Q=Wt(p),X=Wt(A),Z=Wt(B),$=Wt(p),tt=Wt(p),nt=Wt(N),et=Wt(I),it=Wt(k),ot=Wt(w),at=Wt(c),st=Wt(M),rt=Wt(R),lt=Wt(U),ut=Wt(D),ct=Wt(h),pt=Wt(h),ht=Wt(h),St=Wt({displayName:"Use mock",type:S}),ft=Wt({displayName:"Mock API",type:P}),V((mt=n((dt=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,i(n,"useSocket",mt,o(n)),i(n,"background",Et,o(n)),i(n,"btnSpin",At,o(n)),i(n,"btnSkipSpinning",gt,o(n)),i(n,"slotTable",Ct,o(n)),i(n,"autoSpinPanel",Bt,o(n)),i(n,"btnNewBet",Nt,o(n)),i(n,"btnMaxBet",It,o(n)),i(n,"newBetPanel",wt,o(n)),i(n,"levelStack",_t,o(n)),i(n,"winEffectControl",Tt,o(n)),i(n,"freeGameEffect",vt,o(n)),i(n,"mainBoard",kt,o(n)),i(n,"boatControl",yt,o(n)),i(n,"symbolInfo",Pt,o(n)),i(n,"jackpotNoti",Mt,o(n)),i(n,"jackpotControl",Gt,o(n)),i(n,"lblBalance",Lt,o(n)),i(n,"lblBetAmount",Rt,o(n)),i(n,"lblWinAmount",Ot,o(n)),i(n,"useMock",Dt,o(n)),i(n,"mockAPI",Ut,o(n)),n.curBetAmount=10,n.isSpinning=!1,n.isReSpinning=!1,n.canStopSpin=!1,n.autoSpinValue=0,n.unlimitedAutoSpin=!1,n.isReward=!1,n.isSkipReward=!1,n.isFreeGameMode=!1,n.currentState=xt.IDLE,n.orgColorLabelBtn=f.WHITE,n.getGameStatusResponseHandler=function(){},n.getBalanceHandler=function(){},n}e(n,t);var l=n.prototype;return l.isUseAPI=function(){return!this.useSocket},l.onLoad=function(){t.prototype.onLoad.call(this),this.registerNodeEvents(),this.listenEvents(),this.init(),window.a=this},l.registerNodeEvents=function(){var t,n;this.btnSpin.node.on(g.EventType.SPIN_CLICK,this.onClickSpin,this),this.btnSpin.node.on(g.EventType.HOLD_ENDED,this.onHoldSpin,this),this.btnSpin.node.on(g.EventType.SKIP_SPINNING_CLICK,this.onSkipSpin,this),this.btnSpin.node.on(g.EventType.STOP_AUTO_CLICK,this.stopAutoSpin,this),null==(t=this.btnNewBet)||t.node.on(p.EventType.CLICK,this.onClickNewBet,this),null==(n=this.btnMaxBet)||n.node.on(p.EventType.CLICK,this.onClickMaxBet,this)},l.listenEvents=function(){this.registerEvents(d.SEND_AUTO_SPIN,this.onAutoSpin,this),this.registerEvents(d.UPDATE_BALANCE,this.updateBalance,this),this.registerEvents(d.SEND_NEW_BET,this.onNewBet,this),this.registerEvents(d.UPDATE_WIN_AMOUNT,this.onUpdateWin,this),this.registerEvents(d.CLICK_SYMBOL,this.onSymbolClicked,this)},l.init=function(){var t=this;if(this.orgColorLabelBtn=this.btnMaxBet.getComponentInChildren(h).color.clone(),this.resetSession(),this.GlobalDataManager.setDataStore(F.GAME_CONFIG,G),!this.isUseAPI())return this.getGameStatusResponseHandler=function(n){t.GlobalDataManager.setDataStore(F.GAME_CONFIG,n)},this.getBalanceHandler=this.updateBalance.bind(this),W.instance.on(m.GET_GAME_CONFIG,this.getGameStatusResponseHandler),W.instance.on(m.USER_BALANCE,this.getBalanceHandler),W.instance.emit(E.GET_GAME_CONFIG,{}),void W.instance.emit(E.GET_BALANCE,{});this.updateBalance(x.instance.balance),this.getLastedSession(),this.btnSpin.state=C.NORMAL_SPIN},l.start=function(){this.newBetPanel&&(this.curBetAmount=this.newBetPanel.getCurrentBet()),this.updateBetAmount(this.curBetAmount)},l.onDisable=function(){this.resetSession()},l.cleanup=function(){var t,n;this.btnSpin.node.off(p.EventType.CLICK,this.onClickSpin,this),this.btnSkipSpinning.node.off(p.EventType.CLICK,this.onSkipSpin,this),null==(t=this.btnNewBet)||t.node.off(p.EventType.CLICK,this.onClickNewBet,this),null==(n=this.btnMaxBet)||n.node.off(p.EventType.CLICK,this.onClickMaxBet,this),this.isUseAPI()||(W.instance.off(m.GET_GAME_CONFIG,this.getGameStatusResponseHandler),W.instance.off(m.USER_BALANCE,this.getBalanceHandler))},l.getLastedSession=function(){var t=s(r().mark((function t(){var n,e,i=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(t){H.hide(),i.updateSpinButtonState()},e=function(t){H.hide(),console.error(t)},H.show(),x.instance.getApiRequest(T.GET_LASTED_SESSION,n,e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l.onSymbolClicked=function(t){var n=t.code,e=t.targetNode;this.symbolInfo.showAnimInfo(e,n)},l.resetRound=function(){this.slotTable.resetRound(),this.updateSpinButtonState(),this.isReward=!1,this.isSkipReward=!1,this.winEffectControl.resetAnim()},l.resetSession=function(){this.isSpinning=!1,this.isReSpinning=!1,this.canStopSpin=!1,this.isReward=!1,this.levelStack.resetCollectStack(),this.resetRound()},l.updateBetAmount=function(t){this.TweenService.tweenMoney(this.lblBetAmount.node,{from:this.curBetAmount,to:t,duration:_.DUR_TWEEN_MONEY,isFormatFullMoney:!0}),v.Instance.setBetAmount(t),this.GlobalDataManager.setDataStore(F.TOTAL_BET,t),this.curBetAmount=t;var n={type:O.MINI,amount:t*L.MINI},e={type:O.MINOR,amount:t*L.MINOR};this.updateJackpotProgressive({mini:n,minor:e})},l.updateJackpotProgressive=function(t){t.mini&&this.fireEvent(d.UPDATE_JACKPOT,t.mini),t.minor&&this.fireEvent(d.UPDATE_JACKPOT,t.minor),t.major&&this.fireEvent(d.UPDATE_JACKPOT,t.major),t.grand&&this.fireEvent(d.UPDATE_JACKPOT,t.grand)},l.updateGameState=function(t){console.warn("transition from "+this.currentState+" to "+t),this.currentState=t},l.updateGameStatus=function(t){void 0!==t.isReSpinning&&(this.isReSpinning=t.isReSpinning),void 0!==t.isSpinning&&(this.isSpinning=t.isSpinning),void 0!==t.canStopSpin&&(this.canStopSpin=t.canStopSpin),void 0!==t.isReward&&(this.isReward=t.isReward),console.warn("updateGameStatus",t),this.updateSpinButtonState()},l.updateSpinButtonState=function(){if(this.isAutoSpinEnabled)this.btnSpin.state=C.AUTO_SPIN;else{switch(this.currentState){case xt.IDLE:this.btnSpin.state=C.NORMAL_SPIN;break;case xt.SPIN:this.canStopSpin?this.btnSpin.state=C.SKIP_SPINNING:this.btnSpin.state=C.DISABLE_SKIP_SPINNING;break;case xt.RESULT:this.btnSpin.state=C.DISABLE_SPIN}this.updateBetButton()}},l.updateBetButton=function(){var t=this.btnSpin.state===C.NORMAL_SPIN;this.btnNewBet.interactable=t,this.btnMaxBet.interactable=t;var n=this.orgColorLabelBtn,e=new f(n.r,n.g,n.b,155),i=t?n:e;this.btnNewBet.node.getComponentInChildren(h).color=i,this.btnMaxBet.node.getComponentInChildren(h).color=i;var o=t?1:2;this.btnNewBet.node.getComponentInChildren(b.Skeleton).timeScale=o,this.btnMaxBet.node.getComponentInChildren(b.Skeleton).timeScale=o},l.onClickSpin=function(){this.isSpinning||this.requestSpin()},l.onHoldSpin=function(t){var n=this,e=t.cb;this.btnSpin.state=C.DISABLE_SPIN,this.autoSpinPanel.showPanel((function(){n.updateSpinButtonState(),e&&e()}))},l.onClickNewBet=function(){var t;null==(t=this.newBetPanel)||t.showPanel(this.curBetAmount),this.btnNewBet.node.getComponentInChildren(b.Skeleton).setAnimation(0,"anim_btn_maxbet_hover",!1),this.btnNewBet.node.getComponentInChildren(b.Skeleton).addAnimation(0,"anim_btn_maxbet_default",!0)},l.onClickMaxBet=function(){var t;null==(t=this.newBetPanel)||t.setMaxBet(),this.btnMaxBet.node.getComponentInChildren(b.Skeleton).setAnimation(0,"anim_btn_maxbet_hover",!1),this.btnMaxBet.node.getComponentInChildren(b.Skeleton).addAnimation(0,"anim_btn_maxbet_default",!0)},l.onSkipSpin=function(){this.canStopSpin=!1,this.updateSpinButtonState(),this.fireEvent(d.STOP_SPIN)},l.onAutoSpin=function(t){var n=t.autoSpinValue;this.unlimitedAutoSpin=-1===n,this.autoSpinValue=n,this.requestAutoSpin()},l.onNewBet=function(t){var n=t.betValue;this.updateBetAmount(n)},l.onUpdateWin=function(t){var n=t.fromAmount,e=t.toAmount,i=t.duration;this.setWinAmount(e,i,n)},l.stopAutoSpin=function(){this.unlimitedAutoSpin=!1,this.autoSpinValue=0,this.isSpinning&&(this.canStopSpin=!1),this.updateSpinButtonState()},l.updateDeltaBalance=function(t){var n=this.GlobalDataManager.getDataStore(F.BALANCE,0)+t;this.updateBalance(n)},l.updateBalance=function(t){"number"!=typeof t&&(t=parseFloat(t));var n=this.GlobalDataManager.getDataStore(F.BALANCE,0);t=t>=0?t:0,this.TweenService.tweenMoney(this.lblBalance.node,{from:Number(n),to:t,duration:_.DUR_TWEEN_MONEY,isFormatFullMoney:!0}),this.GlobalDataManager.setDataStore(F.BALANCE,t)},l.setWinAmount=function(t,n,e){void 0===n&&(n=_.DUR_TWEEN_MONEY),void 0===e&&(e=0),t>(Number(this.lblWinAmount.string)||0)&&n>0?(this.SoundManager.playOneShot(z.COIN_COUNT),this.TweenService.tweenMoney(this.lblWinAmount.node,{from:e,to:t,duration:n,isFormatFullMoney:!0})):this.lblWinAmount.string=this.RGPUtils.formatFullMoney(t)},l.forceWinAmount=function(t){t&&(this.SoundManager.stopSfx(z.BIG_WIN),this.SoundManager.stopSfx(z.COIN_COUNT),this.TweenService.clearNodeTweens(this.lblWinAmount.node),this.lblWinAmount.string=this.RGPUtils.formatFullMoney(t))},l.showNormalWin=function(t,n,e,i){if(this.winEffectControl){var o={callback:i,duration:n,delayHide:e};this.winEffectControl.showWinEffect(y.NORMAL,t,o)}else i&&i()},l.showBigWin=function(t,n,e){this.winEffectControl?this.winEffectControl.showWinEffect(y.BIG_WIN,t,n,e):n.callback&&n.callback()},l.showFreeGameWin=function(t,n,e){this.winEffectControl?this.winEffectControl.showWinEffect(y.FREE_GAME,t,n,e):n.callback&&n.callback()},l.showJackpotWin=function(t,n,e){this.winEffectControl?this.winEffectControl.showWinEffect(y.JACKPOT,t,n,e):n.callback&&n.callback()},l.enterFreeGameMode=function(){this.slotTable.enterFreeGameMode(),this.levelStack.showLevelStack(),this.boatControl&&this.boatControl.playSank()},l.exitFreeGameMode=function(){this.slotTable.exitFreeGameMode(),this.levelStack.hideLevelStack(),this.boatControl&&this.boatControl.playFloating()},l.enterJackpotMode=function(t){},l.exitJackpotMode=function(t){},l.requestAutoSpin=function(){if(!this.isSpinning){var t="";this.unlimitedAutoSpin?t="00":(this.autoSpinValue--,t=this.autoSpinValue.toString()),this.btnSpin.updateAutoSpinVal(t),this.requestSpin()}},l.checkBalanceCanSpin=function(){return!(!this.isFreeGameMode&&!this.isReSpinning)||(!!this.useMock.isChecked||(!(x.instance.balance<this.curBetAmount)||(null==(t=this.PopupManager)||t.showPopup(K.GENERIC_POPUP,{content:this.getLocalizeStringByKey("NOTIFY__INSUFFICIENT_BALANCE"),confirmText:this.getLocalizeStringByKey("BUTTON__OK")}),!1)));var t},l.requestSpin=function(){this.checkBalanceCanSpin()&&(this.updateDeltaBalance(-this.curBetAmount),this.setWinAmount(0),this.updateSpinButtonState(),this.fireEvent(d.START_SPIN),this.sendApiSpin())},l.sendApiSpin=function(){var t=this;if(this.useMock.isChecked){var n=this.mockAPI.getMocApikData();this.scheduleOnce((function(){t.fireEvent(d.SPIN_RESULT,n)}),.5)}else{var e={userId:"user123",betAmount:this.curBetAmount,mode:"REAL"};x.instance.postApiRequest(T.SPIN,e,(function(n){t.fireEvent(d.SPIN_RESULT,n.data)}),(function(n){t.PopupManager.showPopup(K.GENERIC_POPUP,{content:t.getLocalizeStringByKey("NOTIFY__NETWORK_ERROR"),confirmText:t.getLocalizeStringByKey("BUTTON__TRY_AGAIN")})}))}},l.requestReSpin=function(){this.requestSpin()},l.requestFreeGameSpin=function(){this.resetSession(),this.requestSpin()},l.endSession=function(){this.isFreeGameMode=!1,this.updateGameState(xt.IDLE),this.slotTable.node.active=!0,this.resetSession(),this.isAutoSpinEnabled?this.requestAutoSpin():this.stopAutoSpin()},a(n,[{key:"isAutoSpinEnabled",get:function(){return!!this.unlimitedAutoSpin||this.autoSpinValue>0}}]),n}(J)).prototype,"useSocket",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Et=n(dt.prototype,"background",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=n(dt.prototype,"btnSpin",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=n(dt.prototype,"btnSkipSpinning",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=n(dt.prototype,"slotTable",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=n(dt.prototype,"autoSpinPanel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=n(dt.prototype,"btnNewBet",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=n(dt.prototype,"btnMaxBet",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=n(dt.prototype,"newBetPanel",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=n(dt.prototype,"levelStack",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=n(dt.prototype,"winEffectControl",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=n(dt.prototype,"freeGameEffect",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=n(dt.prototype,"mainBoard",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=n(dt.prototype,"boatControl",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=n(dt.prototype,"symbolInfo",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=n(dt.prototype,"jackpotNoti",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=n(dt.prototype,"jackpotControl",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=n(dt.prototype,"lblBalance",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=n(dt.prototype,"lblBetAmount",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=n(dt.prototype,"lblWinAmount",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=n(dt.prototype,"useMock",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=n(dt.prototype,"mockAPI",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=dt))||bt));l._RF.pop()}}}));

System.register("chunks:///_virtual/SlotExecution.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./SlotDirector.ts","./Events.ts","./GameDataWrapper.ts","./RespinModeHandler.ts","./FreeGameModeHandler.ts","./NormalModeHandler.ts","./JackpotModeHandler.ts","./GameNetworkManager.ts","./SoundConfig.ts","./ProcessCommand.ts","./RGPComponent.ts","./CommandManager.ts"],(function(t){var e,n,s,i,o,r,a,l,c,p,h,u,S,d,R,m,E,f,P,g,N;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy,i=t._decorator,o=t.log,r=t.warn},null,function(t){a=t.EGameState,l=t.SlotDirector},function(t){c=t.RESPONSE_EVENTS,p=t.REQUEST_EVENTS,h=t.GLOBAL_EVENTS},function(t){u=t.default},function(t){S=t.RespinModeHandler},function(t){d=t.FreeGameModeHandler},function(t){R=t.NormalModeHandler},function(t){m=t.JackpotModeHandler},function(t){E=t.default},function(t){f=t.SoundType},function(t){P=t.ProcessCommand},function(t){g=t.RGPComponent},function(t){N=t.CommandManager}],execute:function(){var _;s._RF.push({},"113eblZ0XhPdqcmqlRw0T10","SlotExecution",void 0);var D=i.ccclass,T=t("EProcessQueue",function(t){return t.SFX="SFX",t.SPINNING="SPINNING",t.SHOW_RESULT="SHOW_RESULT",t.LOOP_WIN="LOOP_WIN",t}({}));t("SlotExecution",D("SlotExecution")(_=function(t){function s(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).commandManager=new N,e.mapResponse=new Map,e.curSpinProcess=null,e.pendingResultProcess=null,e.pendingLoopWinProcess=null,e.respinHandler=void 0,e.freeGameHandler=void 0,e.jackpotHandler=void 0,e.normalHandler=void 0,e}e(s,t);var i=s.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this.listenEvents(),this.definedResponse(),this.respinHandler=new S(this.slotDirector),this.freeGameHandler=new d(this.slotDirector),this.jackpotHandler=new m(this.slotDirector),this.normalHandler=new R(this.slotDirector)},i.definedResponse=function(){this.mapResponse.set(c.SPIN_RESULT,this.onResult.bind(this)),this.mapResponse.set(c.RE_SPIN_RESULT,this.onResult.bind(this)),this.mapResponse.set(c.FREE_GAME_RESULT,this.onResult.bind(this)),this.mapResponse.set(c.SPIN_ERROR,this.onError.bind(this)),this.mapResponse.set(c.USER_BALANCE,this.onGetBalance.bind(this))},i.onEnable=function(){this.definedResponse(),this.slotDirector.isUseAPI()||(this.registerResponse(),E.instance.emit(p.GET_BALANCE))},i.onDisable=function(){this.cleanAllProcess(),this.slotDirector.resetSession(),this.slotDirector.isUseAPI()||this.mapResponse.forEach((function(t,e){E.instance.off(e,t)}))},i.registerResponse=function(){this.mapResponse.forEach((function(t,e){E.instance.on(e,t)}))},i.listenEvents=function(){this.registerEvents(h.SPIN_RESULT,this.onResult,this),this.registerEvents(h.SPIN_COMPLETE,this.onSpinComplete,this),this.registerEvents(h.START_SPIN,this.startSpin,this),this.registerEvents(h.STOP_SPIN,this.onStopSpin,this),this.registerEvents(h.SPIN_LAST,this.onSpinLast,this),this.registerEvents(h.SKIP_REWARD,this.onSkipReward,this)},i.cleanup=function(){t.prototype.cleanup.call(this),this.cleanAllProcess(),this.unregisterEvents(h.SPIN_RESULT,this.onResult,this),this.unregisterEvents(h.SPIN_COMPLETE,this.onSpinComplete,this),this.unregisterEvents(h.START_SPIN,this.startSpin,this),this.unregisterEvents(h.STOP_SPIN,this.onStopSpin,this),this.unregisterEvents(h.SPIN_LAST,this.onSpinLast,this),this.unregisterEvents(h.SKIP_REWARD,this.onSkipReward,this)},i.onResult=function(t){o("...BE RESULT DATA: ",t);var e=this.GameDataWrapper.parseDataResult(t);r("Parsed RESULT DATA: ",e),this.receiveResult(e)},i.onError=function(t){r("SPIN ERROR: ",t)},i.onGetBalance=function(t){this.slotDirector.updateBalance(t)},i.startSpin=function(){var t=this;this.slotDirector.updateGameState(a.SPIN),this.cleanAllProcess(),this.SoundManager.playOneShot(f.SPIN_START),this.slotDirector.updateGameStatus({isSpinning:!0,canStopSpin:!1}),this.curSpinProcess=new P({action:function(){t.slotDirector.slotTable.startSpin()},duration:1e3}),this.commandManager.runCommandChannel(T.SPINNING,[this.curSpinProcess])},i.onSpinLast=function(t){0!==t||this.slotDirector.slotTable.isFastSpin||(this.SoundManager.stopLoop(),this.SoundManager.playOneShot(f.SPIN_END))},i.onSkipReward=function(){this.respinHandler.isRunning&&this.respinHandler.onSkipReward(),this.freeGameHandler.isRunning&&this.freeGameHandler.onSkipReward(),this.normalHandler.isRunning&&this.normalHandler.onSkipReward(),this.jackpotHandler.isRunning&&this.jackpotHandler.onSkipReward()},i.onStopSpin=function(){this.SoundManager.stopLoop(),this.SoundManager.stopSfx(f.SPIN_END),this.SoundManager.stopSfx(f.FAST_SPIN),this.SoundManager.stopSfx(f.NEAR_WIN_LOOP),this.slotDirector.slotTable.speedUpSpin()},i.onSpinResult=function(t,e,n){this.slotDirector.isAutoSpinEnabled?this.slotDirector.updateSpinButtonState():this.slotDirector.updateGameStatus({canStopSpin:!!t}),this.slotDirector.slotTable.onReceiveData(t,e,n)},i.receiveResult=function(t){var e=this;if(t){var n=t.matrixResult,s=t.nearWin,i=t.nearWinMatrix,o=t.isRespin,r=t.isFreeGame,l=t.isJackpot;this.onSpinResult(n,s,i);var c=[];this.pendingResultProcess=new P({action:function(){e.slotDirector.updateGameState(a.RESULT)},delay:1e3}),c.push(this.pendingResultProcess),o?(this.slotDirector.updateGameStatus({isReSpinning:!0}),c=c.concat(this.respinHandler.handleResult(t))):r?(this.slotDirector.updateGameStatus({isReSpinning:!0}),c=c.concat(this.freeGameHandler.handleResult(t))):c=l?c.concat(this.jackpotHandler.handleResult(t)):c.concat(this.normalHandler.handleResult(t)),this.commandManager.runCommandChannel(T.SHOW_RESULT,c)}},i.cleanAllProcess=function(){this.commandManager.clearAll(),this.respinHandler.cleanProcesses(),this.freeGameHandler.cleanProcesses(),this.normalHandler.cleanProcesses()},i.onSpinComplete=function(){var t,e;(this.slotDirector.updateGameStatus({isSpinning:!1,canStopSpin:!1}),this.curSpinProcess)&&(null==(t=this.curSpinProcess)||t.skip(),this.curSpinProcess=null);this.pendingResultProcess&&(null==(e=this.pendingResultProcess)||e.skip(),this.pendingResultProcess=null)},i.update=function(t){this.commandManager.onUpdate(t)},n(s,[{key:"GameDataWrapper",get:function(){return u.Instance}},{key:"slotDirector",get:function(){return this.node.getComponent(l)}}]),s}(g))||_);s._RF.pop()}}}));

System.register("chunks:///_virtual/SlotLoginScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./index2.ts","./GlobalDataManager.ts","./LoginScreen.ts","./LoadingOverlay.ts","./ScreenManager.ts","./ScreenConfig.ts"],(function(e){var t,n,r,i,o,a,s,c,u,l,p,f,S,g,h,d,y,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.EditBox,l=e.Button,p=e.Node},null,null,function(e){f=e.LOCAL_STORAGE_KEY,S=e.DATA_STORE_KEY},function(e){g=e.LoginScreen},function(e){h=e.LoadingOverlay,d=e.LoadingMode},function(e){y=e.ScreenManager},function(e){L=e.ScreenType}],execute:function(){var b,m,v,T,D,I,_;s._RF.push({},"f490b6nYuRK94C9ctFNsSbr","SlotLoginScreen",void 0);var E=c.ccclass,B=c.property;e("SlotLoginScreen",(b=E("SlotLoginScreen"),m=B(u),v=B(l),b((I=t((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"editBoxUserIdTemp",I,i(t)),r(t,"btnSubmitTemp",_,i(t)),t}n(t,e);var s=t.prototype;return s.setupUI=function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.prototype.setupUI.call(this),this.setupLastLogin(),this.btnSubmitTemp.node.on(p.EventType.TOUCH_END,this.onBtnSubmitTemp,this);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.setupLastLogin=function(){var e=this.GlobalDataManager.getLocalStoreByKey(f.USER_ID);e&&(this.editBoxUserIdTemp.string=e)},s.onBtnSubmitTemp=function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.editBoxUserIdTemp.string,this.GlobalDataManager.setLocalStoreByKey(f.USER_ID,n),this.GlobalDataManager.setDataStore(S.IS_OFFLINE_MODE,!1),h.show(d.SIMPLE,"Loading..."),e.next=6,null==(t=y.Instance)?void 0:t.showScreen(L.MAIN).then((function(){h.hide()}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(g)).prototype,"editBoxUserIdTemp",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(D.prototype,"btnSubmitTemp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=D))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/SlotSymbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./GameConstants.ts","./GameAssetsManager.ts","./Events.ts","./RGPComponent.ts"],(function(t){var i,e,o,n,s,a,r,h,l,c,u,m,d,p,v,f,C,y,S,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,r=t._decorator,h=t.Node,l=t.Color,c=t.sp,u=t.Sprite,m=t.log,d=t.Tween,p=t.tween,v=t.randomRangeInt,f=t.Vec3},null,function(t){C=t.ESlotSymbol},function(t){y=t.GameAssetsManager},function(t){S=t.GLOBAL_EVENTS},function(t){g=t.RGPComponent}],execute:function(){var b,P,M,D,x,T,A,k,B,w,F;a._RF.push({},"962fan31xxH2Iaacejh4QfB","SlotSymbol",void 0);var E=r.ccclass,L=r.property;t("SlotSymbol",(b=E("SlotSymbol"),P=L(h),M=L(h),D=L(h),x=L(l),b((k=i((A=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,o(i,"core",k,n(i)),o(i,"spineNode",B,n(i)),o(i,"fake",w,n(i)),o(i,"dimColor",F,n(i)),i.orPos=null,i.curCode=null,i.tweenComp=null,i.mapSpineSymbolByCode=new Map,i.curMoveData=void 0,i.nextPosition=null,i.moveDuration=0,i.canMove=!1,i.moveCompleteCb=void 0,i.startPosition=null,i.elapsedTime=0,i.topY=0,i.resultCode=null,i.isLastSpin=!1,i.stopSpin=!1,i.easingFunc=null,i}e(i,t);var a=i.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),this.init()},a.start=function(){this.getOriginPosition()},a.onDisable=function(){this.unscheduleAllCallbacks()},a.onDestroy=function(){this.unscheduleAllCallbacks()},a.init=function(){var t=this;this.spineNode.children.forEach((function(i){t.mapSpineSymbolByCode.set(i.name,i.getComponent(c.Skeleton))})),this.node.on(h.EventType.TOUCH_END,this.onClick,this)},a.cleanup=function(){this.node.off(h.EventType.TOUCH_END,this.onClick,this)},a.getOriginPosition=function(){return this.orPos||(this.orPos=this.node.getPosition()),this.orPos},a.onClick=function(){this.fireEvent(S.CLICK_SYMBOL,{code:this.curCode,targetNode:this.node})},a.resetSymbol=function(){this.node.setPosition(this.getOriginPosition())},a.getCurCode=function(){return this.curCode},a.setCoreSymbol=function(t){if(this.deActive(),this.core){this.core.active=!0;var i=this.getSymbolByCode(t),e=this.core.getComponent(u);e&&(e.spriteFrame=i)}this.curCode=t},a.deActive=function(){this.core&&(this.core.active=!1),this.fake&&(this.fake.active=!1),this.spineNode&&this.spineNode.children.forEach((function(t){t.active=!1}))},a.setResultSymbol=function(t){this.deActive();var i=this.mapSpineSymbolByCode.get(t);i&&(i.node.active=!0,i.setAnimation(0,"anim_idle",!0),this.curCode=t)},a.playHighlight=function(t){this.deActive(),t=t||this.curCode;var i=this.mapSpineSymbolByCode.get(t);i&&(i.node.active=!0,i.setAnimation(0,"anim_reward",!0),this.curCode=t)},a.playIdle=function(t){this.deActive(),t=t||this.curCode;var i=this.mapSpineSymbolByCode.get(t);i&&(i.node.active=!0,i.setAnimation(0,"anim_idle",!0),this.curCode=t)},a.playAnimStop=function(t){this.deActive();var i=this.mapSpineSymbolByCode.get(t||this.curCode);i?(i.node.active=!0,i.setAnimation(0,"anim_stop",!1)):m("Does not see",t||this.curCode)},a.setWinState=function(t){var i=this,e=this.mapSpineSymbolByCode.get(this.curCode);if(d.stopAllByTarget(e),t){var o=new l(255,255,255,255);p(e).to(.25,{color:o}).call((function(){e.color=o})).start()}else p(e).to(.25,{color:this.dimColor}).call((function(){e.color=i.dimColor})).start()},a.getRandomCode=function(){var t=Object.keys(C),i=v(0,t.length-1);return C[t[i]]},a.getSymbolByCode=function(t){return y.Instance.getSymbolByCode(t)},a.move=function(t,i,e,o){void 0===i&&(i=1),t&&0!==t.length&&(this.moveDuration=i,this.moveCompleteCb=e,this.easingFunc=o||null,this.curMoveData||(this.curMoveData=[]),this.curMoveData=this.curMoveData.concat(t),this.curMoveData.length>0&&(this.topY=Math.max.apply(Math,this.curMoveData.map((function(t){return t.y})))),!this.canMove&&this.curMoveData.length>0&&(this.canMove=!0,this.elapsedTime=0,this.startPosition=this.node.getPosition().clone(),this.nextStep()))},a.update=function(t){if(this.canMove&&this.nextPosition&&this.startPosition&&!this.stopSpin)if(this.elapsedTime+=t,this.nextPosition.y===this.topY)this.elapsedTime>=this.moveDuration&&this.nextStep();else{var i=Math.min(this.elapsedTime/this.moveDuration,1);this.easingFunc&&"function"==typeof this.easingFunc&&(i=this.easingFunc(i));var e=new f;f.lerp(e,this.startPosition,this.nextPosition,i),this.node.setPosition(e),this.elapsedTime>=this.moveDuration&&(this.node.setPosition(this.nextPosition),this.nextStep())}},a.nextStep=function(){if(!this.curMoveData||0===this.curMoveData.length)return this.canMove=!1,this.nextPosition=null,void this.onCompleteMove();this.nextPosition=this.curMoveData.shift()||null,this.nextPosition&&this.nextPosition.y===this.topY?(this.onSymbolExitScreen(),this.elapsedTime=0):(this.elapsedTime=0,this.startPosition=this.node.getPosition().clone())},a.onSymbolExitScreen=function(){this.nextPosition&&(this.node.setPosition(this.nextPosition),this.startPosition=this.nextPosition.clone()),this.elapsedTime=0,this.isLastSpin?this.resultCode?this.setCoreSymbol(this.resultCode):this.randomSymbol():this.randomFakeSymbol()},a.onCompleteMove=function(){this.moveCompleteCb&&this.moveCompleteCb()},a.setDuration=function(t){if(!(t<=0)){if(this.moveDuration>0&&this.elapsedTime>0&&this.canMove){var i=Math.min(this.elapsedTime/this.moveDuration,1);if(this.elapsedTime=i*t,this.startPosition&&this.nextPosition){var e=new f;f.lerp(e,this.startPosition,this.nextPosition,i),this.node.setPosition(e)}}this.moveDuration=t}},a.getElapsedTime=function(){return this.elapsedTime},a.syncElapsedTime=function(t){if(this.canMove&&this.moveDuration>0&&(this.elapsedTime=Math.min(t,this.moveDuration),this.startPosition&&this.nextPosition)){var i=Math.min(this.elapsedTime/this.moveDuration,1),e=new f;f.lerp(e,this.startPosition,this.nextPosition,i),this.node.setPosition(e)}},a.isMoving=function(){return this.canMove},a.stopSpinning=function(){this.stopSpin=!0},a.resumeSpinning=function(){this.stopSpin=!1},a.resetAll=function(){this.deActive(),this.curMoveData=void 0,this.nextPosition=null,this.moveDuration=0,this.canMove=!1,this.moveCompleteCb=void 0,this.startPosition=null,this.elapsedTime=0,this.topY=0,this.resultCode=null,this.stopSpin=!1,this.isLastSpin=!1,this.easingFunc=null,this.resetSymbol();for(var t,i=s(this.mapSpineSymbolByCode);!(t=i()).done;){var e=t.value;e[0];e[1].color=new l(255,255,255,255)}},a.setFakeSymbol=function(t){if(this.deActive(),this.fake){this.fake.active=!0;var i=t||this.curCode||this.getRandomCode(),e=y.Instance.getFakeSymbolByCode(i),o=this.fake.getComponent(u);o&&(o.spriteFrame=e)}},a.randomFakeSymbol=function(){if(this.deActive(),this.fake){this.fake.active=!0;var t=this.getRandomCode();this.setFakeSymbol(t),this.resultCode=t,this.curCode=t}},a.setResultCode=function(t){this.resultCode=t,this.isLastSpin=!0},a.randomSymbol=function(){this.deActive(),this.core&&(this.core.active=!0);var t=this.getRandomCode();this.setCoreSymbol(t),this.curCode=t},i}(g)).prototype,"core",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(A.prototype,"spineNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(A.prototype,"fake",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(A.prototype,"dimColor",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(80,80,80,255)}}),T=A))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinReel.ts","./Events.ts","./Declaration.ts","./FarmerTable.ts","./ResultReel.ts","./NearWinControl.ts","./SoundConfig.ts","./GameUtils.ts","./RGPComponent.ts"],(function(e){var t,n,i,r,s,l,o,a,u,h,c,f,p,R,m,d,v,S,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,o=e.Node,a=e.warn,u=e.tween,h=e.Vec3,c=e.Tween,f=e.Label},function(e){p=e.SpinReel},function(e){R=e.GLOBAL_EVENTS},null,function(e){m=e.FarmerTable},function(e){d=e.ResultReel},function(e){v=e.NearWinControl},function(e){S=e.SoundType},function(e){b=e.GameUtils},function(e){w=e.RGPComponent}],execute:function(){var g,y,W,T,F,N,E,C,M,x,G,L,P;s._RF.push({},"ea0beYTGHpKUqfN9cfZ7Fur","SlotTable",void 0);var O=l.ccclass,A=l.property;e("SlotTable",(g=O("SlotTable"),y=A(o),W=A(o),T=A(o),F=A(o),N=A(v),g((M=t((C=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,i(t,"spinReel",M,r(t)),i(t,"nodeResultReel",x,r(t)),i(t,"nodeFarmerTable",G,r(t)),i(t,"wayWinNode",L,r(t)),i(t,"nearWinControl",P,r(t)),t.spinReels=[],t.resultReels=[],t.farmerTable=null,t.isNearWin=!1,t.nearWinMatrix=[],t.isFastSpin=!1,t}n(t,e);var s=t.prototype;return s.start=function(){this.initialize()},s.initialize=function(){this.spinReels=this.spinReel.children.map((function(e){return e.getComponent(p)})).filter((function(e){return null!==e})),this.resultReels=this.nodeResultReel.children.map((function(e){return e.getComponent(d)})).filter((function(e){return null!==e})),5!==this.spinReels.length&&a("SlotTable: Expected 5 SpinReel and 5 ResultReel components. Found "+this.spinReels.length+" SpinReel(s)."),this.farmerTable=this.nodeFarmerTable.getComponent(m),this.spinReel.active=!1,this.nodeResultReel.active=!0},s.startSpin=function(){var e=this;this.setupBeforeSpin(),this.getCurrentSymbolsShowing().forEach((function(t,n){e.spinReels[n].setupSymbolBeforeSpin(t)}));var t=!1;this.spinReels.forEach((function(n,i){n.startSpin((function(){if(!e.isFastSpin){var n=i>=2&&i<e.spinReels.length-1;if(e.isNearWin&&n)e.spinReels[i+1]&&e.spinReels[i+1].updateNearWinAnim(),e.nearWinControl.showNearWinEffect(i+1,e.nearWinMatrix),2===i&&!e.isFastSpin&&e.SoundManager.playOneShot(S.NEAR_WIN_LOOP);e.nearWinControl.showNextScatter(i)}t||i!==e.spinReels.length-1||(e.fireEvent(R.SPIN_COMPLETE),e.nearWinControl.reset(),t=!0)}),.1*i,0===i)}))},s.enterFreeGameMode=function(){var e=u(this.node).to(.5,{scale:new h(.9,.9,.9)});this.startTween(e),this.farmerTable.showFreeGame()},s.exitFreeGameMode=function(){var e=u(this.node).to(.5,{scale:new h(1,1,1)});this.startTween(e),this.farmerTable.hideFreeGame()},s.getCurrentSymbolsShowing=function(){return this.resultReels.map((function(e){return e.getShowingSymbolCodes()}))},s.speedUpSpin=function(){this.isFastSpin=!0,this.spinReels.forEach((function(e){return e.speedUpSpin()}))},s.onReceiveData=function(e,t,n){void 0===t&&(t=!1),e&&5===e.length?(t&&this.nearWinMatrix&&(this.isNearWin=t,this.nearWinMatrix=n),this.spinReels.forEach((function(n,i){var r=i>=3&&t;n.receiveData(e[i],i,r)}))):console.error("SlotTable: Invalid matrix data received")},s.setupBeforeSpin=function(){c.stopAllByTarget(this.resultReels),this.nodeResultReel.active=!1,this.spinReel.active=!0,this.wayWinNode.active=!1},s.resetRound=function(){this.isNearWin=!1,this.nearWinMatrix=[],this.spinReels.forEach((function(e){return e.resetRound()})),this.isFastSpin=!1,this.wayWinNode.active=!1,c.stopAllByTarget(this.resultReels)},s.resetSession=function(){this.resetRound()},s.showResultReelValue=function(e){this.SoundManager.playOneShot(S.PAYLINE),this.spinReel.active=!1,this.nodeResultReel.active=!0;for(var t=0;t<e.length;t++){this.resultReels[t].setResultSymbols(e[t])}},s.showResultReelWin=function(e,t){for(var n=0;n<e.length;n++){if(!(t&&t.indexOf(n)>-1))this.resultReels[n].setWinResults(e[n])}var i;t&&t.length>0&&(null==(i=this.farmerTable)||i.showReelRespin(t))},s.runLoopReelWin=function(e){var t,n=this,i=[];e.forEach((function(e){i.push(u().call((function(){n.showLoopWinResult(e.matrixWin,e.wayWinInfo)})).delay(5))})),c.stopAllByTarget(this.resultReels),(t=u(this.resultReels)).sequence.apply(t,i).repeatForever().start()},s.showLoopWinResult=function(e,t){void 0===t&&(t=null),this.showWayWin(t);for(var n=0;n<e.length;n++){this.resultReels[n].setWinResults(e[n])}},s.showWayWin=function(e){this.wayWinNode.active=!0,this.wayWinNode.getComponent(f).string=this.RGPUtils.formatFullMoney(e.winAmount);var t=this.resultReels[e.col],n=h.ZERO;if(t){var i=t.getComponent(d).getSymbolByRowIdx(e.row);i&&(n=b.convertPositionAnotherNode(this.wayWinNode,i))}this.wayWinNode.setPosition(n)},s.highlightScatterWinSymbols=function(e){this.resultReels.forEach((function(t,n){t.highlightScatterWinSymbols(e[n])}))},s.validateFarmerExisted=function(e){return this.farmerTable.validateMoving(e)},s.showResultFarmer=function(e){var t;null==(t=this.farmerTable)||t.showReelRespin(e)},s.showResultFarmerOneCol=function(e){var t;this.SoundManager.playOneShot(S.FREE_SPIN),null==(t=this.farmerTable)||t.showOneReelRespin(e)},s.showResultFarmerMove=function(){var e;null==(e=this.farmerTable)||e.moveReelRespin()},s.showResultFarmerSetFreeGameLevel=function(e){var t;null==(t=this.farmerTable)||t.setFreeGameLevel(e)},s.showResultFarmerStartFreeGame=function(e){var t;null==(t=this.farmerTable)||t.startLevel(e)},t}(w)).prototype,"spinReel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"nodeResultReel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(C.prototype,"nodeFarmerTable",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(C.prototype,"wayWinNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(C.prototype,"nearWinControl",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=C))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/SoundConfig.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){o._RF.push({},"705aeqWca9F8oCmWpJ5/op6","SoundConfig",void 0);n("PATH_CLIP_SOUND","sounds/"),n("SoundType",function(n){return n.BG="BGM",n.CLICK="Button",n.JACKPOT="Jackpot",n.SPIN_LOOP="SpinLoop",n.SPIN_START="SpinStart",n.SPIN_END="SpinEnd",n.SPIN_END_SHORT="SpinEnd_short",n.PAYLINE="Payline",n.PAYOUT="Payout",n.BIG_WIN="BigWin",n.NEAR_WIN_LOOP="TeaseLoop",n.FREE_SPIN="Freespin",n.FAST_SPIN="Finish",n.COIN_COUNT="CoinCout",n}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundConfig.ts","./AsyncUtils.ts","./GlobalDataManager.ts"],(function(e){var t,n,o,i,r,u,a,s,c,l,p,f,h,d,S,g,x,b,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass,u=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,p=e.AudioSource,f=e.Component,h=e.instantiate,d=e.resources,S=e.AudioClip},function(e){g=e.SoundType,x=e.PATH_CLIP_SOUND},function(e){b=e.waitUntil},function(e){v=e.GlobalDataManager,y=e.LOCAL_STORAGE_KEY}],execute:function(){var m,_,A,B,M,w,E,V,C,L,k,I;s._RF.push({},"67a1eCN3CVPXrbTbAk+x5dy","SoundManager",void 0);var P=c.ccclass,D=c.property;e("SoundManager",(m=P("SoundManager"),_=D(l),A=D(p),B=D(p),M=D(p),m(((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,o(t,"soundHolder",V,i(t)),o(t,"audioSound",C,i(t)),o(t,"audioBg",L,i(t)),o(t,"loopAudioSource",k,i(t)),t.caches=new Map,t._defaultSfxVolume=1,t._defaultMusicVolume=1,t._sfxVolume=1,t._bgVolume=1,t._isEnableSfx=!1,t._isEnableMusic=!1,t.activeSfxSources=new Map,t}n(t,e);var s=t.prototype;return s.onLoad=function(){t._instance=this,this._defaultSfxVolume=this.audioSound.volume,this._defaultMusicVolume=this.audioBg.volume;var e="true"===v.Instance.getLocalStoreByKey(y.BG_MUSIC),n="true"===v.Instance.getLocalStoreByKey(y.SFX);this.setEnableMusic(e),this.setEnableSfx(n)},s.onDisable=function(){this.cleanSfx()},s.setVolumeSound=function(e){this._sfxVolume=e,this.audioSound.volume=e,this.loopAudioSource&&(this.loopAudioSource.volume=e),this.activeSfxSources.forEach((function(t){return t.volume=e}))},s.setVolumeBg=function(e){this._bgVolume=e,this.audioBg.volume=e},s.setEnableMusic=function(e){this.setVolumeBg(e?this._defaultMusicVolume:0),this._isEnableMusic!==e&&(this._isEnableMusic=e,v.Instance.setLocalStoreByKey(y.BG_MUSIC,e+""),e?this.audioBg.play():this.audioBg.stop())},s.getEnableMusic=function(){return this._isEnableSfx},s.setEnableSfx=function(e){this.setVolumeSound(e?this._defaultSfxVolume:0),this._isEnableSfx!==e&&(this._isEnableSfx=e,v.Instance.setLocalStoreByKey(y.SFX,e+""))},s.getEnableSfx=function(){return this._isEnableSfx},s.playOneShot=function(){var e=u(a().mark((function e(t,n){var o,i,r,u=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,this.getClip(t);case 3:(o=e.sent)&&(console.warn("=>Play sfx",t),this.activeSfxSources.has(t)&&n&&(this.activeSfxSources.get(t).destroy(),this.activeSfxSources.delete(t)),(i=h(this.audioSound.node)).name="SFX_"+t,i.parent=this.soundHolder,(r=i.addComponent(p)).clip=o,r.volume=this._sfxVolume,r.play(),this.activeSfxSources.set(t,r),this.scheduleOnce((function(){return u.onAudioEnd(i,t,o)}),o.getDuration()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.onAudioEnd=function(){var e=u(a().mark((function e(t,n,o){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.isValid&&(t.destroy(),this.activeSfxSources.delete(n)),o.name===g.SPIN_START&&this.playLoop(g.SPIN_LOOP);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.stopSfx=function(e){if(this.activeSfxSources.has(e)){var t=this.activeSfxSources.get(e);t&&t.isValid&&(t.stop(),t.node.destroy()),this.activeSfxSources.delete(e)}},s.playLoop=function(){var e=u(a().mark((function e(t){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClip(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:if((o=this.getLoopSource()).clip!==n||!o.playing){e.next=8;break}return e.abrupt("return");case 8:o.stop(),o.clip=n,o.loop=!0,o.volume=this._sfxVolume,o.play();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.stopLoop=function(){this.loopAudioSource&&this.loopAudioSource.playing&&this.loopAudioSource.stop()},s.cleanSfx=function(){this.activeSfxSources.clear(),this.soundHolder.removeAllChildren()},s.getLoopSource=function(){if(!this.loopAudioSource){var e=new l("LoopAudioSource");e.parent=this.node,this.loopAudioSource=e.addComponent(p)}return this.loopAudioSource},s.changeBg=function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClip(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(this.audioBg.clip!==n||!this.audioBg.playing){e.next=7;break}return e.abrupt("return");case 7:this.audioBg.stop(),this.audioBg.clip=n,this.audioBg.loop=!0,this.audioBg.play();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.getClip=function(){var e=u(a().mark((function e(t){var n,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.caches.has(t)){e.next=2;break}return e.abrupt("return",this.caches.get(t));case 2:return n=!1,i=x+t,d.load(i,S,(function(e,t){n=!0,e?console.error("[SoundManager] Failed to load prefab: "+i+" "):o=t})),e.next=7,b((function(){return n}));case 7:return o&&this.caches.set(t,o),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r(t,null,[{key:"Instance",get:function(){return t._instance||console.error("[SoundManager] Instance not exists"),t._instance}}]),t}(f))._instance=null,V=t((E=I).prototype,"soundHolder",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(E.prototype,"audioSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(E.prototype,"audioBg",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(E.prototype,"loopAudioSource",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=E))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpinReel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotSymbol.ts","./BaseReel.ts","./TimeConfig.ts","./Events.ts"],(function(t){var i,n,e,s,o,r,a,p,h,S,u,l;return{setters:[function(t){i=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,s=t._decorator,o=t.Vec3,r=t.tween,a=t.Mask,p=t.easing},function(t){h=t.SlotSymbol},function(t){S=t.BaseReel},function(t){u=t.TimeConfig},function(t){l=t.GLOBAL_EVENTS}],execute:function(){var m;e._RF.push({},"8a737CI6KRIUoEJ6rZFEIj1","SpinReel",void 0);var d=s.ccclass;s.property,t("SpinReel",d("SpinReel")(m=function(t){function e(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).mapNewPosSymbols=new Map,i.onCompleteAfterSpin=void 0,i.maxY=0,i.startY=0,i.requestStopSpin=!0,i.spinCount=0,i.durationOneRound=-1,i.durationMovePerStep=-1,i.durationFinishMove=-1,i.durationStartMove=-1,i.minTimeSpinning=-1,i.resultData=[],i.isSpinning=!1,i.isLastSpin=!1,i.completedSymbolsCount=0,i.speedUp=!1,i.requireSpinCountCanStop=0,i.pendingNearWin=!1,i.runNearWinSpeed=!1,i.remainNearWinSpin=0,i}i(e,t);var s=e.prototype;return s.setupReel=function(){t.prototype.setupReel.call(this),this.durationMovePerStep=u.DUR_SPIN_PER_STEP,this.minTimeSpinning=u.MIN_SPINNING,this.durationFinishMove=u.DUR_FINISH_SPIN,this.durationStartMove=u.DUR_START_SPIN,this.startY=this.listSymbols[0].getPosition().y,this.maxY=this.listSymbols[this.listSymbols.length-1].getPosition().y,this.durationOneRound=(this.listSymbols.length-1)*this.durationMovePerStep},s.startSpin=function(t,i,n){void 0===i&&(i=0),this.onCompleteAfterSpin=t,this.spinCount=0,this.completedSymbolsCount=0,this.durationMovePerStep=u.DUR_SPIN_PER_STEP,this.runAnimStartSpin(i,n)},s.setupSymbolBeforeSpin=function(t){var i=this;t.forEach((function(t,n){i.showingSymbols[n].getComponent(h).setCoreSymbol(t)}))},s.runAnimStartSpin=function(t,i){var n=this,e=this.node.getPosition().clone(),s=this.node.getPosition().clone().add(new o(0,25,0));this.hideOutScreenSymbols(),this.startTween(r(this.node).delay(t).to(this.durationStartMove,{position:s},{easing:"quadOut"}).to(this.durationStartMove,{position:e},{easing:"quadIn"}).call((function(){n.node.getComponent(a).enabled=!0,n.node.setPosition(e),n._preSetupFakeSymbols(),n.requestStopSpin=!1,n.isSpinning=!1,n.isLastSpin=!1,n.showAllSymbols()})),(function(){}))},s._preSetupFakeSymbols=function(){this.listSymbols.forEach((function(t){t.getComponent(h).setFakeSymbol()}))},s.receiveData=function(t,i,n){void 0===n&&(n=!1),this.resultData=t,this.pendingNearWin=!!n,this.requireSpinCountCanStop=Math.max(this.spinCount,this.minTimeSpinning)+i},s.updateNearWinAnim=function(){this.runNearWinSpeed=this.pendingNearWin,this.pendingNearWin=!1,this.remainNearWinSpin=5},s.speedUpSpin=function(){this.speedUp=!0,this.updateDurationMove()},s.canStop=function(){if(!Array.isArray(this.resultData)||0===this.resultData.length)return!1;if(this.speedUp)return!0;if(this.pendingNearWin)return!1;var t=this.spinCount>this.requireSpinCountCanStop;return this.spinCount>this.minTimeSpinning&&t&&this.remainNearWinSpin<=0},s.calcPosMoving=function(){if(0!==this.listSymbols.length){this.mapNewPosSymbols.clear();for(var t=this.listSymbols.length,i=0;i<t;i++){for(var n=this.listSymbols[i],e=this.mapOriginPosSymbols.get(n),s=[],o=this.symbolHeight,r=0;r<t;r++){var a=e.y-o;a>=this.maxY?e.y=a:e.y=this.startY,s.push(e.clone())}this.mapNewPosSymbols.set(n,s)}}},s.spinning=function(){var t=this;this.completedSymbolsCount=0;for(var i,e=this.mapNewPosSymbols.size,s=n(this.mapNewPosSymbols);!(i=s()).done;){var o=i.value,r=o[0],a=o[1];r.getComponent(h).move(a,this.durationMovePerStep,(function(){t.completedSymbolsCount++,t.completedSymbolsCount>=e&&(t.isSpinning=!1,t.isLastSpin&&t.runAnimFinishSpin())}),p.linear)}},s.updateDurationMove=function(){var t=this.getNewDuration();this.durationMovePerStep=t;for(var i=0;i<this.listSymbols.length;i++){this.listSymbols[i].getComponent(h).setDuration(this.durationMovePerStep)}},s.getNewDuration=function(){return this.runNearWinSpeed&&this.remainNearWinSpin>0?(this.remainNearWinSpin--,.1/(this.remainNearWinSpin+1)):this.speedUp?u.DUR_SPIN_SPEED_UP:this.isLastSpin?this.runNearWinSpeed?u.DUR_SPIN_END_NEAR_WIN:u.DUR_SPIN_END_RESULT:this.runNearWinSpeed?u.DUR_SPIN_NEAR_WIN:u.DUR_SPIN_PER_STEP},s.setDataResult=function(){this.fireEvent(l.SPIN_LAST,this.node.getSiblingIndex());for(var t=0;t<this.resultData.length;t++){this.showingSymbols[t].getComponent(h).setResultCode(this.resultData[t])}},s.resetRound=function(){this.durationMovePerStep=u.DUR_SPIN_PER_STEP,this.speedUp=!1,this.isSpinning=!1,this.isLastSpin=!1,this.resultData=[],this.onCompleteAfterSpin=function(){},this.requestStopSpin=!0,this.requireSpinCountCanStop=0,this.spinCount=0;for(var t=0;t<this.listSymbols.length;t++){var i=this.listSymbols[t].getComponent(h);i.node.active=!0,i.resetAll()}this.remainNearWinSpin=0,this.runNearWinSpeed=!1,this.pendingNearWin=!1,this.node.getComponent(a).enabled=!0},s.runAnimFinishSpin=function(){var t=this;this.node.getComponent(a).enabled=!1,this.hideOutScreenSymbols();var i=this.node.getPosition().clone(),n=this.node.getPosition().clone().add(new o(0,-25,0));this.startTween(r(this.node).call((function(){t.listSymbols.forEach((function(t){t.getComponent(h).playAnimStop()}))})).to(this.durationFinishMove,{position:n},{easing:"quadOut"}).to(this.durationFinishMove,{position:i},{easing:"quadIn"}).call((function(){t.node.setPosition(i)})),this.onCompleteAfterSpin)},s.update=function(t){this.requestStopSpin||this.isSpinning||(this.canStop()?(this.isLastSpin=!0,this.requestStopSpin=!0,this.setDataResult()):this.spinCount++,this.updateDurationMove(),this.isSpinning=!0,this.calcPosMoving(),this.spinning())},e}(S))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/SpinResult.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1abefDMRStMp4po6hrEgPjs","SpinResult",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SpinResultManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SymbolConfig.ts","./GameConstants.ts"],(function(t){var e,i,n,s,r;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){s=t.SYMBOL_PAYOUTS},function(t){r=t.ESlotSymbol}],execute:function(){n._RF.push({},"48ecfYonQxCR4uEK8PS66zm","SpinResultManager",void 0),t("SpinResultManager",function(){function t(){this.GRID_COLS=5,this.GRID_ROWS=3,this.SYMBOLS=[r.Orange,r.Banana,r.Grapes,r.Soursop,r.Watermelon,r.Scale,r.Durian,r.Girl],this.symbolPayouts=s,this.sessionStep=0,this.sessionId="",this.userId="offline_user"}var n=t.prototype;return n.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},n.createBaseResult=function(t,i,n,s,r,a){void 0===r&&(r=[]),void 0===a&&(a="NORMAL"),"NORMAL"!==a&&this.sessionId||(this.sessionId=this.generateUUID(),this.sessionStep=0),this.sessionStep++;for(var o,l={},u=e(r);!(o=u()).done;){var h=o.value;l[h.toString()]=t[h]||[]}var c=this.convertWinPositionsToMatrix(s.winPositions),S=this.buildWinCombinations(i,n);return{id:this.generateUUID(),userId:this.userId,sessionId:this.sessionId,sessionMode:a,sessionPendingModes:[],sessionCurrentStep:this.sessionStep,sessionTotalSteps:r.length>0?Math.max.apply(Math,r)+1:1,sessionStatus:"ACTIVE",sessionLockedReels:r,sessionLockedReelData:l,reelsMatrix:t,winMatrix:c,reelsFlat:i,winCombinations:S,winAmount:s.totalWin.toFixed(1),gridResult:i,matrixResult:t,betAmount:n,isWin:s.totalWin>0,newBalance:0,winLines:this.convertWinPositionsToBitArray(s.winPositions,i.length),respinColumns:r}},n.buildWinCombinations=function(t,i){for(var n,s=[],r=e(this.symbolPayouts);!(n=r()).done;){var a=n.value,o=this.getSymbolName(a.symbol),l=this.getSymbolCountsPerReel(t,o),u=this.analyzeWinPath(l,a);if(u.isWin){var h=u.ways*u.multiplier*i;s.push({symbolCode:o,matchCount:u.consecutiveCols,waysCount:u.ways,winAmount:h.toFixed(1)})}}return s},n.convertWinPositionsToMatrix=function(t){for(var e=[],i=0;i<this.GRID_COLS;i++){for(var n=[],s=0;s<this.GRID_ROWS;s++){var r=this.getIndex(i,s);n.push(t.has(r)?1:0)}e.push(n)}return e},n.generateResult=function(t){var e=this.generateRandomGrid(),i=e.flat,n=e.matrix;return this.processSpinResult(i,t,n,"NORMAL")},n.generateFarmerStackResult=function(t){for(var i,n=this.generateRandomGrid(),s=n.flat,a=n.matrix,o=Math.floor(Math.random()*this.GRID_COLS)+1,l=[0,1,2,3,4].sort((function(){return Math.random()-.5})).slice(0,o),u=this.getSymbolName(r.Girl),h=e(l);!(i=h()).done;)for(var c=i.value,S=0;S<this.GRID_ROWS;S++){s[this.getIndex(c,S)]=u,a[c][S]=u}return this.processSpinResult(s,t,a,"RE_SPIN")},n.generateRespinResult=function(t,i){for(var n,s=this.getSymbolName(r.Girl),a=this.generateRandomGrid(),o=a.flat,l=a.matrix,u=[],h=e(t);!(n=h()).done;){var c=n.value-1;c>=0&&u.push(c)}for(var S=0,f=u;S<f.length;S++)for(var m=f[S],R=0;R<this.GRID_ROWS;R++){o[this.getIndex(m,R)]=s,l[m][R]=s}var v=this.calculateWinInternal(o,i);return this.createBaseResult(l,o,i,v,u,"RE_SPIN")},n.generateGridWithFarmerColumns=function(t,i){for(var n,s=this.generateRandomGrid(),a=s.flat,o=s.matrix,l=this.getSymbolName(r.Girl),u=e(t);!(n=u()).done;){var h=n.value;if(h>=0&&h<this.GRID_COLS)for(var c=0;c<this.GRID_ROWS;c++){a[this.getIndex(h,c)]=l,o[h][c]=l}}return this.processSpinResult(a,i,o,"RE_SPIN")},n.generateResultWithScatters=function(t,e){var i=this;void 0===e&&(e=3);for(var n=this.generateRandomGrid(),s=n.flat,a=n.matrix,o=this.getSymbolName(r.Scale),l=new Set,u=this.GRID_COLS*this.GRID_ROWS;l.size<Math.min(e,u);){var h=Math.floor(Math.random()*u);l.add(h)}return l.forEach((function(t){s[t]=o;var e=Math.floor(t/i.GRID_COLS),n=t%i.GRID_COLS;a[n][e]=o})),this.processSpinResult(s,t,a,"NORMAL")},n.getIndex=function(t,e){return e*this.GRID_COLS+t},n.getSymbolAt=function(t,e,i){return t[this.getIndex(e,i)]},n.generateRandomGrid=function(){for(var t=this.generateRandomMatrix(),e=[],i=0;i<this.GRID_ROWS;i++)for(var n=0;n<this.GRID_COLS;n++)e.push(t[n][i]);return{flat:e,matrix:t}},n.generateRandomMatrix=function(t){void 0===t&&(t=!1);for(var e=[],i=t?[].concat(this.SYMBOLS,[r.Coin]):this.SYMBOLS,n=0;n<this.GRID_COLS;n++){for(var s=[],a=0;a<this.GRID_ROWS;a++){var o=i[Math.floor(Math.random()*i.length)];s.push(this.getSymbolName(o))}e.push(s)}return e},n.processSpinResult=function(t,e,i,n){void 0===n&&(n="NORMAL");var s,r=this.calculateWinInternal(t,e),a=this.detectFarmerStack(t),o=this.detectFreeGame(t);if(i&&i.length===this.GRID_COLS&&i[0].length===this.GRID_ROWS)s=i;else{s=[];for(var l=0;l<this.GRID_COLS;l++){for(var u=[],h=0;h<this.GRID_ROWS;h++)u.push(t[h*this.GRID_COLS+l]);s.push(u)}}var c=this.createBaseResult(s,t,e,r,a,a.length>0?"RE_SPIN":n);return o&&(c.freeGameLevel=1,c.freeGameSpinColumns=a),c},n.calculateWinInternal=function(t,i){if(!i||i<=0)return{totalWin:0,winPositions:new Set};for(var n,s=0,r=new Set,a=e(this.symbolPayouts);!(n=a()).done;){var o=n.value,l=this.getSymbolName(o.symbol),u=this.getSymbolCountsPerReel(t,l),h=this.analyzeWinPath(u,o);if(h.isWin)s+=h.ways*h.multiplier*i,this.markWinningPositions(t,l,h.consecutiveCols,r)}return{totalWin:Number(s.toFixed(2)),winPositions:r}},n.getSymbolCountsPerReel=function(t,e){for(var i=[],n=0;n<this.GRID_COLS;n++){for(var s=0,r=0;r<this.GRID_ROWS;r++)this.getSymbolAt(t,n,r)===e&&s++;i.push(s)}return i},n.analyzeWinPath=function(t,e){for(var i=0,n=1,s=0;s<t.length&&t[s]>0;s++)i++,n*=t[s];if(i>0){var r=Math.min(i-1,e.payoutMultipliers.length-1),a=e.payoutMultipliers[r];if(a>0)return{isWin:!0,ways:n,multiplier:a,consecutiveCols:i}}return{isWin:!1,ways:0,multiplier:0,consecutiveCols:0}},n.markWinningPositions=function(t,e,i,n){for(var s=0;s<i;s++)for(var r=0;r<this.GRID_ROWS;r++)this.getSymbolAt(t,s,r)===e&&n.add(this.getIndex(s,r))},n.detectFarmerStack=function(t){for(var e=this.getSymbolName(r.Girl),i=[],n=0;n<this.GRID_COLS;n++){for(var s=!0,a=0;a<this.GRID_ROWS;a++)if(this.getSymbolAt(t,n,a)!==e){s=!1;break}s&&i.push(n)}return i},n.detectFreeGame=function(t){for(var e=Array.isArray(t)?t:t.gridResult,i=this.getSymbolName(r.Scale),n=0,s=0;s<e.length;s++)if(e[s]===i&&++n>=3)return!0;return!1},n.convertWinPositionsToBitArray=function(t,e){var i=new Array(e).fill(0);return t.forEach((function(t){t>=0&&t<e&&(i[t]=1)})),i},n.getSymbolName=function(t){var e;return((e={})[r.Orange]="A",e[r.Banana]="B",e[r.Grapes]="C",e[r.Soursop]="D",e[r.Watermelon]="E",e[r.Durian]="F",e[r.Scale]="S",e[r.Girl]="J",e[r.Coin]="G",e)[t]||"Girl"},i(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/SplashScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./index2.ts","./BaseScreen.ts","./PopupConfig.ts","./GameApiManager.ts","./LoadingOverlay.ts","./ScreenManager.ts","./ScreenConfig.ts"],(function(n){var e,t,i,r,o,a,c,s,u,l,p,h,f,y,g,L,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized,o=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){c=n.cclegacy,s=n._decorator,u=n.Node,l=n.Button},null,null,function(n){p=n.BaseScreen},function(n){h=n.PopupType},function(n){f=n.GameApiManager},function(n){y=n.LoadingOverlay,g=n.LoadingMode},function(n){L=n.ScreenManager},function(n){d=n.ScreenType}],execute:function(){var S,b,P,v,C,I,w;c._RF.push({},"94ee3EwZbhMqbtUt8JYgAZX","SplashScreen",void 0);var T=s.ccclass,k=s.property;n("SplashScreen",(S=T("SplashScreen"),b=k(u),P=k(u),S((I=e((C=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,i(e,"btnPlay",I,r(e)),i(e,"btnLogin",w,r(e)),e}t(e,n);var c=e.prototype;return c.onLoad=function(){n.prototype.onLoad.call(this),this.btnPlay.on(l.EventType.CLICK,this.onPlayClicked,this),this.btnLogin.on(l.EventType.CLICK,this.onLoginClicked,this)},c.cleanup=function(){n.prototype.cleanup.call(this),this.btnPlay.off(l.EventType.CLICK,this.onPlayClicked,this),this.btnLogin.off(l.EventType.CLICK,this.onLoginClicked,this)},c.onPlayClicked=function(){var n=o(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!f.instance.isLoginSuccess){n.next=6;break}return y.show(g.SIMPLE),n.next=4,L.Instance.showScreen(d.MAIN).then((function(){y.hide()}));case 4:n.next=7;break;case 6:this.PopupManager.showPopup(h.GENERIC_POPUP,{content:this.getLocalizeStringByKey("NOTIFY__LOGIN_FIRST"),confirmText:this.getLocalizeStringByKey("BUTTON__OK")});case 7:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.onLoginClicked=function(){var n=o(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y.show(g.SIMPLE),n.next=3,L.Instance.showScreen(d.LOGIN).then((function(){y.hide()}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e}(p)).prototype,"btnPlay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"btnLogin",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/SubUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./MenuPanel.ts","./PopupConfig.ts","./ScreenManager.ts","./ScreenConfig.ts","./GlobalDataManager.ts","./RGPComponent.ts"],(function(n){var e,t,o,i,r,a,l,u,c,s,p,f,h,C;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Node,u=n.Button},null,function(n){c=n.MenuPanel},function(n){s=n.PopupType},function(n){p=n.ScreenManager},function(n){f=n.ScreenType},function(n){h=n.DATA_STORE_KEY},function(n){C=n.RGPComponent}],execute:function(){var b,g,y,I,M,T,m,P,E,_,S;r._RF.push({},"8d52e0laudOTKrJ0Gct+XVO","SubUIManager",void 0);var L=a.ccclass,v=a.property;n("SubUIManager",(b=L("SubUIManager"),g=v(l),y=v(l),I=v(l),M=v(c),b((P=e((m=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,o(e,"btnHome",P,i(e)),o(e,"btnMenu",E,i(e)),o(e,"btnInfo",_,i(e)),o(e,"menuPanel",S,i(e)),e}t(e,n);var r=e.prototype;return r.onLoad=function(){n.prototype.onLoad.call(this),this.btnHome.on(u.EventType.CLICK,this.onClickHome,this),this.btnMenu.on(u.EventType.CLICK,this.onClickMenu,this),this.btnInfo.on(u.EventType.CLICK,this.onClickInfo,this)},r.cleanup=function(){var n,e,t;null==(n=this.btnHome)||n.off(u.EventType.CLICK,this.onClickHome,this),null==(e=this.btnMenu)||e.off(u.EventType.CLICK,this.onClickMenu,this),null==(t=this.btnInfo)||t.off(u.EventType.CLICK,this.onClickInfo,this)},r.onClickHome=function(){this.PopupManager.showPopup(s.GENERIC_POPUP,{showCancel:!0,showConfirm:!0,content:this.getLocalizeStringByKey("NOTIFY__EXIT_GAME"),confirmText:this.getLocalizeStringByKey("BUTTON__CONFIRM_EXIT"),cancelText:this.getLocalizeStringByKey("BUTTON__CANCEL_EXIT"),onConfirm:function(){p.Instance.showScreen(f.SPLASH)}})},r.onClickMenu=function(){this.menuPanel.showMenuPanel(!0)},r.onClickInfo=function(){this.PopupManager.showPopup(s.GAME_RULE,{configMultiply:this.GlobalDataManager.getDataStore(h.GAME_CONFIG)})},e}(C)).prototype,"btnHome",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(m.prototype,"btnMenu",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(m.prototype,"btnInfo",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(m.prototype,"menuPanel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=m))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolConfig.ts",["cc","./GameConstants.ts"],(function(l){var o,t;return{setters:[function(l){o=l.cclegacy},function(l){t=l.ESlotSymbol}],execute:function(){o._RF.push({},"2b82dWYR8NPsJ4VIGQ+N47u","SymbolConfig",void 0);l("SYMBOL_ID_MAP",{A:t.Orange,B:t.Banana,C:t.Grapes,D:t.Soursop,E:t.Watermelon,F:t.Durian,S:t.Scale,J:t.Girl}),l("SYMBOL_PAYOUTS",[{symbol:t.Girl,payoutMultipliers:[0,.25,.35,.5,.6]},{symbol:t.Scale,payoutMultipliers:[0,0,2,10,30]},{symbol:t.Durian,payoutMultipliers:[0,0,.25,.45,.75]},{symbol:t.Watermelon,payoutMultipliers:[0,0,.35,.5,.6]},{symbol:t.Soursop,payoutMultipliers:[0,0,.15,.3,.5]},{symbol:t.Grapes,payoutMultipliers:[0,0,.1,.2,.3]},{symbol:t.Banana,payoutMultipliers:[0,0,.05,.15,.25]},{symbol:t.Orange,payoutMultipliers:[0,0,.05,.1,.2]}]),l("SYMBOL_IDS",["A","B","C","D","E","F","S","J","G"]);o._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolInformation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./MultipleWinItem.ts","./GlobalDataManager.ts","./GameUtils.ts","./RGPComponent.ts"],(function(i){var t,n,e,o,a,l,r,s,c,u,m,p,h,f,y;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,l=i._decorator,r=i.Node,s=i.sp,c=i.Tween,u=i.tween,m=i.Vec3},null,function(i){p=i.MultipleWinItem},function(i){h=i.DATA_STORE_KEY},function(i){f=i.GameUtils},function(i){y=i.RGPComponent}],execute:function(){var d,b,v,S,A,g,w,I,T,_,W;a._RF.push({},"c16250pillNFKfTorNyn+kQ","SymbolInformation",void 0);var D=l.ccclass,M=l.property,E="anim_active",G="anim_click";i("SymbolInformation",(d=D("SymbolInformation"),b=M(r),v=M(s.Skeleton),S=M(r),A=M(p),d((I=t((w=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=i.call.apply(i,[this].concat(a))||this,e(t,"overlay",I,o(t)),e(t,"anim",T,o(t)),e(t,"symbol",_,o(t)),e(t,"multipleWin",W,o(t)),t.mapSymbolSpine={},t.canHide=!1,t}n(t,i);var a=t.prototype;return a.onLoad=function(){i.prototype.onLoad.call(this),this.init(),this.reset()},a.init=function(){var i=this;this.anim.setCompleteListener((function(t){t.animation.name===G&&t.timeScale>0&&i.showInfo()})),this.overlay.on(r.EventType.TOUCH_END,this.hideAnimInfo,this),this.symbol.children.forEach((function(t){i.mapSymbolSpine[t.name]=t.getComponent(s.Skeleton)}))},a.showAnimInfo=function(i,t){this.node.active=!0,this.canHide=!1,this.reset(),this.setPosition(i),this.runAnim(),this.setMultiply(t),this.runAnimSymbol(t)},a.hideAnimInfo=function(){var i=this;if(this.canHide){this.canHide=!1,this.multipleWin.node.active=!1;var t=this.anim.setAnimation(0,G,!1);t?(t.trackTime=t.animation.duration,t.timeScale=-3,this.scheduleOnce((function(){i.node.active=!1}),t.animation.duration/3)):this.node.active=!1}},a.runAnim=function(){this.anim.setAnimation(0,G,!1).timeScale=3,this.anim.addAnimation(0,E,!0)},a.runAnimSymbol=function(i){this.mapSymbolSpine[i]&&(this.mapSymbolSpine[i].node.active=!0,this.mapSymbolSpine[i].setAnimation(0,"anim_reward",!0))},a.setMultiply=function(i){var t=this.GlobalDataManager.getDataStore(h.GAME_CONFIG)[i];t&&this.multipleWin.setMultipleWin(t),this.multipleWin.node.active=!1},a.showInfo=function(){var i=this;this.multipleWin.node.active=!0;var t=this.TweenService.getTweenComponent(this.multipleWin.node);t.opacity=0,c.stopAllByTarget(t),this.startTween(u(t).to(.35,{opacity:255}).call((function(t){t.opacity=255,i.canHide=!0})))},a.setPosition=function(i){var t=m.ZERO;i&&(t=f.convertPositionAnotherNode(this.node,i)),this.node.setPosition(t)},a.reset=function(){this.symbol.children.forEach((function(i){return i.active=!1}))},t}(y)).prototype,"overlay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(w.prototype,"anim",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(w.prototype,"symbol",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(w.prototype,"multipleWin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolPayout.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a15e2ghKwNGQpFHiy8wvSl6","SymbolPayout",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/TimeConfig.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"2d2d0tZ1llBU6VYvUxKcKR7","TimeConfig",void 0);var R,N=(_({TimeConfig:R=function(){},default:R}),R);N.DUR_TWEEN_MONEY=.5,N.HIDE_SKIP_REWARD=.35,N.DUR_SHOW_RESULT=.01,N.DELAY_FINISH_SPIN=1,N.DUR_ANIM_RESULT=5,N.DELAY_ENABLE_SKIP_REWARD=.25,N.DUR_ANIM_GOT_FREE_GAME=2,N.DUR_ENTER_FREE_GAME=2,N.DUR_COLLECT_STACK=1.5,N.DUR_SETUP_FREE_GAME_LEVEL=2,N.DUR_START_FREE_GAME_LEVEL=.3,N.DUR_FREE_GAME_SPIN_COLUMNS=.01,N.DUR_FREE_GAME_SPIN=.01,N.DUR_RESPIN_CONTINUE=.1,N.DUR_FREE_GAME_WIN=2,N.DUR_EXIT_FREE_GAME=1,N.DUR_SPIN_PER_STEP=.06,N.DUR_SPIN_END_RESULT=.1,N.DUR_SPIN_NEAR_WIN=.1,N.DUR_SPIN_END_NEAR_WIN=.15,N.DUR_SPIN_SPEED_UP=.02,N.DUR_FINISH_SPIN=.2,N.DUR_START_SPIN=.1,N.MIN_SPINNING=2,N.DUR_BIG_WIN=2,N.DELAY_HIDE_BIG_WIN=.5,N.DUR_HIDE=.5,N.DUR_BIG_WIN_SCALE_IN=.25,N.DUR_BIG_WIN_SCALE_OUT=.25,N.DUR_NORMAL_WIN=1,N.DELAY_HIDE_NORMAL_WIN=.5,N.DUR_FREE_GAME_EFFECT=1,N.DUR_FARMER_MOVE=.5,N.DUR_FARMER_SHOW=.3,N.DUR_PANEL_SHOW=.25,N.DUR_PANEL_HIDE=.25,N.TIME_HOLDING=2,N.BUTTON_ANIM_SPEED=3,N.DELAY_OFFLINE_RESPONSE=1e3,N.INTERVAL_AUTO_SPIN=1e3,N.DUR_TABLE_SCALE=.5,N.DUR_LEVEL_STACK_SHOW=.3,N.DUR_LEVEL_STACK_HIDE=.3,N.DUR_SHOW_ANY_PANEL=.3,N.DUR_HIDE_ANY_PANEL=.3,E._RF.pop()}}}));

System.register("chunks:///_virtual/TweenAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,s,o,i,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,s=e.Vec3,o=e.tween,i=e.easing,a=e.Component}],execute:function(){var c;t._RF.push({},"87fa1JDgLBI+Y0HdZzxzNK4","TweenAnimator",void 0);var l=r.ccclass,u=s.ONE,h=s.ZERO;e("TweenAnimator",l("TweenAnimator")(c=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this).currentTween=null,n}n(t,e);var r=t.prototype;return r.playHighlightAnim=function(){this.stop();var e=this.node;if(e){var n=o(e).to(.22,{scale:u},{easing:i.backOut}).to(.11,{scale:new s(.9,.9,.9)}).then(o().repeat(4,o().by(.048,{eulerAngles:new s(0,0,4.2)}).by(.088,{eulerAngles:new s(0,0,-8.4)}).by(.048,{eulerAngles:new s(0,0,4.2)}))).delay(.1);this.currentTween=o(e).repeat(1/0,n).start()}},r.playIdleAnim=function(e){void 0===e&&(e=0),this.stop();var n=this.node;n&&(e>0?this.currentTween=o(n).to(e,{scale:u,eulerAngles:h},{easing:i.backInOut}).start():(n.setScale(u),n.eulerAngles=h))},r.stop=function(){this.currentTween&&(this.currentTween.stop(),this.currentTween=null),this.node.setScale(u),this.node.eulerAngles=h},r.onDisable=function(){this.stop()},r.onDestroy=function(){this.stop()},t}(a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/TweenComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,i,s,c,p;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,i=t.UIOpacity,s=t.Label,c=t.UITransform,p=t.Component}],execute:function(){o._RF.push({},"078b6+hsQZJpLZlCCNX6NE+","TweenComponent",void 0);t("TweenComponent",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var p=o.prototype;return p.safeOpacityComp=function(){this.node.getComponent(i)||this.node.addComponent(i)},p.safeLabelComp=function(){this.node.getComponent(s)||this.node.addComponent(s)},e(o,[{key:"string",get:function(){return this.safeLabelComp(),this.node.getComponent(s).string},set:function(t){this.safeLabelComp(),this.node.getComponent(s).string=t}},{key:"opacity",get:function(){return this.safeOpacityComp(),this.node.getComponent(i).opacity},set:function(t){this.safeOpacityComp(),this.node.getComponent(i).opacity=t}},{key:"scale",get:function(){return this.node.scale.clone()},set:function(t){this.node.scale=t}},{key:"position",get:function(){return this.node.position.clone()},set:function(t){this.node.position=t}},{key:"size",get:function(){return this.node.getComponent(c).contentSize},set:function(t){this.node.getComponent(c).contentSize=t}}]),o}(p));o._RF.pop()}}}));

System.register("chunks:///_virtual/TweenInfo.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"ba74d2N6HFForVxoxsYz8yn","TweenInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/TweenService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenComponent.ts","./RGPUtils.ts"],(function(e){var n,t,o,a,i,s,r,c;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,o=e.Node,a=e.Tween,i=e.easing,s=e.tween},function(e){r=e.TweenComponent},function(e){c=e.RGPUtils}],execute:function(){t._RF.push({},"854d1SERg5FR7S0Q+oiM2kW","TweenService",void 0),e("TweenService",function(){function e(){this.mapTweenByIdx=new Map,this.mapNodeTweens=new Map,this.tweenIdx=0}var t=e.prototype;return t.startTween=function(e,n,t,a){var i=this;void 0===a&&(a=!1);var s=this.tweenIdx++,r=e.uuid;a||n.call((function(){i.onTweenComplete(s,t)}));var c={tween:n,node:e,tweenIdx:s,onComplete:t};return this.mapTweenByIdx.set(s,c),this.mapNodeTweens.has(r)||this.mapNodeTweens.set(r,[]),this.mapNodeTweens.get(r).push(s),n.start(),e.once(o.EventType.NODE_DESTROYED,(function(){return i.clearNodeTweens(e)})),n},t.onTweenComplete=function(e,n){var t=this.mapTweenByIdx.get(e);if(t){var o=t.node.uuid;this.mapTweenByIdx.delete(e);var a=this.mapNodeTweens.get(o);if(a){var i=a.indexOf(e);-1!==i&&a.splice(i,1),0===a.length&&this.mapNodeTweens.delete(o)}var s=n||t.onComplete;s&&s()}else console.warn("[TweenService] Tween "+e+" not found in map")},t.clearNodeTweens=function(e){var n=this,t=e.uuid,o=this.mapNodeTweens.get(t);o&&(o.forEach((function(e){var t=n.mapTweenByIdx.get(e);t&&(t.tween.stop(),n.mapTweenByIdx.delete(e))})),this.mapNodeTweens.delete(t)),a.stopAllByTarget(e)},t.clearAllTween=function(){this.mapTweenByIdx.forEach((function(e){e.tween.stop()})),this.mapTweenByIdx.clear(),this.mapNodeTweens.clear()},t.getTweenComponent=function(e){return e.getComponent(r)||e.addComponent(r),e.getComponent(r)},t.tweenMoney=function(e,n,t,o){void 0===t&&(t=function(){});var a=this.getTweenComponent(e),r=n.from,u=n.easing,l=n.to,w=n.duration,d=n.delayComplete,p=n.delayStart;o&&this.clearNodeTweens(e);var T={curValue:r},m=u||i.sineInOut;return this.startTween(e,s(T).delay(p).to(w,{curValue:l},{easing:m,onUpdate:function(e){var t=e.curValue;n.isFormatFullMoney?a.string=c.Instance.formatFullMoney(t):a.string=c.Instance.formatShortMoney(t),n.onTweening&&n.onTweening(t)}}).delay(d).call((function(){t&&t()})).start())},n(e,null,[{key:"Instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/UILoginController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginManager.ts","./GameApiManager.ts","./GameNetworkManager.ts","./APIHandler.ts"],(function(t){var e,n,r,i,a,s,o,l,u,c,p,g,m,b,h,f,d,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,l=t._decorator,u=t.EditBox,c=t.Button,p=t.Label,g=t.sys,m=t.Component,b=t.director},function(t){h=t.LoginManager},function(t){f=t.GameApiManager},function(t){d=t.default},function(t){w=t.APIHandler}],execute:function(){var y,L,v,I,E,P,S,x,C,z,R,M,N,k,A;o._RF.push({},"8493bLivvxJxKDtH/p4kD3e","UILoginController",void 0);var D=l.ccclass,T=l.property;t("UILoginController",(y=D("UILoginController"),L=T(u),v=T(u),I=T(u),E=T(c),P=T(c),S=T(p),y((z=e((C=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,r(e,"inputName",z,i(e)),r(e,"inputEmail",R,i(e)),r(e,"inputPassword",M,i(e)),r(e,"btnLogin",N,i(e)),r(e,"btnRegister",k,i(e)),r(e,"lbError",A,i(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;null!=g.localStorage.getItem("email")&&(this.inputEmail.string=g.localStorage.getItem("email"),this.inputPassword.string=g.localStorage.getItem("password"),this.inputName.string=g.localStorage.getItem("username")),this.btnLogin.node.on(c.EventType.CLICK,(function(){t.login()})),this.btnRegister.node.on(c.EventType.CLICK,(function(){t.register()}))},o.login=function(){var t=a(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.btnLogin.interactable=!1,t.next=3,h.instance.login({emailOrUsername:this.inputEmail.string,password:this.inputPassword.string,rememberMe:!0});case 3:(e=t.sent).success?this.onLoginSuccess():this.lbError.string=e.message,this.btnLogin.interactable=!0;case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.register=function(){var t=a(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.btnRegister.interactable=!1,t.next=3,h.instance.register({name:this.inputName.string,email:this.inputEmail.string,username:this.inputName.string,password:this.inputPassword.string,confirmPassword:this.inputPassword.string,acceptTerms:!0});case 3:(e=t.sent).success?this.onLoginSuccess():this.lbError.string=e.message,this.btnRegister.interactable=!0;case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onLoginSuccess=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.localStorage.setItem("password",this.inputPassword.string),g.localStorage.setItem("email",this.inputEmail.string),g.localStorage.setItem("username",this.inputName.string),t.next=5,f.instance.getBalance();case 5:return t.next=7,d.instance.connect(w.instance.jwt);case 7:b.loadScene("main");case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(m)).prototype,"inputName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(C.prototype,"inputEmail",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(C.prototype,"inputPassword",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(C.prototype,"btnLogin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(C.prototype,"btnRegister",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(C.prototype,"lbError",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=C))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/VConsoleMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,i,e,s;return{setters:[function(n){o=n.createClass},function(n){t=n.cclegacy,i=n.sys,e=n.warn,s=n.log}],execute:function(){t._RF.push({},"0b711A+9cxGJ5PHMyup33Xw","VConsoleMgr",void 0),n("VConsoleManager",function(){function n(){this._vConsoleInstance=null,this._isLoading=!1,this.CDN_URL="https://unpkg.com/vconsole@3.15.1/dist/vconsole.min.js"}var t=n.prototype;return t.setVisible=function(n){i.isBrowser?n?this.enable():this.disable():e("[VConsoleManager] VConsole only supports web/browser platforms.")},t.enable=function(){this._vConsoleInstance||(window.VConsole?this.initInstance():this.loadScript())},t.disable=function(){this._vConsoleInstance&&(this._vConsoleInstance.destroy(),this._vConsoleInstance=null,s("[VConsoleManager] Disabled"))},t.initInstance=function(){try{var n=window.VConsole;n&&(this._vConsoleInstance=new n({theme:"dark"}),s("[VConsoleManager] Enabled Success"))}catch(n){e("[VConsoleManager] Init Error:",n)}},t.loadScript=function(){var n=this;if(!this._isLoading){this._isLoading=!0,s("[VConsoleManager] Start loading script from CDN...");var o=i.loadScriptDynamic;"function"==typeof o?o(this.CDN_URL,(function(o){n._isLoading=!1,o?e("[VConsoleManager] Failed to load script. Check internet connection.",o):(s("[VConsoleManager] Script loaded!"),n.initInstance())})):(this._isLoading=!1,e("[VConsoleManager] loadScriptDynamic API not available. Falling back to manual script injection."),this.loadScriptManual())}},t.loadScriptManual=function(){var n=this;if(!this._isLoading){this._isLoading=!0,s("[VConsoleManager] Loading script manually...");var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=this.CDN_URL,o.onload=function(){n._isLoading=!1,s("[VConsoleManager] Script loaded!"),n.initInstance()},o.onerror=function(){n._isLoading=!1,e("[VConsoleManager] Failed to load script. Check internet connection.")},document.head.appendChild(o)}},o(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/WebSocketClient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Emitter.ts"],(function(e){var t,n,s,o,i,r,c;return{setters:[function(e){t=e.extends,n=e.createForOfIteratorHelperLoose,s=e.createClass,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){c=e.default}],execute:function(){r._RF.push({},"a1b2cPUERFAAYdAEjRWeJCr","WebSocketClient",void 0);var a={autoReconnect:!0,reconnectDelay:1e3,maxReconnectDelay:3e4,maxReconnectAttempts:1/0,heartbeatInterval:2e4,heartbeatTimeout:1e4,debug:!1},h=Number.MAX_SAFE_INTEGER;e("default",function(){function e(e){this.options=void 0,this.ws=void 0,this.emitter=new c,this.reconnectAttempts=0,this.isManuallyClosed=!1,this.connectPromise=void 0,this.connectResolve=void 0,this.connectReject=void 0,this.messageQueue=[],this.requestIdCounter=1,this.pendingRequests=new Map,this.heartbeatTimer=void 0,this.heartbeatTimeoutTimer=void 0,this.reconnectTimer=void 0,this.onOpenHandler=void 0,this.onMessageHandler=void 0,this.onCloseHandler=void 0,this.onErrorHandler=void 0,this.options=t({},a,e),this.validateOptions()}var r=e.prototype;return r.connect=function(){var e=o(i().mark((function e(){var t,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnecting()&&!this.isConnected){e.next=3;break}return this.log("Already connected or connecting"),e.abrupt("return",null!=(t=this.connectPromise)?t:Promise.resolve());case 3:if(!this.connectPromise){e.next=5;break}return e.abrupt("return",this.connectPromise);case 5:return this.isManuallyClosed=!1,this.connectPromise=new Promise((function(e,t){n.connectResolve=e,n.connectReject=t;try{n.log("Connecting to:",n.options.url),n.createWebSocket(),n.attachWebSocketHandlers()}catch(e){n.log("Connection error:",e),n.connectPromise=void 0,t(e)}})),e.abrupt("return",this.connectPromise);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.send=function(e){if(!this.ws||1!==this.ws.readyState)return this.messageQueue.length>=1e3&&(this.log("Message queue full, dropping oldest message"),this.messageQueue.shift()),this.log("Not connected, queueing message"),void this.messageQueue.push(e);this.sendInternal(e)},r.emit=function(e,t){var n={event:e,data:null!=t?t:{}};this.send(JSON.stringify(n))},r.request=function(e,t){var n=this;if(void 0===t&&(t=15e3),!this.isConnected)return Promise.reject(new Error("Not connected"));this.requestIdCounter>=h&&(this.requestIdCounter=1);var s=this.requestIdCounter++,o={__req:!0,__id:s,data:e};return new Promise((function(e,i){var r=setTimeout((function(){n.pendingRequests.get(s)&&(n.pendingRequests.delete(s),i(new Error("Request timeout after "+t+"ms")))}),t);n.pendingRequests.set(s,{resolve:e,reject:i,timeoutId:r});try{n.send(JSON.stringify(o))}catch(e){n.pendingRequests.delete(s),clearTimeout(r),i(e)}}))},r.close=function(e,t){if(void 0===e&&(e=1e3),this.isManuallyClosed=!0,this.clearReconnectTimer(),this.stopHeartbeat(),this.clearPendingRequests(),this.connectReject&&(this.connectReject(new Error("Connection closed manually")),this.connectResolve=void 0,this.connectReject=void 0),this.connectPromise=void 0,this.ws&&this.isConnectionActive())try{this.ws.close(e,t)}catch(e){this.log("Error closing WebSocket:",e)}this.removeWebSocketHandlers(),this.ws=void 0,this.reconnectAttempts=0,this.emitter.emit("closed",{code:e,reason:t})},r.on=function(e,t){return this.emitter.on(e,t)},r.off=function(e,t){this.emitter.off(e,t)},r.setAuthToken=function(e){this.options=t({},this.options,{auth:t({},this.options.auth,{token:e})})},r.destroy=function(){this.close(),this.removeWebSocketHandlers(),this.emitter.clear(),this.messageQueue=[],this.clearPendingRequests()},r.validateOptions=function(){if(!this.options.url)throw new Error("WebSocket URL is required");var e=this.options.url;if(0!==e.indexOf("ws://")&&0!==e.indexOf("wss://"))throw new Error("WebSocket URL must start with ws:// or wss://");if(this.options.reconnectDelay<0)throw new Error("reconnectDelay must be >= 0");if(this.options.maxReconnectDelay<this.options.reconnectDelay)throw new Error("maxReconnectDelay must be >= reconnectDelay")},r.log=function(){if(this.options.debug){for(var e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];(e=console).log.apply(e,["[NetworkClient]"].concat(n))}},r.isConnecting=function(){var e;return 0===(null==(e=this.ws)?void 0:e.readyState)},r.isConnectionActive=function(){var e,t=null==(e=this.ws)?void 0:e.readyState;return 1===t||0===t},r.createWebSocket=function(){try{var e=this.options.url.replace(/token=[^&]+/,"token=***");if(this.log("Creating WebSocket with URL:",e),"undefined"==typeof WebSocket)throw new Error("WebSocket is not supported in this environment");var t=this.options.url.trim();if(!t)throw new Error("WebSocket URL is empty");if(0!==t.indexOf("ws://")&&0!==t.indexOf("wss://"))throw new Error("Invalid WebSocket URL protocol: "+t.substring(0,10));if(this.ws=this.options.protocols?new WebSocket(t,this.options.protocols):new WebSocket(t),!this.ws)throw new Error("Failed to create WebSocket instance");this.log("WebSocket created successfully, setting binaryType");try{this.ws.binaryType="arraybuffer"}catch(e){this.log("Warning: Could not set binaryType, trying blob");try{this.ws.binaryType="blob"}catch(e){this.log("Warning: Could not set binaryType at all")}}this.log("WebSocket ready state:",this.ws.readyState)}catch(e){throw this.log("Error creating WebSocket:",e),e}},r.attachWebSocketHandlers=function(){var e=this;if(this.ws)try{this.onOpenHandler=function(){e.log("Connection established"),e.reconnectAttempts=0,e.emitter.emit("open"),e.flushMessageQueue(),e.startHeartbeat(),e.connectResolve&&(e.connectResolve(),e.connectResolve=void 0,e.connectReject=void 0,e.connectPromise=void 0)},this.onMessageHandler=function(t){e.handleMessage(t)},this.onCloseHandler=function(t){e.log("Connection closed ["+t.code+"]: "+(t.reason||"No reason")),e.emitter.emit("close",t),e.stopHeartbeat(),e.removeWebSocketHandlers(),e.connectReject&&!e.isManuallyClosed&&(e.connectReject(new Error("Connection closed: "+(t.reason||"Code "+t.code))),e.connectResolve=void 0,e.connectReject=void 0,e.connectPromise=void 0),!e.isManuallyClosed&&e.options.autoReconnect&&e.scheduleReconnect()},this.onErrorHandler=function(t){e.log("Connection error:",t),e.emitter.emit("error",t),e.connectReject&&!e.isManuallyClosed&&(e.connectReject(new Error("WebSocket connection error")),e.connectResolve=void 0,e.connectReject=void 0,e.connectPromise=void 0)},this.log("Attaching WebSocket event handlers"),this.ws.onopen=this.onOpenHandler,this.ws.onmessage=this.onMessageHandler,this.ws.onclose=this.onCloseHandler,this.ws.onerror=this.onErrorHandler,this.log("Event handlers attached successfully")}catch(e){throw this.log("Error attaching WebSocket handlers:",e),e}else this.log("Cannot attach handlers: WebSocket instance is null")},r.removeWebSocketHandlers=function(){this.ws&&(this.ws.onopen=null,this.ws.onmessage=null,this.ws.onclose=null,this.ws.onerror=null,this.onOpenHandler=void 0,this.onMessageHandler=void 0,this.onCloseHandler=void 0,this.onErrorHandler=void 0)},r.scheduleReconnect=function(){var e,t=this,n=null!=(e=this.options.maxReconnectAttempts)?e:1/0;if(this.reconnectAttempts>=n)return this.log("Max reconnect attempts ("+n+") reached"),void this.emitter.emit("reconnect_failed");this.reconnectAttempts++;var s=this.calculateReconnectDelay();this.log("Scheduling reconnect in "+Math.round(s)+"ms (attempt "+this.reconnectAttempts+"/"+n+")"),this.reconnectTimer=setTimeout((function(){t.isManuallyClosed||(t.emitter.emit("reconnecting",t.reconnectAttempts),t.connect().catch((function(e){t.log("Reconnect failed:",e)})))}),s)},r.calculateReconnectDelay=function(){var e,t,n=null!=(e=this.options.reconnectDelay)?e:1e3,s=null!=(t=this.options.maxReconnectDelay)?t:3e4,o=300*Math.random(),i=Math.pow(2,this.reconnectAttempts-1)*n;return Math.min(s,i+o)},r.clearReconnectTimer=function(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0)},r.flushMessageQueue=function(){if(this.ws&&1===this.ws.readyState){var e=this.messageQueue.length;if(0!==e)for(this.log("Flushing "+e+" queued messages");this.messageQueue.length>0;){var t=this.messageQueue.shift();if(t)try{this.sendInternal(t)}catch(e){this.log("Error sending queued message:",e),this.messageQueue.unshift(t);break}}}},r.sendInternal=function(e){if(this.ws&&1===this.ws.readyState)try{var t="string"==typeof e?e.substring(0,100):"["+e.byteLength+" bytes]";this.log("Sending message:",t),this.ws.send(e)}catch(t){throw this.log("Send error:",t),this.messageQueue.unshift(e),t}else this.log("Cannot send: WebSocket not open")},r.handleMessage=function(e){this.resetHeartbeatTimeout();var t=e.data;this.emitter.emit("message",t,e),this.log("<handleMessage> Message received: "+t),"string"==typeof t&&this.handleJsonMessage(t)},r.handleJsonMessage=function(e){try{var t=JSON.parse(e);if(this.isResponseMessage(t))return void this.handleResponseMessage(t);t.event&&this.emitter.emit(t.event,t.data)}catch(e){this.log("Failed to parse message as JSON:",e)}},r.isResponseMessage=function(e){return!(!e.__resp||"number"!=typeof e.__id)},r.handleResponseMessage=function(e){var t=e.__id,n=this.pendingRequests.get(t);if(n){clearTimeout(n.timeoutId),this.pendingRequests.delete(t);try{n.resolve(e.data)}catch(e){this.log("Error in request resolve callback:",e)}}else this.log("Received response for unknown request ID: "+t)},r.startHeartbeat=function(){var e,t=this;this.stopHeartbeat();var n=null!=(e=this.options.heartbeatInterval)?e:2e4;!n||n<=0?this.log("Heartbeat disabled"):(this.log("Starting heartbeat (interval: "+n+"ms, timeout: "+this.options.heartbeatTimeout+"ms)"),this.heartbeatTimer=setInterval((function(){t.sendHeartbeat()}),n))},r.sendHeartbeat=function(){var e=this;if(this.ws&&1===this.ws.readyState)try{var t;this.ws.send(JSON.stringify({event:"PING",data:{}}));var n=null!=(t=this.options.heartbeatTimeout)?t:1e4;this.heartbeatTimeoutTimer=setTimeout((function(){e.log("Heartbeat timeout - no response from server, closing connection");try{e.ws&&e.ws.close()}catch(t){e.log("Error closing connection on heartbeat timeout:",t)}}),n)}catch(e){this.log("Error sending heartbeat:",e)}},r.resetHeartbeatTimeout=function(){this.heartbeatTimeoutTimer&&(clearTimeout(this.heartbeatTimeoutTimer),this.heartbeatTimeoutTimer=void 0)},r.stopHeartbeat=function(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0),this.heartbeatTimeoutTimer&&(clearTimeout(this.heartbeatTimeoutTimer),this.heartbeatTimeoutTimer=void 0)},r.clearPendingRequests=function(){if(0!==this.pendingRequests.size){this.log("Clearing "+this.pendingRequests.size+" pending requests");for(var e,t=new Error("Connection closed"),s=n(this.pendingRequests.entries());!(e=s()).done;){var o=e.value,i=(o[0],o[1]);clearTimeout(i.timeoutId);try{i.reject(t)}catch(e){this.log("Error rejecting pending request:",e)}}this.pendingRequests.clear()}},s(e,[{key:"readyState",get:function(){var e,t;return null!=(e=null==(t=this.ws)?void 0:t.readyState)?e:3}},{key:"isConnected",get:function(){var e;return 1===(null==(e=this.ws)?void 0:e.readyState)}},{key:"queuedMessageCount",get:function(){return this.messageQueue.length}},{key:"pendingRequestCount",get:function(){return this.pendingRequests.size}},{key:"reconnectAttemptsCount",get:function(){return this.reconnectAttempts}}]),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/WinEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./Events.ts","./RGPComponent.ts"],(function(e){var n,t,i,o,s,r,l,c,a,u,h,d,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,l=e.Label,c=e.Node,a=e.tween,u=e.Vec3,h=e.easing},null,function(e){d=e.GLOBAL_EVENTS},function(e){p=e.RGPComponent}],execute:function(){var f,w,v,m,b,y,T;s._RF.push({},"505060kmhROeYu06lIUWyyt","WinEffect",void 0);var g=r.ccclass,W=r.property;e("WinEffect",(f=g("WinEffect"),w=W(l),v=W(c),f((y=n((b=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,i(n,"lblWinAmount",y,o(n)),i(n,"overlay",T,o(n)),n.cbHide=null,n.curWinAmount=0,n.thresholdSkipping=0,n}t(n,e);var s=n.prototype;return s.onLoad=function(){var n=this;e.prototype.onLoad.call(this),this.overlay&&this.overlay.on(c.EventType.TOUCH_END,(function(){n.thresholdSkipping<=0&&(n.fireEvent(d.SKIP_REWARD),n.thresholdSkipping=1)}),this)},s.show=function(e,n,t){void 0===n&&(n={});var i=n,o=i.duration,s=void 0===o?2:o,r=i.delayShow,l=void 0===r?0:r,c=i.callback;this.node.active=!0,this.resetAnim(),this.cbHide=c,this.curWinAmount=e,this.showWinAmount(e,s,l)},s.showWinAmount=function(e,n,t){var i=this.TweenService.getTweenComponent(this.lblWinAmount.node);this.lblWinAmount.node.active=!0,this.tweenLabel(e,n),this.startTween(a(i).set({scale:u.ZERO}).delay(t).set({scale:new u(.3,.3,.3)}).to(.5,{scale:u.ONE},{easing:"backOut"}).call((function(e){e.scale=new u(1,1,1),e.opacity=255})))},s.tweenLabel=function(e,n){var t=this;this.TweenService.tweenMoney(this.lblWinAmount.node,{from:0,to:e,duration:n,isFormatFullMoney:!0,onTweening:function(e){t.customTweeningMoney(e)}})},s.customTweeningMoney=function(e){},s.hide=function(){var e=this,n=this.TweenService.getTweenComponent(this.node);this.startTween(a(n).to(.25,{scale:new u(.3,.3,.3)},{easing:h.backIn}).call((function(){e.node.active=!1,e.cbHide&&(e.cbHide(),e.cbHide=null)})))},s.skipRewardMoney=function(){this.node.active&&(this.TweenService.clearNodeTweens(this.node),this.TweenService.clearNodeTweens(this.lblWinAmount.node),this.TweenService.getTweenComponent(this.lblWinAmount.node).string=this.RGPUtils.formatFullMoney(this.curWinAmount))},s.resetAnim=function(){this.TweenService.clearNodeTweens(this.node),this.TweenService.clearNodeTweens(this.lblWinAmount.node),this.cbHide=null,this.curWinAmount=0,this.node.scale=u.ONE},s.update=function(e){this.thresholdSkipping>=0&&(this.thresholdSkipping-=e)},n}(p)).prototype,"lblWinAmount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(b.prototype,"overlay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/WinEffectControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Declaration.ts","./WinEffect.ts","./BigWinEffect.ts","./FreeGameWinEffect.ts","./JackpotWinEffect.ts","./RGPComponent.ts"],(function(i){var t,e,n,r,c,o,f,a,s,l,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){c=i.cclegacy,o=i._decorator},null,function(i){f=i.WinEffect},function(i){a=i.BigWinEffect},function(i){s=i.FreeGameWinEffect},function(i){l=i.JackpotWinEffect},function(i){u=i.RGPComponent}],execute:function(){var h,W,p,E,m,b,d,g,A,G,k;c._RF.push({},"b1669bF1S9L9If8Og8VDcJl","WinEffectControl",void 0);var y=o.ccclass,v=o.property,w=i("EWinType",function(i){return i[i.NORMAL=0]="NORMAL",i[i.BIG_WIN=1]="BIG_WIN",i[i.FREE_GAME=2]="FREE_GAME",i[i.JACKPOT=3]="JACKPOT",i}({}));i("WinEffectControl",(h=y("WinEffectControl"),W=v(f),p=v(a),E=v(s),m=v(l),h((g=t((d=function(i){function t(){for(var t,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return t=i.call.apply(i,[this].concat(c))||this,n(t,"normalWin",g,r(t)),n(t,"bigWin",A,r(t)),n(t,"freeGameWin",G,r(t)),n(t,"jackpotWin",k,r(t)),t.curEffect=null,t}e(t,i);var c=t.prototype;return c.onLoad=function(){i.prototype.onLoad.call(this)},c.showWinEffect=function(i,t,e,n){switch(void 0===e&&(e={}),this.hideAll(),i){case w.NORMAL:this.curEffect=this.normalWin,this.curEffect.show(t,e,n);break;case w.BIG_WIN:this.curEffect=this.bigWin,this.curEffect.show(t,e,n);break;case w.FREE_GAME:this.curEffect=this.freeGameWin,this.curEffect.show(t,e);break;case w.JACKPOT:this.curEffect=this.jackpotWin,this.curEffect.show(t,e,n)}},c.hideWinEffect=function(){this.curEffect&&this.curEffect.getComponent(f).hide()},c.hideAll=function(){this.normalWin&&(this.normalWin.node.active=!1),this.bigWin&&(this.bigWin.node.active=!1),this.freeGameWin&&(this.freeGameWin.node.active=!1),this.jackpotWin&&(this.jackpotWin.node.active=!1),this.curEffect=null},c.onSkipWin=function(){this.curEffect&&this.curEffect.node.active&&this.curEffect.skipRewardMoney()},c.resetAnim=function(){this.hideAll(),this.normalWin&&this.normalWin.resetAnim(),this.bigWin&&this.bigWin.resetAnim(),this.freeGameWin&&this.freeGameWin.resetAnim(),this.jackpotWin&&this.jackpotWin.resetAnim()},t}(u)).prototype,"normalWin",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(d.prototype,"bigWin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(d.prototype,"freeGameWin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(d.prototype,"jackpotWin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));c._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});